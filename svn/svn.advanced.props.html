<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>&#23646;&#24615;</title><link rel="stylesheet" href="styles.css"  type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.73.2"><link rel="start" href="index.html" title="&#20351;&#29992;Subversion&#36827;&#34892;&#29256;&#26412;&#25511;&#21046;"><link rel="up" href="svn.advanced.html" title="&#31532;&nbsp;3&nbsp;&#31456;&nbsp;&#39640;&#32423;&#20027;&#39064;"><link rel="prev" href="svn.advanced.html" title="&#31532;&nbsp;3&nbsp;&#31456;&nbsp;&#39640;&#32423;&#20027;&#39064;"><link rel="next" href="svn.advanced.props.file-portability.html" title="&#25991;&#20214;&#31227;&#26893;&#24615;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">&#23646;&#24615;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="svn.advanced.html" >&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center">&#31532;&nbsp;3&nbsp;&#31456;&nbsp;&#39640;&#32423;&#20027;&#39064;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="svn.advanced.props.file-portability.html" >&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="svn.advanced.props"></a>&#23646;&#24615;</h2></div></div></div><a class="indexterm" name="d0e3845"></a><p>&#25105;&#20204;&#24050;&#32463;&#35814;&#32454;&#35762;&#36848;&#20102;Subversion&#23384;&#20648;&#21644;&#26816;&#32034;&#29256;&#26412;&#24211;&#20013;&#19981;&#21516;&#29256;&#26412;&#30340;&#25991;&#20214;&#21644;&#30446;&#24405;&#30340;&#32454;&#33410;&#65292;&#24182;&#19988;&#29992;&#20102;&#22909;&#20960;&#20010;&#31456;&#33410;&#26469;&#35770;&#36848;&#36825;&#20010;&#24037;&#20855;&#30340;&#22522;&#26412;&#21151;&#33021;&#12290;&#22914;&#26524;&#23545;&#20110;&#29256;&#26412;&#21270;&#30340;&#25903;&#25345;&#21040;&#27492;&#20026;&#27490;&#65292;&#20174;&#29256;&#26412;&#25511;&#21046;&#30340;&#35282;&#24230;&#26469;&#30475;Subversion&#24050;&#32463;&#23436;&#25972;&#20102;&#12290;</p><p>&#20294;&#19981;&#20165;&#20165;&#22914;&#27492;&#12290;</p><p>&#20316;&#20026;&#30446;&#24405;&#21644;&#25991;&#20214;&#29256;&#26412;&#21270;&#30340;&#34917;&#20805;&#65292;Subversion&#25552;&#20379;&#20102;&#23545;&#27599;&#19968;&#20010;&#29256;&#26412;&#21270;&#30340;&#30446;&#24405;&#21644;&#25991;&#20214;&#28155;&#21152;&#12289;&#20462;&#25913;&#21644;&#21024;&#38500;&#29256;&#26412;&#21270;&#30340;&#20803;&#25968;&#25454;&#30340;&#25509;&#21475;&#65292;&#25105;&#20204;&#29992;<em class="firstterm">&#23646;&#24615;</em>&#26469;&#34920;&#31034;&#36825;&#20123;&#20803;&#25968;&#25454;&#12290;&#25105;&#20204;&#21487;&#20197;&#35748;&#20026;&#23427;&#20204;&#26159;&#19968;&#20010;&#20004;&#21015;&#30340;&#34920;&#65292;&#38468;&#21152;&#21040;&#20320;&#30340;&#24037;&#20316;&#25335;&#36125;&#30340;&#27599;&#20010;&#26465;&#30446;&#19978;&#65292;&#26144;&#23556;&#23646;&#24615;&#21517;&#21040;&#20219;&#24847;&#30340;&#20540;&#12290;&#19968;&#33324;&#26469;&#35828;&#65292;&#23646;&#24615;&#30340;&#21517;&#31216;&#21644;&#20540;&#21487;&#20197;&#26159;&#20320;&#24076;&#26395;&#30340;&#20219;&#20309;&#20540;&#65292;&#38480;&#21046;&#23601;&#26159;&#21517;&#31216;&#24517;&#39035;&#26159;&#21487;&#35835;&#30340;&#25991;&#26412;&#65292;&#24182;&#19988;&#26368;&#22909;&#30340;&#19968;&#28857;&#26159;&#36825;&#20123;&#23646;&#24615;&#20063;&#26159;&#29256;&#26412;&#21270;&#30340;&#65292;&#23601;&#20687;&#20320;&#30340;&#25991;&#26412;&#25991;&#20214;&#20869;&#23481;&#65292;&#20320;&#21487;&#20197;&#20687;&#25552;&#20132;&#25991;&#26412;&#20462;&#25913;&#19968;&#26679;&#20462;&#25913;&#12289;&#25552;&#20132;&#21644;&#24674;&#22797;&#23646;&#24615;&#20462;&#25913;&#65292;&#24403;&#20320;&#26356;&#26032;&#26102;&#20063;&#20250;&#25509;&#25910;&#21040;&#21035;&#20154;&#30340;&#23646;&#24615;&#20462;&#25913;&#8212;&#20320;&#19981;&#24517;&#20026;&#36866;&#24212;&#23646;&#24615;&#25913;&#21464;&#20320;&#30340;&#24037;&#20316;&#27969;&#31243;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><p>Subversion&#33258;&#24049;&#20445;&#30041;&#20102;&#19968;&#32452;&#21517;&#31216;&#20197;<code class="literal">svn:</code>&#24320;&#22836;&#30340;&#23646;&#24615;&#65292;&#29616;&#22312;&#24050;&#32463;&#26377;&#20102;&#19968;&#20123;&#22312;&#29992;&#30340;&#23646;&#24615;&#65292;&#25152;&#20197;&#22312;&#20320;&#26681;&#25454;&#38656;&#35201;&#21019;&#24314;&#33258;&#23450;&#20041;&#23646;&#24615;&#26102;&#65292;&#38656;&#35201;&#36991;&#20813;&#36825;&#20123;&#21069;&#32512;&#24320;&#22836;&#30340;&#21517;&#31216;&#65292;&#21542;&#21017;&#65292;Subversion&#30340;&#26032;&#29256;&#26412;&#21487;&#33021;&#20250;&#37319;&#29992;&#21516;&#21517;&#30340;&#23646;&#24615;&#26469;&#28385;&#36275;&#26032;&#30340;&#29305;&#24615;&#65292;&#32780;&#20854;&#21547;&#20041;&#21487;&#33021;&#20250;&#23436;&#20840;&#19981;&#21516;&#12290;</p></div><p>Properties show up elsewhere in Subversion, too.  Just as
      files and directories may have arbitrary property names and
      values attached to them, each revision as a whole may have
      arbitrary properties attached to it.  The same constraints
      apply&#8212;human-readable names and anything-you-want binary
      values.  The main difference is that revision properties are not
      versioned.  In other words, if you change the value of, or
      delete, a revision property, there's no way, within the scope of
      Subversion's functionality, to recover the previous value.</p><p>Subversion has no particular policy regarding the use of
      properties.  It asks only that you not use property names that
      begin with the prefix <code class="literal">svn:</code>.  That's the
      namespace that it sets aside for its own use.  And Subversion
      does, in fact, use properties&#8212;both the versioned and
      unversioned variety.  Certain versioned properties have special
      meaning or effects when found on files and directories, or they
      house a particular bit of information about the revisions on
      which they are found.  Certain revision properties are
      automatically attached to revisions by Subversion's commit
      process, and they carry information about the revision.  Most of
      these properties are mentioned elsewhere in this or other
      chapters as part of the more general topics to which they are
      related.  For an exhaustive list of Subversion's predefined
      properties, see <a class="xref" href="svn.ref.properties.html"  title="Subversion Properties">&#8220;Subversion Properties&#8221;&#19968;&#33410;</a>.</p><p>In this section, we will examine the utility&#8212;both to
      users of Subversion and to Subversion itself&#8212;of property
      support.  You'll learn about the property-related
      <span class="command"><strong>svn</strong></span> subcommands and how property
      modifications affect your normal Subversion workflow.</p><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="svn.advanced.props.why"></a>&#20026;&#20160;&#20040;&#38656;&#35201;&#23646;&#24615;&#65311;</h3></div></div></div><p>&#23601;&#20687;Subversion&#20351;&#29992;&#23646;&#24615;&#20445;&#23384;&#20854;&#21253;&#21547;&#30340;&#25991;&#20214;&#12289;&#30446;&#24405;&#21644;&#20462;&#35746;&#29256;&#26412;&#30340;&#38468;&#21152;&#20449;&#24687;&#65292;&#20320;&#20063;&#20250;&#21457;&#29616;&#23646;&#24615;&#26377;&#19968;&#20123;&#31867;&#20284;&#30340;&#20351;&#29992;&#65292;&#20320;&#20250;&#21457;&#29616;&#22914;&#26524;&#22312;&#25968;&#25454;&#38468;&#36817;&#26377;&#20010;&#22320;&#26041;&#20445;&#23384;&#33258;&#23450;&#20041;&#20803;&#25968;&#25454;&#20250;&#38750;&#24120;&#26377;&#29992;&#12290;</p><p>Say you wish to design a web site that houses many digital
        photos and displays them with captions and a datestamp.  Now,
        your set of photos is constantly changing, so you'd like to
        have as much of this site automated as possible.  These photos
        can be quite large, so as is common with sites of this nature,
        you want to provide smaller thumbnail images to your site
        visitors.</p><p>Now, you can get this functionality using traditional
        files.  That is, you can have your
        <code class="filename">image123.jpg</code> and an
        <code class="filename">image123-thumbnail.jpg</code> side by side in a
        directory.  Or if you want to keep the filenames the same, you
        might have your thumbnails in a different directory, such as
        <code class="filename">thumbnails/image123.jpg</code>.  You can also
        store your captions and datestamps in a similar fashion, again
        separated from the original image file.  But the problem here
        is that your collection of files multiplies with each new
        photo added to the site.</p><p>Now consider the same web site deployed in a way that
        makes use of Subversion's file properties.  Imagine having a
        single image file, <code class="filename">image123.jpg</code>, with
        properties set on that file that are named
        <code class="literal">caption</code>, <code class="literal">datestamp</code>, and
        even <code class="literal">thumbnail</code>.  Now your working copy
        directory looks much more manageable&#8212;in fact, it looks
        to the casual browser like there are nothing but image files
        in it.  But your automation scripts know better.  They know
        that they can use <span class="command"><strong>svn</strong></span> (or better yet, they
        can use the Subversion language bindings&#8212;see <a class="xref" href="svn.developer.usingapi.html"  title="&#20351;&#29992;API">&#8220;&#20351;&#29992;API&#8221;&#19968;&#33410;</a>) to dig out the extra
        information that your site needs to display without having to
        read an index file or play path manipulation games.</p><p>Custom revision properties are also frequently used.  One
        common such use is a property whose value contains an issue
        tracker ID with which the revision is associated, perhaps
        because the change made in that revision fixes a bug filed in
        the tracker issue with that ID.  Other uses include hanging
        more friendly names on the revision&#8212;it might be hard to
        remember that revision 1935 was a fully tested revision.  But
        if there's, say, a <code class="literal">test-results</code> property on
        that revision with the value <code class="literal">all passing</code>,
        that's meaningful information to have.</p><div class="sidebar"><p class="title"><b>&#21487;&#25628;&#32034;&#24615;(&#25110;&#32773;&#65292;&#20026;&#20160;&#20040;<span class="emphasis"><em>&#19981;</em></span>&#20351;&#29992;&#23646;&#24615;)</b></p><p>&#23545;&#20110;Subversion&#23646;&#24615;&#30340;&#25152;&#26377;&#21151;&#33021;&#8212;&#25110;&#32773;&#26356;&#20934;&#30830;&#30340;&#35762;&#65292;&#23545;&#20110;&#23646;&#24615;&#30340;&#25152;&#26377;&#25509;&#21475;&#8212;&#37117;&#26377;&#19968;&#20123;&#20027;&#35201;&#30340;&#24212;&#29992;&#20250;&#21066;&#24369;&#20182;&#20204;&#30340;&#24212;&#29992;&#12290;&#35774;&#32622;&#19968;&#20010;&#33258;&#23450;&#20041;&#23646;&#24615;&#21518;&#65292;&#24456;&#23481;&#26131;&#21457;&#29616;&#23646;&#24615;&#23436;&#20840;&#21464;&#25104;&#21478;&#22806;&#19968;&#20250;&#20799;&#20107;&#12290;</p><p>&#20026;&#20102;&#23450;&#20301;&#19968;&#20010;&#33258;&#23450;&#20041;&#23646;&#24615;&#36890;&#24120;&#35201;&#32447;&#24418;&#35775;&#38382;&#29256;&#26412;&#24211;&#30340;&#25152;&#26377;&#20462;&#35746;&#29256;&#26412;&#65292;&#21521;&#27599;&#20010;&#20462;&#35746;&#29256;&#26412;&#35810;&#38382;&#65292;&#8220;&#20320;&#20204;&#26377;&#25105;&#25214;&#30340;&#23646;&#24615;&#21527;&#65311;&#8221;&#23581;&#35797;&#26597;&#25214;&#33258;&#23450;&#20041;&#29256;&#26412;&#21270;&#23646;&#24615;&#20063;&#26159;&#21516;&#26679;&#30340;&#30171;&#33510;&#65292;&#36890;&#24120;&#38656;&#35201;&#22312;&#25972;&#20010;&#24037;&#20316;&#25335;&#36125;&#36882;&#24402;&#35843;&#29992;<span class="command"><strong>svn propget</strong></span>&#12290;&#22312;&#20320;&#30340;&#24773;&#20917;&#19979;&#65292;&#21487;&#33021;&#19981;&#20250;&#27604;&#36941;&#21382;&#25152;&#26377;&#20462;&#35746;&#29256;&#26412;&#24046;&#12290;&#20294;&#20063;&#22312;&#24615;&#33021;&#21644;&#25104;&#21151;&#21487;&#33021;&#24615;&#37324;&#30041;&#19979;&#20102;&#35768;&#22810;&#24748;&#24565;&#65292;&#29305;&#21035;&#26159;&#24403;&#20320;&#38656;&#35201;&#20174;&#29256;&#26412;&#24211;&#30340;&#26681;&#24320;&#22987;&#25628;&#32034;&#26102;&#12290;</p><p>For this reason, you might choose&#8212;especially in
          the revision property use case&#8212;to simply add your
          metadata to the revision's log message using some
          policy-driven (and perhaps programmatically enforced)
          formatting that is designed to be quickly parsed from the
          output of <span class="command"><strong>svn log</strong></span>.  It is quite common to
          see the following in Subversion log messages:</p><pre class="programlisting">
Issue(s): IZ2376, IZ1919
Reviewed by:  sally

This fixes a nasty segfault in the wort frabbing process
&#8230;
</pre><p>&#20294;&#26159;&#29616;&#22312;&#20381;&#28982;&#26377;&#19968;&#20123;&#19981;&#24184;&#65292;Subversion&#19981;&#25903;&#25345;&#26085;&#24535;&#20449;&#24687;&#27169;&#29256;&#26426;&#21046;&#65292;&#34429;&#28982;&#36825;&#26679;&#23545;&#29992;&#25143;&#19982;&#26085;&#24535;&#23884;&#20837;&#30340;&#20462;&#35746;&#29256;&#26412;&#20803;&#25968;&#25454;&#20445;&#25345;&#19968;&#33268;&#26377;&#24456;&#22823;&#24110;&#21161;&#12290;</p></div></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="svn.advanced.props.manip"></a>&#25805;&#20316;&#23646;&#24615;</h3></div></div></div><p>The <span class="command"><strong>svn</strong></span> command affords a few ways to
        add or modify file and directory properties.  For properties
        with short, human-readable values, perhaps the simplest way to
        add a new property is to specify the property name and value
        on the command line of the <span class="command"><strong>propset</strong></span>
        subcommand:</p><pre class="screen">
$ svn propset copyright '(c) 2006 Red-Bean Software' calc/button.c
property 'copyright' set on 'calc/button.c'
$
</pre><p>But we've been touting the flexibility that Subversion
        offers for your property values.  And if you are planning to
        have a multiline textual, or even binary, property value, you
        probably do not want to supply that value on the command line.
        So the <span class="command"><strong>propset</strong></span> subcommand takes a
        <code class="option">--file</code> (<code class="option">-F</code>) option for
        specifying the name of a file that contains the new property
        value.</p><pre class="screen">
$ svn propset license -F /path/to/LICENSE calc/button.c
property 'license' set on 'calc/button.c'
$
</pre><p>&#23545;&#20110;&#23646;&#24615;&#21517;&#31216;&#20063;&#26377;&#19968;&#20123;&#38480;&#21046;&#65292;&#23646;&#24615;&#21517;&#24517;&#39035;&#20197;&#19968;&#20010;&#23383;&#31526;&#12289;&#19968;&#20010;&#20882;&#21495;(<code class="literal">:</code>)&#25110;&#19979;&#21010;&#32447;(<code class="literal">_</code>)&#24320;&#22987;&#65292;&#20043;&#21518;&#20320;&#21487;&#20197;&#20351;&#29992;&#25968;&#23383;&#65292;&#27178;&#32447;(<code class="literal">-</code>)&#21644;&#21477;&#21495;(<code class="literal">.</code>)&#12290; <sup>[<a name="d0e3989" href="svn.advanced.props.html#ftn.d0e3989" class="footnote">8</a>]</sup></p><p>In addition to the <span class="command"><strong>propset</strong></span> command, the
        <span class="command"><strong>svn</strong></span> program supplies the
        <span class="command"><strong>propedit</strong></span> command.  This command uses the
        configured editor program (see <a class="xref" href="svn.customization.html#svn.advanced.confarea.opts.config"  title="&#37197;&#32622;">&#8220;&#37197;&#32622;&#8221;&#19968;&#33410;</a>) to add or
        modify properties.  When you run the command,
        <span class="command"><strong>svn</strong></span> invokes your editor program on a
        temporary file that contains the current value of the property
        (or that is empty, if you are adding a new property).  Then,
        you just modify that value in your editor program until it
        represents the new value you wish to store for the property,
        save the temporary file, and then exit the editor program.  If
        Subversion detects that you've actually changed the existing
        value of the property, it will accept that as the new property
        value.  If you exit your editor without making any changes, no
        property modification will occur:</p><pre class="screen">
$ svn propedit copyright calc/button.c  ### exit the editor without changes
No changes to property 'copyright' on 'calc/button.c'
$
</pre><p>We should note that, as with other <span class="command"><strong>svn</strong></span>
        subcommands, those related to properties can act on multiple
        paths at once.  This enables you to modify properties on whole
        sets of files with a single command.  For example, we could
        have done the following:</p><pre class="screen">
$ svn propset copyright '(c) 2006 Red-Bean Software' calc/*
property 'copyright' set on 'calc/Makefile'
property 'copyright' set on 'calc/button.c'
property 'copyright' set on 'calc/integer.c'
&#8230;
$
</pre><p>&#22914;&#26524;&#19981;&#33021;&#26041;&#20415;&#30340;&#24471;&#21040;&#23384;&#20648;&#30340;&#23646;&#24615;&#20540;&#65292;&#37027;&#20040;&#23646;&#24615;&#30340;&#28155;&#21152;&#21644;&#32534;&#36753;&#25805;&#20316;&#20063;&#19981;&#20250;&#24456;&#23481;&#26131;&#65292;&#25152;&#20197;<span class="command"><strong>svn</strong></span>&#25552;&#20379;&#20102;&#20004;&#20010;&#23376;&#21629;&#20196;&#26469;&#26174;&#31034;&#25991;&#20214;&#21644;&#30446;&#24405;&#23384;&#20648;&#30340;&#23646;&#24615;&#21517;&#21644;&#20540;&#12290;<span class="command"><strong>svn proplist</strong></span>&#21629;&#20196;&#20250;&#21015;&#20986;&#36335;&#24452;&#19978;&#23384;&#22312;&#30340;&#25152;&#26377;&#23646;&#24615;&#21517;&#31216;&#65292;&#19968;&#26086;&#20320;&#30693;&#36947;&#20102;&#26576;&#20010;&#33410;&#28857;&#30340;&#23646;&#24615;&#21517;&#31216;&#65292;&#20320;&#21487;&#20197;&#29992;<span class="command"><strong>svn propget</strong></span>&#33719;&#21462;&#23427;&#30340;&#20540;&#65292;&#36825;&#20010;&#21629;&#20196;&#33719;&#21462;&#32473;&#23450;&#30340;&#36335;&#24452;(&#25110;&#32773;&#26159;&#19968;&#32452;&#36335;&#24452;)&#21644;&#23646;&#24615;&#21517;&#31216;&#65292;&#25171;&#21360;&#36825;&#20010;&#23646;&#24615;&#30340;&#20540;&#21040;&#26631;&#20934;&#36755;&#20986;&#12290;</p><pre class="screen">
$ svn proplist calc/button.c
Properties on 'calc/button.c':
  copyright
  license
$ svn propget copyright calc/button.c
(c) 2006 Red-Bean Software
</pre><p>&#36824;&#26377;&#19968;&#20010;<span class="command"><strong>proplist</strong></span>&#21464;&#31181;&#21629;&#20196;&#20250;&#21015;&#20986;&#25152;&#26377;&#23646;&#24615;&#30340;&#21517;&#31216;&#21644;&#20540;&#65292;&#21482;&#38656;&#35201;&#35774;&#32622;<code class="option">--verbose</code>(<code class="option">-v</code>)&#36873;&#39033;&#12290;</p><pre class="screen">
$ svn proplist -v calc/button.c
Properties on 'calc/button.c':
  copyright : (c) 2006 Red-Bean Software
  license : ================================================================
Copyright (c) 2006 Red-Bean Software.  All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions 
are met:

1. Redistributions of source code must retain the above copyright
notice, this list of conditions, and the recipe for Fitz's famous
red-beans-and-rice.
&#8230;
</pre><p>&#26368;&#21518;&#19968;&#20010;&#19982;&#23646;&#24615;&#30456;&#20851;&#30340;&#23376;&#21629;&#20196;&#26159;<span class="command"><strong>propdel</strong></span>&#65292;&#22240;&#20026;Subversion&#20801;&#35768;&#23646;&#24615;&#20540;&#20026;&#31354;&#65292;&#25152;&#26377;&#19981;&#33021;&#29992;<span class="command"><strong>propedit</strong></span>&#25110;&#32773;<span class="command"><strong>propset</strong></span>&#21629;&#20196;&#21024;&#38500;&#19968;&#20010;&#23646;&#24615;&#12290;&#20363;&#22914;&#65292;&#36825;&#20010;&#21629;&#20196;<span class="emphasis"><em>&#19981;&#20250;</em></span>&#20135;&#29983;&#39044;&#26399;&#30340;&#25928;&#26524;&#65306;</p><pre class="screen">
$ svn propset license '' calc/button.c
property 'license' set on 'calc/button.c'
$ svn proplist -v calc/button.c
Properties on 'calc/button.c':
  copyright : (c) 2006 Red-Bean Software
  license : 
$
</pre><p>&#20320;&#38656;&#35201;&#29992;<span class="command"><strong>propdel</strong></span>&#26469;&#21024;&#38500;&#23646;&#24615;&#65292;&#35821;&#27861;&#19982;&#20854;&#23427;&#19982;&#23646;&#24615;&#21629;&#20196;&#30456;&#20284;&#65306;</p><pre class="screen">
$ svn propdel license calc/button.c
property 'license' deleted from 'calc/button.c'.
$ svn proplist -v calc/button.c
Properties on 'calc/button.c':
  copyright : (c) 2006 Red-Bean Software
$
</pre><p>Remember those unversioned revision properties?  You can
        modify those, too, using the same <span class="command"><strong>svn</strong></span>
        subcommands that we just described.  Simply add the
        <code class="option">--revprop</code> command line parameter and specify
        the revision whose property you wish to modify.  Since
        revisions are global, you don't need to specify a target path
        to these property-related commands so long as you are
        positioned in a working copy of the repository whose
        revision property you wish to modify.  Otherwise, you can
        simply provide the URL of any path in the repository of
        interest (including the repository's root URL).  For example,
        you might want to replace the commit log message of an
        existing revision.
        <sup>[<a name="d0e4074" href="svn.advanced.props.html#ftn.d0e4074" class="footnote">9</a>]</sup>
        If your current working directory is part of a working copy of
        your repository, you can simply run the
        <span class="command"><strong>svn propset</strong></span> command with no target path:</p><pre class="screen">
$ svn propset svn:log '* button.c: Fix a compiler warning.' -r11 --revprop
property 'svn:log' set on repository revision '11'
$
</pre><p>&#20294;&#26159;&#21363;&#20351;&#20320;&#27809;&#26377;&#20174;&#29256;&#26412;&#24211;&#26816;&#20986;&#19968;&#20010;&#24037;&#20316;&#25335;&#36125;&#65292;&#20320;&#20173;&#28982;&#21487;&#20197;&#36890;&#36807;&#25552;&#20379;&#29256;&#26412;&#24211;&#26681;URL&#26469;&#24433;&#21709;&#23646;&#24615;&#20462;&#25913;&#12290;</p><pre class="screen">
$ svn propset svn:log '* button.c: Fix a compiler warning.' -r11 --revprop \
              http://svn.example.com/repos/project
property 'svn:log' set on repository revision '11'
$
</pre><p>&#27880;&#24847;&#65292;&#20462;&#25913;&#36825;&#20123;&#26410;&#29256;&#26412;&#21270;&#30340;&#23646;&#24615;&#30340;&#33021;&#21147;&#19968;&#23450;&#35201;&#26126;&#30830;&#30340;&#28155;&#21152;&#32473;&#29256;&#26412;&#24211;&#31649;&#29702;&#21592;(&#35265;<a class="xref" href="svn.reposadmin.maint.html#svn.reposadmin.maint.setlog"  title="&#20462;&#27491;&#25552;&#20132;&#28040;&#24687;">&#8220;&#20462;&#27491;&#25552;&#20132;&#28040;&#24687;&#8221;&#19968;&#33410;</a>)&#12290;&#22240;&#20026;&#23646;&#24615;&#27809;&#26377;&#29256;&#26412;&#21270;&#65292;&#22914;&#26524;&#32534;&#36753;&#30340;&#26102;&#20505;&#19981;&#23567;&#24515;&#65292;&#23601;&#20250;&#20882;&#20002;&#22833;&#20449;&#24687;&#30340;&#39118;&#38505;&#65292;&#29256;&#26412;&#24211;&#31649;&#29702;&#21592;&#21487;&#20197;&#35774;&#32622;&#26041;&#27861;&#26469;&#38450;&#33539;&#36825;&#31181;&#24847;&#22806;&#65292;&#32570;&#30465;&#24773;&#20917;&#19979;&#65292;&#20462;&#25913;&#26410;&#29256;&#26412;&#21270;&#30340;&#23646;&#24615;&#26159;&#31105;&#27490;&#30340;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><p>Users should, where possible, use <span class="command"><strong>svn
          propedit</strong></span> instead of <span class="command"><strong>svn
          propset</strong></span>.  While the end result of the commands is
          identical, the former will allow them to see the current
          value of the property that they are about to change, which helps
          them to verify that they are, in fact, making the change
          they think they are making.  This is especially true when
          modifying unversioned revision properties.  Also, it is
          significantly easier to modify multiline property values in
          a text editor than at the command line.</p></div></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="svn.advanced.props.workflow"></a>&#23646;&#24615;&#21644; Subversion &#24037;&#20316;&#27969;&#31243;</h3></div></div></div><p>&#29616;&#22312;&#20320;&#24050;&#32463;&#29087;&#24713;&#20102;&#25152;&#26377;&#19982;&#23646;&#24615;&#30456;&#20851;&#30340;<span class="command"><strong>svn</strong></span>&#23376;&#21629;&#20196;&#65292;&#35753;&#25105;&#20204;&#30475;&#30475;&#23646;&#24615;&#20462;&#25913;&#22914;&#20309;&#24433;&#21709;Subversion&#30340;&#24037;&#20316;&#27969;&#12290;&#25105;&#20204;&#21069;&#38754;&#25552;&#21040;&#36807;&#65292;&#25991;&#20214;&#21644;&#30446;&#24405;&#30340;&#23646;&#24615;&#26159;&#29256;&#26412;&#21270;&#30340;&#65292;&#36825;&#19968;&#28857;&#31867;&#20284;&#20110;&#29256;&#26412;&#21270;&#30340;&#25991;&#20214;&#20869;&#23481;&#12290;&#21518;&#26524;&#20043;&#19968;&#65292;&#23601;&#26159;Subversion&#20855;&#26377;&#20102;&#21516;&#26679;&#30340;&#26426;&#21046;&#26469;&#21512;&#24182;&#8212;&#29992;&#24178;&#20928;&#25110;&#32773;&#20914;&#31361;&#30340;&#26041;&#24335;&#8212;&#20854;&#20182;&#20154;&#30340;&#20462;&#25913;&#24212;&#29992;&#21040;&#20320;&#30340;&#20462;&#25913;&#12290;</p><p>As with file contents, your property changes are local
        modifications, made permanent only when you commit them to the
        repository with <span class="command"><strong>svn commit</strong></span>.  Your property
        changes can be easily unmade, too&#8212;the <span class="command"><strong>svn
        revert</strong></span> command will restore your files and
        directories to their unedited states&#8212;contents, properties,
        and all.  Also, you can receive interesting information about
        the state of your file and directory properties by using the
        <span class="command"><strong>svn status</strong></span> and <span class="command"><strong>svn diff</strong></span>
        commands.</p><pre class="screen">
$ svn status calc/button.c
 M     calc/button.c
$ svn diff calc/button.c
Property changes on: calc/button.c
___________________________________________________________________
Name: copyright
   + (c) 2006 Red-Bean Software

$
</pre><p>&#27880;&#24847;<span class="command"><strong>status</strong></span>&#23376;&#21629;&#20196;&#26174;&#31034;&#30340;<code class="literal">M</code>&#22312;&#31532;&#20108;&#21015;&#32780;&#19981;&#26159;&#22312;&#31532;&#19968;&#21015;&#65292;&#36825;&#26159;&#22240;&#20026;&#25105;&#20204;&#20462;&#25913;&#20102;<code class="filename">calc/button.c</code>&#30340;&#23646;&#24615;&#65292;&#32780;&#19981;&#26159;&#23427;&#30340;&#25991;&#26412;&#20869;&#23481;&#65292;&#22914;&#26524;&#25105;&#20204;&#37117;&#20462;&#25913;&#20102;&#65292;&#25105;&#20204;&#20063;&#20250;&#30475;&#21040;<code class="literal">M</code>&#20986;&#29616;&#22312;&#31532;&#19968;&#21015;(&#35265;<a class="xref" href="svn.tour.cycle.html#svn.tour.cycle.examine.status"  title="&#26597;&#30475;&#20320;&#30340;&#20462;&#25913;&#27010;&#20917;">&#8220;&#26597;&#30475;&#20320;&#30340;&#20462;&#25913;&#27010;&#20917;&#8221;&#19968;&#33410;</a>)&#12290;</p><div class="sidebar"><p class="title"><b>&#23646;&#24615;&#20914;&#31361;</b></p><p>&#19982;&#25991;&#20214;&#20869;&#23481;&#19968;&#26679;&#65292;&#26412;&#22320;&#30340;&#23646;&#24615;&#20462;&#25913;&#20063;&#20250;&#21516;&#21035;&#20154;&#30340;&#25552;&#20132;&#20914;&#31361;&#65292;&#22914;&#26524;&#20320;&#26356;&#26032;&#20320;&#30340;&#24037;&#20316;&#25335;&#36125;&#30446;&#24405;&#24182;&#19988;&#25509;&#25910;&#21040;&#26377;&#36164;&#28304;&#23646;&#24615;&#20462;&#25913;&#19982;&#20320;&#30340;&#20462;&#25913;&#20914;&#31361;&#65292;Subversion&#20250;&#25253;&#21578;&#36164;&#28304;&#22788;&#20110;&#20914;&#31361;&#29366;&#24577;&#12290;</p><pre class="screen">
% svn update calc
M  calc/Makefile.in
 C calc/button.c
Updated to revision 143.
$ 
</pre><p>Subversion will also create, in the same directory as
          the conflicted object, a file with a
          <code class="filename">.prej</code> extension that contains the
          details of the conflict.  You should examine the contents of
          this file so you can decide how to resolve the conflict.
          Until the conflict is resolved, you will see a
          <code class="literal">C</code> in the second column of <span class="command"><strong>svn
          status</strong></span> output for that object, and attempts to
          commit your local modifications will fail.</p><pre class="screen">
$ svn status calc
 C     calc/button.c
?      calc/button.c.prej
$ cat calc/button.c.prej 
prop 'linecount': user set to '1256', but update set to '1301'.
$
</pre><p>&#20026;&#20102;&#35299;&#20915;&#23646;&#24615;&#20914;&#31361;&#65292;&#21482;&#38656;&#35201;&#30830;&#23450;&#20914;&#31361;&#30340;&#23646;&#24615;&#20445;&#23384;&#20102;&#23427;&#20204;&#24212;&#35813;&#30340;&#20540;&#65292;&#28982;&#21518;&#20351;&#29992;<span class="command"><strong>svn resolved</strong></span>&#21629;&#20196;&#21578;&#35785;Subversion&#20320;&#24050;&#32463;&#25163;&#24037;&#35299;&#20915;&#20102;&#38382;&#39064;&#12290;</p></div><p>You might also have noticed the nonstandard way that
        Subversion currently displays property differences.  You can
        still run <span class="command"><strong>svn diff</strong></span> and redirect the output
        to create a usable patch file.  The <span class="command"><strong>patch</strong></span>
        program will ignore property patches&#8212;as a rule, it
        ignores any noise it can't understand.  This does,
        unfortunately, mean that to fully apply a patch generated by
        <span class="command"><strong>svn diff</strong></span>, any property modifications will
        need to be applied by hand.</p></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="svn.advanced.props.auto"></a>&#33258;&#21160;&#35774;&#32622;&#23646;&#24615;</h3></div></div></div><p>&#23646;&#24615;&#26159;Subversion&#19968;&#20010;&#24378;&#22823;&#30340;&#29305;&#24615;&#65292;&#25104;&#20026;&#26412;&#31456;&#21644;&#20854;&#23427;&#31456;&#35752;&#35770;&#30340;&#35768;&#22810;Subversion&#29305;&#24615;&#30340;&#20851;&#38190;&#32452;&#25104;&#37096;&#20998;&#8212;&#25991;&#26412;&#21306;&#21035;&#21644;&#21512;&#24182;&#25903;&#25345;&#12289;&#20851;&#38190;&#23383;&#26367;&#25442;&#12289;&#26032;&#34892;&#30340;&#33258;&#21160;&#36716;&#25442;&#31561;&#31561;&#12290;&#20294;&#26159;&#20026;&#20102;&#20174;&#23646;&#24615;&#24471;&#21040;&#23436;&#20840;&#30340;&#21033;&#30410;&#65292;&#20182;&#20204;&#24517;&#39035;&#35774;&#32622;&#21040;&#27491;&#30830;&#30340;&#25991;&#20214;&#21644;&#30446;&#24405;&#12290;&#19981;&#24184;&#30340;&#26159;&#65292;&#22312;&#26085;&#24120;&#24037;&#20316;&#20013;&#24456;&#23481;&#26131;&#24536;&#35760;&#36825;&#19968;&#27493;&#24037;&#20316;&#65292;&#29305;&#21035;&#26159;&#24403;&#27809;&#26377;&#35774;&#32622;&#23646;&#24615;&#19981;&#20250;&#24341;&#36215;&#26126;&#26174;&#30340;&#38169;&#35823;&#26102;(&#33267;&#23569;&#30456;&#23545;&#19982;&#26410;&#33021;&#28155;&#21152;&#19968;&#20010;&#25991;&#20214;&#21040;&#29256;&#26412;&#25511;&#21046;&#36825;&#31181;&#25805;&#20316;)&#65292;&#20026;&#20102;&#24110;&#21161;&#20320;&#22312;&#38656;&#35201;&#28155;&#21152;&#23646;&#24615;&#30340;&#25991;&#20214;&#19978;&#28155;&#21152;&#23646;&#24615;&#65292;Subversion&#25552;&#20379;&#20102;&#19968;&#20123;&#31616;&#21333;&#20294;&#26159;&#26377;&#29992;&#30340;&#29305;&#24615;&#12290;</p><p>Whenever you introduce a file to version control using the
        <span class="command"><strong>svn add</strong></span> or <span class="command"><strong>svn import</strong></span>
        commands, Subversion tries to assist by setting some common
        file properties automatically.  First, on operating systems
        whose filesystems support an execute permission bit,
        Subversion will automatically set the
        <code class="literal">svn:executable</code> property on newly added or
        imported files whose execute bit is enabled.  (See <a class="xref" href="svn.advanced.props.file-portability.html#svn.advanced.props.special.executable"  title="&#25991;&#20214;&#30340;&#21487;&#25191;&#34892;&#24615;">&#8220;&#25991;&#20214;&#30340;&#21487;&#25191;&#34892;&#24615;&#8221;&#19968;&#33410;</a> later in
        this chapter for more about this property.)</p><p>Secondly, Subversion tries to determine the file's MIME
        type.  If you've configured a
        <code class="literal">mime-types-files</code> runtime configuration
        parameter, Subversion will try to find a MIME type mapping in
        that file for your file's extension.  If it finds such a
        mapping, it will set your file's
        <code class="literal">svn:mime-type</code> property to the MIME type it
        found.  If no mapping file is configured, or no mapping for
        your file's extension could be found, Subversion runs a very
        basic heuristic to determine if the file contains nontextual
        content.  If so, it automatically sets the
        <code class="literal">svn:mime-type</code> property on that file to
        <code class="literal">application/octet-stream</code> (the generic
        &#8220;<span class="quote">this is a collection of bytes</span>&#8221; MIME type).  Of
        course, if Subversion guesses incorrectly, or if you wish to
        set the <code class="literal">svn:mime-type</code> property to something
        more precise&#8212;perhaps <code class="literal">image/png</code> or
        <code class="literal">application/x-shockwave-flash</code>&#8212;you can
        always remove or edit that property.  (For more on
        Subversion's use of MIME types, see <a class="xref" href="svn.advanced.props.file-portability.html#svn.advanced.props.special.mime-type"  title="&#25991;&#20214;&#20869;&#23481;&#31867;&#22411;">&#8220;&#25991;&#20214;&#20869;&#23481;&#31867;&#22411;&#8221;&#19968;&#33410;</a> later in
        this chapter.)</p><p>Subversion also provides, via its runtime configuration
        system (see <a class="xref" href="svn.customization.html#svn.advanced.confarea"  title="&#36816;&#34892;&#37197;&#32622;&#21306;">&#8220;&#36816;&#34892;&#37197;&#32622;&#21306;&#8221;&#19968;&#33410;</a>), a more
        flexible automatic property setting feature that allows you
        to create mappings of filename patterns to property names and
        values.  Once again, these mappings affect adds and imports,
        and can not only override the default MIME type decision made
        by Subversion during those operations, but can also set
        additional Subversion or custom properties, too.  For example,
        you might create a mapping that says that any time you add
        JPEG files&#8212;ones whose names match the pattern
        <code class="literal">*.jpg</code>&#8212;Subversion should automatically
        set the <code class="literal">svn:mime-type</code> property on those
        files to <code class="literal">image/jpeg</code>.  Or perhaps any files
        that match <code class="literal">*.cpp</code> should have
        <code class="literal">svn:eol-style</code> set to
        <code class="literal">native</code>, and <code class="literal">svn:keywords</code>
        set to <code class="literal">Id</code>.  Automatic property support is
        perhaps the handiest property related tool in the Subversion
        toolbox.  See <a class="xref" href="svn.customization.html#svn.advanced.confarea.opts.config"  title="&#37197;&#32622;">&#8220;&#37197;&#32622;&#8221;&#19968;&#33410;</a> for more about
        configuring that support.</p></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.d0e3989" href="svn.advanced.props.html#d0e3989" class="para">8</a>] </sup>&#22914;&#26524;&#20320;&#29087;&#24713;XML&#65292;&#20854;&#23454;&#36825;&#23601;&#26159;XML&#30340;"Name"&#35821;&#27861;&#30340;ASCII&#23376;&#38598;&#12290;</p></div><div class="footnote"><p><sup>[<a name="ftn.d0e4074" href="svn.advanced.props.html#d0e4074" class="para">9</a>] </sup>&#20462;&#27491;&#25552;&#20132;&#26085;&#24535;&#20449;&#24687;&#30340;&#25340;&#20889;&#38169;&#35823;&#65292;&#25991;&#27861;&#38169;&#35823;&#21644;&#8220;<span class="quote">&#31616;&#21333;&#30340;&#38169;&#35823;</span>&#8221;&#26159;<code class="option">--revprop</code>&#36873;&#39033;&#26368;&#24120;&#35265;&#29992;&#20363;&#12290;</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="svn.advanced.html" >&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="svn.advanced.html" >&#19978;&#19968;&#32423;</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="svn.advanced.props.file-portability.html" >&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">&#31532;&nbsp;3&nbsp;&#31456;&nbsp;&#39640;&#32423;&#20027;&#39064;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html" >&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;&#25991;&#20214;&#31227;&#26893;&#24615;</td></tr></table></div></body></html>