<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>&#22522;&#26412;&#30340;&#24037;&#20316;&#21608;&#26399;</title><link rel="stylesheet" href="styles.css"  type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.73.2"><link rel="start" href="index.html" title="&#20351;&#29992;Subversion&#36827;&#34892;&#29256;&#26412;&#25511;&#21046;"><link rel="up" href="svn.tour.html" title="&#31532;&nbsp;2&nbsp;&#31456;&nbsp;&#22522;&#26412;&#20351;&#29992;"><link rel="prev" href="svn.tour.initial.html" title="&#21021;&#22987;&#21270;&#26816;&#20986;"><link rel="next" href="svn.tour.history.html" title="&#26816;&#39564;&#21382;&#21490;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">&#22522;&#26412;&#30340;&#24037;&#20316;&#21608;&#26399;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="svn.tour.initial.html" >&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center">&#31532;&nbsp;2&nbsp;&#31456;&nbsp;&#22522;&#26412;&#20351;&#29992;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="svn.tour.history.html" >&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="svn.tour.cycle"></a>&#22522;&#26412;&#30340;&#24037;&#20316;&#21608;&#26399;</h2></div></div></div><p>Subversion has numerous features, options, bells, and
      whistles, but on a day-to-day basis, odds are that you will only
      use a few of them.  In this section, we'll run through the most
      common things that you might find yourself doing with Subversion
      in the course of a day's work.</p><p>&#20856;&#22411;&#30340;&#24037;&#20316;&#21608;&#26399;&#26159;&#36825;&#26679;&#30340;&#65306;</p><div class="orderedlist"><ol type="1"><li><p>&#26356;&#26032;&#20320;&#30340;&#24037;&#20316;&#25335;&#36125;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>
                <span class="command"><strong>svn update</strong></span>
              </p></li></ul></div></li><li><p>Make changes.</p><div class="itemizedlist"><ul type="disc"><li><p>
                <span class="command"><strong>svn add</strong></span>
              </p></li><li><p>
                <span class="command"><strong>svn delete</strong></span>
              </p></li><li><p>
                <span class="command"><strong>svn copy</strong></span>
              </p></li><li><p>
                <span class="command"><strong>svn move</strong></span>
              </p></li></ul></div></li><li><p>Examine your changes.</p><div class="itemizedlist"><ul type="disc"><li><p>
                <span class="command"><strong>svn status</strong></span>
              </p></li><li><p>
                <span class="command"><strong>svn diff</strong></span>
              </p></li></ul></div></li><li><p>Possibly undo some changes.</p><div class="itemizedlist"><ul type="disc"><li><p>
                <span class="command"><strong>svn revert</strong></span>
              </p></li></ul></div></li><li><p>Resolve conflicts (merge others' changes).</p><div class="itemizedlist"><ul type="disc"><li><p>
                <span class="command"><strong>svn update</strong></span>
              </p></li><li><p>
                <span class="command"><strong>svn resolve</strong></span>
              </p></li></ul></div></li><li><p>Commit your changes.</p><div class="itemizedlist"><ul type="disc"><li><p>
                <span class="command"><strong>svn commit</strong></span>
              </p></li></ul></div></li></ol></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="svn.tour.cycle.update"></a>&#26356;&#26032;&#20320;&#30340;&#24037;&#20316;&#25335;&#36125;</h3></div></div></div><p>When working on a project with a team, you'll want to
        update your working copy to receive any changes made since
        your last update by other developers on the project.  Use
        <span class="command"><strong>svn update</strong></span> to bring your working copy into
        sync with the latest revision in the repository:</p><pre class="screen">
$ svn update
U  foo.c
U  bar.c
Updated to revision 2.
</pre><p>In this case, it appears that someone checked in
        modifications to both <code class="filename">foo.c</code>
        and <code class="filename">bar.c</code> since the last time you
        updated, and Subversion has updated your working copy to
        include those changes.</p><p>When the server sends changes to your working copy via
        <span class="command"><strong>svn update</strong></span>, a letter code is displayed next
        to each item to let you know what actions Subversion performed
        to bring your working copy up-to-date.  To find out what these
        letters mean, run <span class="command"><strong>svn help update</strong></span>.</p></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="svn.tour.cycle.edit"></a>&#20462;&#25913;&#20320;&#30340;&#24037;&#20316;&#25335;&#36125;</h3></div></div></div><p>&#29616;&#22312;&#20320;&#21487;&#20197;&#24320;&#22987;&#24037;&#20316;&#24182;&#19988;&#20462;&#25913;&#20320;&#30340;&#24037;&#20316;&#25335;&#36125;&#20102;&#65292;&#20320;&#24456;&#23481;&#26131;&#20915;&#23450;&#20316;&#20986;&#19968;&#20010;&#20462;&#25913;(&#25110;&#32773;&#26159;&#19968;&#32452;)&#65292;&#20687;&#20889;&#19968;&#20010;&#26032;&#30340;&#29305;&#24615;&#65292;&#20462;&#27491;&#19968;&#20010;&#38169;&#35823;&#31561;&#31561;&#12290;&#36825;&#26102;&#21487;&#20197;&#20351;&#29992;&#30340;Subversion&#21629;&#20196;&#21253;&#25324;<span class="command"><strong>svn add</strong></span>&#12289; <span class="command"><strong>svn delete</strong></span>&#12289;<span class="command"><strong>svn copy</strong></span>&#21644;<span class="command"><strong>svn move</strong></span>&#12290;&#22914;&#26524;&#20320;&#21482;&#26159;&#20462;&#25913;&#29256;&#26412;&#24211;&#20013;&#24050;&#32463;&#23384;&#22312;&#30340;&#25991;&#20214;&#65292;&#22312;&#20320;&#25552;&#20132;&#20043;&#21069;&#65292;&#19981;&#24517;&#20351;&#29992;&#19978;&#38754;&#30340;&#20219;&#20309;&#19968;&#20010;&#21629;&#20196;&#12290;</p><p>There are two kinds of changes you can make to your
        working copy: <em class="firstterm">file changes</em>
        and <em class="firstterm">tree changes</em>.  You don't need to
        tell Subversion that you intend to change a file; just make
        your changes using your text editor, word processor, graphics
        program, or whatever tool you would normally use.  Subversion
        automatically detects which files have been changed, and in
        addition, handles binary files just as easily as it handles
        text files&#8212;and just as efficiently too.  For tree
        changes, you can ask Subversion to &#8220;<span class="quote">mark</span>&#8221; files
        and directories for scheduled removal, addition, copying, or
        moving.  These changes may take place immediately in your
        working copy, but no additions or removals will happen in the
        repository until you commit them.</p><div class="sidebar"><p class="title"><b>Versioning Symbolic Links</b></p><p>On non-Windows platforms, Subversion is able to version
          files of the special type <em class="firstterm">symbolic
          link</em> (or &#8220;<span class="quote">symlink</span>&#8221;).  A symlink is
          a file that acts as a sort of transparent reference to some
          other object in the filesystem, allowing programs to read
          and write to those objects indirectly by way of performing
          operations on the symlink itself.</p><p>When a symlink is committed into a Subversion
          repository, Subversion remembers that the file was in fact a
          symlink, as well as the object to which the symlink
          &#8220;<span class="quote">points.</span>&#8221;  When that symlink is checked out to
          another working copy on a non-Windows system, Subversion
          reconstructs a real filesystem-level symbolic link from the
          versioned symlink.  But that doesn't in any way limit the
          usability of working copies on systems such as Windows that
          do not support symlinks.  On such systems, Subversion simply
          creates a regular text file whose contents are the path to
          which to the original symlink pointed.  While that file
          can't be used as a symlink on a Windows system, it also
          won't prevent Windows users from performing their other
          Subversion-related activities.</p></div><p>&#19979;&#38754;&#26159;Subversion&#29992;&#26469;&#20462;&#25913;&#30446;&#24405;&#26641;&#32467;&#26500;&#30340;&#20116;&#20010;&#23376;&#21629;&#20196;&#12290;</p><div class="variablelist"><dl><dt><span class="term">
              <span class="command"><strong>svn add foo</strong></span>
            </span></dt><dd><p>Schedule file, directory, or symbolic link
              <code class="filename">foo</code> to be added to the repository.
              When you next commit, <code class="filename">foo</code> will
              become a child of its parent directory.  Note that if
              <code class="filename">foo</code> is a directory, everything
              underneath <code class="filename">foo</code> will be scheduled
              for addition.  If you want only to add
              <code class="filename">foo</code> itself, pass the
              <code class="option">--depth empty</code> option.</p></dd><dt><span class="term">
              <span class="command"><strong>svn delete foo</strong></span>
            </span></dt><dd><p>&#39044;&#23450;&#23558;&#25991;&#20214;&#12289;&#30446;&#24405;&#25110;&#32773;&#31526;&#21495;&#38142;<code class="filename">foo</code>&#20174;&#29256;&#26412;&#24211;&#20013;&#21024;&#38500;&#65292;&#22914;&#26524;foo&#26159;&#25991;&#20214;&#65292;&#23427;&#39532;&#19978;&#20174;&#24037;&#20316;&#25335;&#36125;&#20013;&#21024;&#38500;&#65292;&#22914;&#26524;&#26159;&#30446;&#24405;&#65292;&#19981;&#20250;&#34987;&#21024;&#38500;&#65292;&#20294;&#26159;Subversion&#20934;&#22791;&#22909;&#21024;&#38500;&#20102;&#65292;&#24403;&#20320;&#25552;&#20132;&#20320;&#30340;&#20462;&#25913;&#65292;<code class="filename">foo</code>&#23601;&#20250;&#22312;&#20320;&#30340;&#24037;&#20316;&#25335;&#36125;&#21644;&#29256;&#26412;&#24211;&#20013;&#34987;&#21024;&#38500;&#12290;<sup>[<a name="d0e2160" href="svn.tour.cycle.html#ftn.d0e2160" class="footnote">4</a>]</sup></p></dd><dt><span class="term">
              <span class="command"><strong>svn copy foo bar</strong></span>
            </span></dt><dd><p>Create a new item <code class="filename">bar</code> as a
              duplicate of <code class="filename">foo</code> and automatically
              schedule <code class="filename">bar</code> for addition.  When
              <code class="filename">bar</code> is added to the repository on
              the next commit, its copy history is recorded (as having
              originally come from <code class="filename">foo</code>).
              <span class="command"><strong>svn copy</strong></span> does not create intermediate
              directories unless you pass the
              <code class="option">--parents</code>.</p></dd><dt><span class="term">
              <span class="command"><strong>svn move foo bar</strong></span>
            </span></dt><dd><p>This command is exactly the same as running
              <span class="command"><strong>svn copy foo bar; svn delete foo</strong></span>.
              That is, <code class="filename">bar</code> is scheduled for
              addition as a copy of <code class="filename">foo</code>, and
              <code class="filename">foo</code> is scheduled for removal.
              <span class="command"><strong>svn move</strong></span> does not create intermediate
              directories unless you pass the
              <code class="option">--parents</code>.</p></dd><dt><span class="term">
              <span class="command"><strong>svn mkdir blort</strong></span>
            </span></dt><dd><p>&#36825;&#20010;&#21629;&#20196;&#21516;&#36816;&#34892; <span class="command"><strong>mkdir blort; svn add blort</strong></span>&#30456;&#21516;&#65292;&#20063;&#23601;&#26159;&#21019;&#24314;&#19968;&#20010;&#21483;&#20570;<code class="filename">blort</code>&#30340;&#25991;&#20214;&#65292;&#24182;&#19988;&#39044;&#23450;&#28155;&#21152;&#21040;&#29256;&#26412;&#24211;&#12290;</p></dd></dl></div><div class="sidebar"><p class="title"><b>&#19981;&#36890;&#36807;&#24037;&#20316;&#25335;&#36125;&#20462;&#25913;&#29256;&#26412;&#24211;</b></p><p>There <span class="emphasis"><em>are</em></span> some use cases that
          immediately commit tree changes to the repository.  This
          happens only when a subcommand is operating directly on a
          URL, rather than on a working-copy path.  In particular,
          specific uses of <span class="command"><strong>svn mkdir</strong></span>, <span class="command"><strong>svn
          copy</strong></span>, <span class="command"><strong>svn move</strong></span>, and
          <span class="command"><strong>svn delete</strong></span> can work with URLs (and don't
          forget that <span class="command"><strong>svn import</strong></span> always makes
          changes to a URL).</p><p>URL operations behave in this manner because commands
          that operate on a working copy can use the working copy as a
          sort of &#8220;<span class="quote">staging area</span>&#8221; to set up your changes
          before committing them to the repository.  Commands that
          operate on URLs don't have this luxury, so when you operate
          directly on a URL, any of the above actions represents an
          immediate commit.</p></div></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="svn.tour.cycle.examine"></a>&#26816;&#26597;&#20320;&#30340;&#20462;&#25913;</h3></div></div></div><p>&#24403;&#20320;&#23436;&#25104;&#20462;&#25913;&#65292;&#20320;&#38656;&#35201;&#25552;&#20132;&#20182;&#20204;&#21040;&#29256;&#26412;&#24211;&#65292;&#20294;&#26159;&#22312;&#27492;&#20043;&#21069;&#65292;&#26816;&#26597;&#19968;&#19979;&#20570;&#36807;&#20160;&#20040;&#20462;&#25913;&#26159;&#20010;&#22909;&#20027;&#24847;&#65292;&#36890;&#36807;&#25552;&#20132;&#21069;&#30340;&#26816;&#26597;&#65292;&#20320;&#21487;&#20197;&#25972;&#29702;&#19968;&#20221;&#31934;&#30830;&#30340;&#26085;&#24535;&#20449;&#24687;&#65292;&#20320;&#20063;&#21487;&#20197;&#21457;&#29616;&#20320;&#19981;&#23567;&#24515;&#20462;&#25913;&#30340;&#25991;&#20214;&#65292;&#32473;&#20102;&#20320;&#19968;&#27425;&#24674;&#22797;&#20462;&#25913;&#30340;&#26426;&#20250;&#12290;&#27492;&#22806;&#65292;&#36825;&#26159;&#19968;&#20010;&#23457;&#26597;&#21644;&#20180;&#32454;&#23519;&#30475;&#20462;&#25913;&#30340;&#22909;&#26426;&#20250;&#65292;&#20320;&#21487;&#36890;&#36807;&#21629;&#20196;<span class="command"><strong>svn status</strong></span>&#27983;&#35272;&#25152;&#20570;&#30340;&#20462;&#25913;&#65292;&#36890;&#36807;<span class="command"><strong>svn diff</strong></span>&#26816;&#26597;&#20462;&#25913;&#30340;&#35814;&#32454;&#20449;&#24687;&#12290;</p><div class="sidebar"><p class="title"><b>&#30475;&#65281;&#27809;&#26377;&#32593;&#32476;&#65281;</b></p><p>The commands <span class="command"><strong>svn status</strong></span>,
          <span class="command"><strong>svn diff</strong></span>, and <span class="command"><strong>svn
          revert</strong></span> can be used without any network access even
          if your repository <span class="emphasis"><em>is</em></span> across the
          network.  This makes it easy to manage your
          changes-in-progress when you are somewhere without a network
          connection, such as travelling on an airplane, riding a
          commuter train, or hacking on the beach.
          <sup>[<a name="d0e2300" href="svn.tour.cycle.html#ftn.d0e2300" class="footnote">5</a>]</sup>
        </p><p>Subversion&#36890;&#36807;&#22312;<code class="filename">.svn</code>&#31649;&#29702;&#21306;&#22495;&#20351;&#29992;&#21407;&#22987;&#30340;&#29256;&#26412;&#32531;&#23384;&#26469;&#20570;&#21040;&#36825;&#19968;&#28857;&#65292;&#36825;&#20351;&#24471;&#25253;&#21578;&#21644;&#24674;&#22797;&#26412;&#22320;&#20462;&#25913;&#32780;<span class="emphasis"><em>&#19981;&#24517;&#35775;&#38382;&#32593;&#32476;</em></span>&#65292;&#36825;&#20010;&#32531;&#23384;(&#21483;&#20570;&#8220;<span class="quote">text-base</span>&#8221;)&#20063;&#20801;&#35768;Subversion&#21487;&#20197;&#26681;&#25454;&#21407;&#22987;&#29256;&#26412;&#29983;&#25104;&#19968;&#20010;&#21387;&#32553;&#30340;&#22686;&#37327;(&#8220;<span class="quote">&#21306;&#21035;</span>&#8221;) &#25552;&#20132;&#8212;&#21363;&#20351;&#20320;&#26377;&#20010;&#38750;&#24120;&#24555;&#30340;&#32593;&#32476;&#65292;&#26377;&#36825;&#26679;&#19968;&#20010;&#32531;&#23384;&#26377;&#26497;&#22823;&#30340;&#22909;&#22788;&#65292;&#21482;&#21521;&#26381;&#21153;&#22120;&#25552;&#20132;&#20462;&#25913;&#30340;&#37096;&#20998;&#32780;&#19981;&#26159;&#25972;&#20010;&#25991;&#20214;&#12290;</p></div><p>Subversion has been optimized to help you with this task,
        and it is able to do many things without communicating with
        the repository.  In particular, your working copy contains a
        hidden cached &#8220;<span class="quote">pristine</span>&#8221; copy of each version
        controlled file within the <code class="filename">.svn</code> area.
        Because of this, Subversion can quickly show you how your
        working files have changed or even allow you to undo your
        changes without contacting the repository.</p><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="svn.tour.cycle.examine.status"></a>&#26597;&#30475;&#20320;&#30340;&#20462;&#25913;&#27010;&#20917;</h4></div></div></div><p>&#20026;&#20102;&#27983;&#35272;&#20462;&#25913;&#30340;&#20869;&#23481;&#65292;&#20320;&#20250;&#20351;&#29992;&#36825;&#20010;<span class="command"><strong>svn status</strong></span>&#21629;&#20196;&#65292;&#22312;&#25152;&#26377;Subversion&#21629;&#20196;&#37324;&#65292;<span class="command"><strong>svn status</strong></span>&#21487;&#33021;&#20250;&#26159;&#20320;&#29992;&#30340;&#26368;&#22810;&#30340;&#21629;&#20196;&#12290;</p><div class="sidebar"><p class="title"><b>CVS &#29992;&#25143;&#65306;&#25511;&#21046;&#21478;&#31867;&#30340;&#26356;&#26032;&#65281;</b></p><p>&#20320;&#20063;&#35768;&#20351;&#29992;<span class="command"><strong>cvs update</strong></span>&#26469;&#30475;&#20320;&#20570;&#20102;&#21738;&#20123;&#20462;&#25913;&#65292;<span class="command"><strong>svn status</strong></span>&#20250;&#32473;&#20320;&#25152;&#26377;&#20320;&#20570;&#30340;&#25913;&#21464;&#8212;&#32780;&#19981;&#38656;&#35201;&#35775;&#38382;&#29256;&#26412;&#24211;&#65292;&#24182;&#19988;&#19981;&#20250;&#22312;&#19981;&#30693;&#24773;&#30340;&#24773;&#20917;&#19979;&#19982;&#20854;&#20182;&#29992;&#25143;&#20316;&#30340;&#26356;&#25913;&#27604;&#36739;&#12290;</p><p>&#22312;Subversion&#65292;<span class="command"><strong>update</strong></span>&#21482;&#26159;&#20570;&#36825;&#20214;&#20107;&#8212;&#23558;&#24037;&#20316;&#25335;&#36125;&#26356;&#26032;&#21040;&#29256;&#26412;&#24211;&#30340;&#26368;&#26032;&#29256;&#26412;&#65292;&#20320;&#21487;&#20197;&#28040;&#38500;&#20351;&#29992;<span class="command"><strong>update</strong></span>&#23519;&#30475;&#26412;&#22320;&#20462;&#25913;&#30340;&#20064;&#24815;&#12290;</p></div><p>&#22914;&#26524;&#20320;&#22312;&#24037;&#20316;&#25335;&#36125;&#30340;&#39030;&#32423;&#30446;&#24405;&#36816;&#34892;&#19981;&#24102;&#21442;&#25968;&#30340;<span class="command"><strong>svn status</strong></span>&#21629;&#20196;&#65292;&#23427;&#20250;&#26816;&#27979;&#20320;&#20570;&#30340;&#25152;&#26377;&#30340;&#25991;&#20214;&#25110;&#30446;&#24405;&#30340;&#20462;&#25913;&#65292;&#20197;&#19979;&#30340;&#20363;&#23376;&#26159;&#26469;&#23637;&#31034;<span class="command"><strong>svn status</strong></span>&#21487;&#33021;&#36820;&#22238;&#30340;&#29366;&#24577;&#30721;(&#27880;&#24847;&#65292;<code class="literal">#</code>&#20043;&#21518;&#30340;&#19981;&#26159;<span class="command"><strong>svn status</strong></span>&#25171;&#21360;&#30340;)&#12290;</p><pre class="screen">
?       scratch.c           # file is not under version control
A       stuff/loot/bloo.h   # file is scheduled for addition
C       stuff/loot/lump.c   # file has textual conflicts from an update
D       stuff/fish.c        # file is scheduled for deletion
M       bar.c               # the content in bar.c has local modifications
</pre><p>In this output format, <span class="command"><strong>svn status</strong></span>
          prints six columns of characters, followed by several
          whitespace characters, followed by a file or directory name.
          The first column tells the status of a file or directory
          and/or its contents.  The codes we listed are:</p><div class="variablelist"><dl><dt><span class="term">
                <code class="computeroutput">A      item</code>
              </span></dt><dd><p>&#39044;&#23450;&#21152;&#20837;&#21040;&#29256;&#26412;&#24211;&#30340;&#25991;&#20214;&#12289;&#30446;&#24405;&#25110;&#31526;&#21495;&#38142;&#30340;<code class="filename">item</code>&#12290;</p></dd><dt><span class="term">
                <code class="computeroutput">C      item</code>
              </span></dt><dd><p>The file <code class="filename">item</code> is in a state
                of conflict.  That is, changes received from the
                server during an update overlap with local changes
                that you have in your working copy (and weren't
                resolved during the update).  You must resolve this
                conflict before committing your changes to the
                repository.</p></dd><dt><span class="term">
                <code class="computeroutput">D      item</code>
              </span></dt><dd><p>&#25991;&#20214;&#12289;&#30446;&#24405;&#25110;&#26159;&#31526;&#21495;&#38142;<code class="filename">item</code>&#39044;&#23450;&#20174;&#29256;&#26412;&#24211;&#20013;&#21024;&#38500;&#12290;</p></dd><dt><span class="term">
                <code class="computeroutput">M      item</code>
              </span></dt><dd><p>&#25991;&#20214;<code class="filename">item</code>&#30340;&#20869;&#23481;&#34987;&#20462;&#25913;&#20102;&#12290;</p></dd></dl></div><p>&#22914;&#26524;&#20320;&#20256;&#36882;&#19968;&#20010;&#36335;&#24452;&#32473;<span class="command"><strong>svn status</strong></span>&#65292;&#23427;&#21482;&#32473;&#20320;&#36825;&#20010;&#39033;&#30446;&#30340;&#20449;&#24687;&#65306;</p><pre class="screen">
$ svn status stuff/fish.c
D      stuff/fish.c
</pre><p><span class="command"><strong>svn status</strong></span> also has a
          <code class="option">--verbose</code> (<code class="option">-v</code>) option,
          which will show you the status of <span class="emphasis"><em>every</em></span>
          item in your working copy, even if it has not been
          changed:</p><pre class="screen">
$ svn status -v
M               44        23    sally     README
                44        30    sally     INSTALL
M               44        20    harry     bar.c
                44        18    ira       stuff
                44        35    harry     stuff/trout.c
D               44        19    ira       stuff/fish.c
                44        21    sally     stuff/things
A                0         ?     ?        stuff/things/bloo.h
                44        36    harry     stuff/things/gloo.c
</pre><p>This is the &#8220;<span class="quote">long form</span>&#8221; output of
          <span class="command"><strong>svn status</strong></span>.  The letters in the first
          column mean the same as before, but the second column shows
          the working revision of the item.  The third and fourth
          columns show the revision in which the item last changed,
          and who changed it.</p><p>None of the prior invocations to <span class="command"><strong>svn
          status</strong></span> contact the repository&#8212;instead, they
          compare the metadata in the <code class="filename">.svn</code>
          directory with the working copy.  Finally, there is the
          <code class="option">--show-updates</code> (<code class="option">-u</code>)
          option, which contacts the repository and adds information
          about things that are out of date:</p><pre class="screen">
$ svn status -u -v
M      *        44        23    sally     README
M               44        20    harry     bar.c
       *        44        35    harry     stuff/trout.c
D               44        19    ira       stuff/fish.c
A                0         ?     ?        stuff/things/bloo.h
Status against revision:   46
</pre><p>Notice the two asterisks: if you were to run
          <span class="command"><strong>svn update</strong></span> at this point, you would
          receive changes to <code class="filename">README</code>
          and <code class="filename">trout.c</code>.  This tells you some very
          useful information&#8212;you'll need to update and get the
          server changes on <code class="filename">README</code> before you
          commit, or the repository will reject your commit for being
          out of date (more on this subject later).</p><p><span class="command"><strong>svn status</strong></span> can display much more
            information about the files and directories in your
            working copy than we've shown here&#8212;for an exhaustive
            description of <span class="command"><strong>svn status</strong></span> and its
            output, see <a class="xref" href="svn.ref.svn.c.status.html"  title="svn status">svn status</a>.</p></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="svn.tour.cycle.examine.diff"></a>&#26816;&#26597;&#20320;&#30340;&#26412;&#22320;&#20462;&#25913;&#30340;&#35814;&#24773;</h4></div></div></div><p>&#21478;&#19968;&#31181;&#26816;&#26597;&#20462;&#25913;&#30340;&#26041;&#24335;&#26159;<span class="command"><strong>svn diff</strong></span>&#21629;&#20196;&#65292;&#20320;&#21487;&#20197;&#36890;&#36807;&#19981;&#24102;&#21442;&#25968;&#30340;<span class="command"><strong>svn diff</strong></span><span class="emphasis"><em>&#31934;&#30830;&#30340;</em></span>&#25214;&#20986;&#20320;&#25152;&#20570;&#30340;&#20462;&#25913;&#65292;&#36825;&#20250;&#36755;&#20986;<em class="firstterm">&#32479;&#19968;&#21306;&#21035;&#26684;&#24335;</em>&#30340;&#21306;&#21035;&#20449;&#24687;&#65306;</p><pre class="screen">
$ svn diff
Index: bar.c
===================================================================
--- bar.c	(revision 3)
+++ bar.c	(working copy)
@@ -1,7 +1,12 @@
+#include &lt;sys/types.h&gt;
+#include &lt;sys/stat.h&gt;
+#include &lt;unistd.h&gt;
+
+#include &lt;stdio.h&gt;

 int main(void) {
-  printf("Sixty-four slices of American Cheese...\n");
+  printf("Sixty-five slices of American Cheese...\n");
 return 0;
 }

Index: README
===================================================================
--- README	(revision 3)
+++ README	(working copy)
@@ -193,3 +193,4 @@
+Note to self:  pick up laundry.

Index: stuff/fish.c
===================================================================
--- stuff/fish.c	(revision 1)
+++ stuff/fish.c	(working copy)
-Welcome to the file known as 'fish'.
-Information on fish will be here soon.

Index: stuff/things/bloo.h
===================================================================
--- stuff/things/bloo.h	(revision 8)
+++ stuff/things/bloo.h	(working copy)
+Here is a new file to describe
+things about bloo.
</pre><p>The <span class="command"><strong>svn diff</strong></span> command produces this
          output by comparing your working files against the cached
          &#8220;<span class="quote">pristine</span>&#8221; copies within the
          <code class="filename">.svn</code> area.  Files scheduled for
          addition are displayed as all added text, and files
          scheduled for deletion are displayed as all deleted
          text.</p><p>Output is displayed in unified diff format.  That is,
          removed lines are prefaced with <code class="literal">-</code>, and
          added lines are prefaced with
          <code class="literal">+</code>.  <span class="command"><strong>svn diff</strong></span> also
          prints filename and offset information useful to the
          <span class="command"><strong>patch</strong></span> program, so you can generate
          &#8220;<span class="quote">patches</span>&#8221; by redirecting the diff output to a
          file:</p><pre class="screen">
$ svn diff &gt; patchfile
</pre><p>&#20030;&#20010;&#20363;&#23376;&#65292;&#20320;&#21487;&#20197;&#25226;&#34917;&#19969;&#25991;&#20214;&#21457;&#36865;&#37038;&#20214;&#21040;&#20854;&#20182;&#24320;&#21457;&#32773;&#65292;&#22312;&#25552;&#20132;&#20043;&#21069;&#23457;&#26680;&#21644;&#27979;&#35797;&#12290;</p><p>Subversion uses its internal diff engine, which produces
          unified diff format, by default.  If you want diff output in
          a different format, specify an external diff program using
          <code class="option">--diff-cmd</code> and pass any flags you'd like to
          it using the <code class="option">--extensions</code>
          (<code class="option">-x</code>) option.  For example, to see local
          differences in file <code class="filename">foo.c</code> in context
          output format while ignoring case differences, you might run
          <span class="command"><strong>svn diff --diff-cmd /usr/bin/diff --extensions '-i'
          foo.c</strong></span>.</p></div></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="svn.tour.cycle.revert"></a>&#21462;&#28040;&#26412;&#22320;&#20462;&#25913;</h3></div></div></div><p>&#20551;&#23450;&#25105;&#20204;&#22312;&#30475;<span class="command"><strong>svn diff</strong></span>&#30340;&#36755;&#20986;&#65292;&#20320;&#21457;&#29616;&#23545;&#26576;&#20010;&#25991;&#20214;&#30340;&#25152;&#26377;&#20462;&#25913;&#37117;&#26159;&#38169;&#35823;&#30340;&#65292;&#25110;&#35768;&#20320;&#26681;&#26412;&#19981;&#24212;&#35813;&#20462;&#25913;&#36825;&#20010;&#25991;&#20214;&#65292;&#25110;&#32773;&#26159;&#20174;&#24320;&#22836;&#37325;&#26032;&#20462;&#25913;&#20250;&#26356;&#21152;&#23481;&#26131;&#12290;</p><p>&#36825;&#26159;&#20351;&#29992;<span class="command"><strong>svn revert</strong></span>&#30340;&#22909;&#26426;&#20250;&#65306;</p><pre class="screen">
$ svn revert README
Reverted 'README'
</pre><p>Subversion reverts the file to its premodified state by
        overwriting it with the cached &#8220;<span class="quote">pristine</span>&#8221; copy
        from the <code class="filename">.svn</code> area.  But also note that
        <span class="command"><strong>svn revert</strong></span> can undo
        <span class="emphasis"><em>any</em></span> scheduled operations&#8212;for
        example, you might decide that you don't want to add a new
        file after all:</p><pre class="screen">
$ svn status foo
?      foo

$ svn add foo
A         foo

$ svn revert foo
Reverted 'foo'

$ svn status foo
?      foo
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><p><span class="command"><strong>svn revert</strong></span><em class="replaceable"><code>ITEM</code></em>&#30340;&#25928;&#26524;&#19982;&#21024;&#38500;<em class="replaceable"><code>ITEM</code></em>&#28982;&#21518;&#25191;&#34892;<span class="command"><strong>svn update -r BASE</strong></span><em class="replaceable"><code>ITEM</code></em>&#23436;&#20840;&#19968;&#26679;&#65292;&#20294;&#26159;&#65292;&#22914;&#26524;&#20320;&#20351;&#29992;<span class="command"><strong>svn revert</strong></span>&#23427;&#19981;&#24517;&#36890;&#30693;&#29256;&#26412;&#24211;&#23601;&#21487;&#20197;&#24674;&#22797;&#25991;&#20214;&#12290;</p></div><p>&#25110;&#35768;&#20320;&#19981;&#23567;&#24515;&#21024;&#38500;&#20102;&#19968;&#20010;&#25991;&#20214;&#65306;</p><pre class="screen">
$ svn status README

$ svn delete README
D         README

$ svn revert README
Reverted 'README'

$ svn status README
</pre></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="svn.tour.cycle.resolve"></a>&#35299;&#20915;&#20914;&#31361;(&#21512;&#24182;&#21035;&#20154;&#30340;&#20462;&#25913;)</h3></div></div></div><p>&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;<span class="command"><strong>svn status -u</strong></span>&#26469;&#39044;&#27979;&#20914;&#31361;&#65292;&#24403;&#20320;&#36816;&#34892;<span class="command"><strong>svn update</strong></span>&#19968;&#20123;&#26377;&#36259;&#30340;&#20107;&#24773;&#21457;&#29983;&#20102;&#65306;</p><pre class="screen">
$ svn update
U  INSTALL
G  README
Conflict discovered in 'bar.c'.
Select: (p) postpone, (df) diff-full, (e) edit,
        (h) help for more options:
</pre><p><code class="computeroutput">U</code>&#21644;<code class="computeroutput">G</code>&#27809;&#24517;&#35201;&#20851;&#24515;&#65292;&#25991;&#20214;&#24178;&#20928;&#30340;&#25509;&#21463;&#20102;&#29256;&#26412;&#24211;&#30340;&#21464;&#21270;&#65292;&#25991;&#20214;&#26631;&#31034;&#20026;<code class="computeroutput">U</code>&#34920;&#26126;&#26412;&#22320;&#27809;&#26377;&#20462;&#25913;&#65292;&#25991;&#20214;&#24050;&#32463;&#26681;&#25454;&#29256;&#26412;&#24211;&#26356;&#26032;&#12290;<code class="computeroutput">G</code>&#26631;&#31034;&#21512;&#24182;&#65292;&#26631;&#31034;&#26412;&#22320;&#24050;&#32463;&#20462;&#25913;&#36807;&#65292;&#19982;&#29256;&#26412;&#24211;&#27809;&#26377;&#37325;&#36845;&#30340;&#22320;&#26041;&#65292;&#24050;&#32463;&#21512;&#24182;&#12290;</p><p>But the next two lines are part of a feature (new in
        Subversion 1.5) called <em class="firstterm">interactive conflict
        resolution</em>.  This means that the changes from the
        server overlapped with your own, and you have the opportunity
        to resolve this conflict.  The most commonly used options are
        displayed, but you can see all of the options by
        typing <em class="replaceable"><code>h</code></em>:</p><pre class="screen">
&#8230;
  (p)  postpone    - mark the conflict to be resolved later
  (df) diff-full   - show all changes made to merged file
  (e)  edit        - change merged file in an editor
  (r)  resolved    - accept merged version of file
  (mf) mine-full   - accept my version of entire file (ignore their changes)
  (tf) theirs-full - accept their version of entire file (lose my changes)
  (l)  launch      - launch external tool to resolve conflict
  (h)  help        - show this list
</pre><p>Let's briefly review each of these options before we go
        into detail on what each option means.</p><div class="variablelist"><dl><dt><span class="term">
              <code class="computeroutput">(p)ostpone</code>
            </span></dt><dd><p>Leave the file in a conflicted state for you to
              resolve after your update is complete.</p></dd><dt><span class="term">
              <code class="computeroutput">(d)iff</code>
            </span></dt><dd><p>Display the differences between the base revision
              and the conflicted file itself in unified diff format.</p></dd><dt><span class="term">
              <code class="computeroutput">(e)dit</code>
            </span></dt><dd><p>Open the file in conflict with your favorite editor,
              as set in the environment variable
              <code class="literal">EDITOR</code>.</p></dd><dt><span class="term">
              <code class="computeroutput">(r)esolved</code>
            </span></dt><dd><p>After editing a file, tell
              <span class="command"><strong>svn</strong></span> that you've resolved the
              conflicts in the file and that it should accept the
              current contents&#8212;basically that you've
              &#8220;<span class="quote">resolved</span>&#8221; the conflict.</p></dd><dt><span class="term">
              <code class="computeroutput">(m)ine-(f)ull</code>
            </span></dt><dd><p>Discard the newly received changes from the server
              and use only your local changes for the file under review.</p></dd><dt><span class="term">
              <code class="computeroutput">(t)heirs-(f)ull</code>
            </span></dt><dd><p>Discard your local changes to the file under review
              and use only the newly received changes from the
              server.</p></dd><dt><span class="term">
              <code class="computeroutput">(l)aunch</code>
            </span></dt><dd><p>Launch an external program to perform the conflict
            resolution.  This requires a bit of preparation
            beforehand.</p></dd><dt><span class="term">
              <code class="computeroutput">(h)elp</code>
            </span></dt><dd><p>Show the list of all possible commands you can use
            in interactive conflict resolution.</p></dd></dl></div><p>We'll cover these commands in more detail now, grouping
        them together by related functionality.</p><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="svn.tour.cycle.resolve.diff"></a>Viewing conflict differences interactively</h4></div></div></div><p>Before deciding how to attack a conflict interactively,
          odds are that you'd like to see what exactly is in conflict,
          and the <em class="firstterm">diff</em> command
          (<span class="command"><strong>d</strong></span>) is what you'll use for this:</p><pre class="screen">
&#8230;
Select: (p) postpone, (df) diff-full, (e) edit,
        (h)elp for more options : d
--- .svn/text-base/sandwich.txt.svn-base      Tue Dec 11 21:33:57 2007
+++ .svn/tmp/tempfile.32.tmp     Tue Dec 11 21:34:33 2007
@@ -1 +1,5 @@
-Just buy a sandwich.
+&lt;&lt;&lt;&lt;&lt;&lt;&lt; .mine
+Go pick up a cheesesteak.
+=======
+Bring me a taco!
+&gt;&gt;&gt;&gt;&gt;&gt;&gt; .r32
&#8230;
</pre><p>The first line of the diff content shows the previous
          contents of the working copy (the <code class="literal">BASE</code>
          revision), the next content line is your change, and the
          last content line is the change that was just received from
          the server (<span class="emphasis"><em>usually</em></span> the
          <code class="literal">HEAD</code> revision).  With this information in
          hand, you're ready to move on to the next action.</p></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="svn.tour.cycle.resolve.resolve"></a>Resolving conflict differences interactively</h4></div></div></div><p>There are four different ways to resolve conflicts
          interactively&#8212;two of which allow you to selectively
          merge and edit changes, and two of which allow you to simply
          pick a version of the file and move along.</p><p>If you wish to choose some combination of your local
          changes, you can use the &#8220;<span class="quote">edit</span>&#8221; command
          (<span class="command"><strong>e</strong></span>) to manually edit the file with
          conflict markers in a text editor (determined by the
          <code class="literal">EDITOR</code> environment variable).  Editing
          the file by hand in your favorite text editor is a somewhat
          low-tech way of remedying conflicts (see <a class="xref" href="svn.tour.cycle.html#svn.tour.cycle.resolve.byhand"  title="Merging conflicts by hand">&#8220;Merging conflicts by hand&#8221;&#19968;&#33410;</a> for a
          walkthrough), so some people like to use fancy graphical
          merge tools instead.</p><p>In order to use a merge tool, you need to either set the
          <code class="literal">SVN_MERGE</code> environment variable or define
          the <code class="literal">merge-tool-cmd</code> option in your
          Subversion configuration file (see <a class="xref" href="svn.customization.html#svn.advanced.confarea.opts"  title="&#37197;&#32622;&#36873;&#39033;">&#8220;&#37197;&#32622;&#36873;&#39033;&#8221;&#19968;&#33410;</a> for more details).
          Subversion will pass four arguments to the merge tool: The
          <code class="literal">BASE</code> revision of the file, the revision
          of the file received from the server as part of the update,
          the copy of the file containing your local edits, and
          lastly, the merged copy of the file (which contains conflict
          markers).  If your merge tool is expecting arguments in a
          different order or format, you'll need to write a wrapper
          script for Subversion to invoke.  After you've edited the
          file, if you're satisfied with the changes you've made, you
          can tell Subversion that the edited file is no longer in
          conflict by using the &#8220;<span class="quote">resolve</span>&#8221; command
          (<code class="literal">r</code>).</p><p>If you decide that you don't need to merge any changes,
          but just want to accept one version of the file or the
          other, you can either choose your changes (aka
          &#8220;<span class="quote">mine</span>&#8221;) by using the &#8220;<span class="quote">mine-full</span>&#8221;
          command (<span class="command"><strong>mf</strong></span>) or choose theirs by using the
          &#8220;<span class="quote">theirs-full</span>&#8221; command
          (<span class="command"><strong>tf</strong></span>).</p></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="svn.tour.cycle.resolve.pending"></a>Postponing conflict resolution</h4></div></div></div><p>This may sound like an appropriate section for avoiding
          marital disagreements, but it's actually still about
          Subversion, so read on.  If you're doing an update and
          encounter a conflict that you're not prepared to review or
          resolve, you can type <span class="command"><strong>p</strong></span> to postpone
          resolving a conflict on a file-by-file basis when you run
          <span class="command"><strong>svn update</strong></span>.  If you're running an update
          and don't want to resolve any conflicts, you can pass the
          <code class="option">--non-interactive</code> option to <span class="command"><strong>svn
          update</strong></span>, and any file in conflict will be marked
          with a <code class="computeroutput">C</code>
          automatically.</p><p>The <code class="computeroutput">C</code> stands for
          <code class="computeroutput">c</code>onflict.  This means that
          the changes from the server overlapped with your own, and
          now you have to manually choose between them after the
          update has completed.  When you postpone a conflict
          resolution, <span class="command"><strong>svn</strong></span> typically does three
          things to assist you in noticing and resolving that
          conflict:</p><div class="itemizedlist"><ul type="disc"><li><p>Subversion prints a <code class="computeroutput">C</code>
              during the update and remembers that the file is in a
              state of conflict.</p></li><li><p>If Subversion considers the file to be mergeable, it
              places <em class="firstterm">conflict
              markers</em>&#8212;special strings of text that
              delimit the &#8220;<span class="quote">sides</span>&#8221; of the
              conflict&#8212;into the file to visibly demonstrate the
              overlapping areas.  (Subversion uses the
              <code class="literal">svn:mime-type</code> property to decide if a
              file is capable of contextual, line-based merging.  See
              <a class="xref" href="svn.advanced.props.file-portability.html#svn.advanced.props.special.mime-type"  title="&#25991;&#20214;&#20869;&#23481;&#31867;&#22411;">&#8220;&#25991;&#20214;&#20869;&#23481;&#31867;&#22411;&#8221;&#19968;&#33410;</a>
              to learn more.)</p></li><li><p>&#23545;&#20110;&#27599;&#19968;&#20010;&#20914;&#31361;&#30340;&#25991;&#20214;&#65292;Subversion&#25918;&#32622;&#19977;&#20010;&#39069;&#22806;&#30340;&#26410;&#29256;&#26412;&#21270;&#25991;&#20214;&#21040;&#20320;&#30340;&#24037;&#20316;&#25335;&#36125;&#65306;</p><div class="variablelist"><dl><dt><span class="term">
                    <code class="filename">filename.mine</code>
                  </span></dt><dd><p>&#20320;&#26356;&#26032;&#21069;&#30340;&#25991;&#20214;&#65292;&#27809;&#26377;&#20914;&#31361;&#26631;&#24535;&#65292;&#21482;&#26159;&#20320;&#26368;&#26032;&#26356;&#25913;&#30340;&#20869;&#23481;&#12290;(&#22914;&#26524;Subversion&#35748;&#20026;&#36825;&#20010;&#25991;&#20214;&#19981;&#21487;&#20197;&#21512;&#24182;&#65292;<code class="filename">.mine</code>&#25991;&#20214;&#19981;&#20250;&#21019;&#24314;&#65292;&#22240;&#20026;&#23427;&#21644;&#24037;&#20316;&#25991;&#20214;&#30456;&#21516;&#12290;)</p></dd><dt><span class="term">
                    <code class="filename">filename.r<em class="replaceable"><code>OLDREV</code></em>
                      </code>
                  </span></dt><dd><p>&#36825;&#26159;&#20320;&#30340;&#20570;&#26356;&#26032;&#25805;&#20316;&#20197;&#21069;&#30340;<code class="literal">BASE</code>&#29256;&#26412;&#25991;&#20214;&#65292;&#23601;&#26159;&#20320;&#22312;&#19978;&#27425;&#26356;&#26032;&#20043;&#21518;&#26410;&#20316;&#26356;&#25913;&#30340;&#29256;&#26412;&#12290;</p></dd><dt><span class="term">
                    <code class="filename">filename.r<em class="replaceable"><code>NEWREV</code></em>
                      </code>
                  </span></dt><dd><p>&#36825;&#26159;&#20320;&#30340;Subversion&#23458;&#25143;&#31471;&#20174;&#26381;&#21153;&#22120;&#21018;&#21018;&#25910;&#21040;&#30340;&#29256;&#26412;&#65292;&#36825;&#20010;&#25991;&#20214;&#23545;&#24212;&#29256;&#26412;&#24211;&#30340;<code class="literal">HEAD</code>&#29256;&#26412;&#12290;</p></dd></dl></div><p>Here <em class="replaceable"><code>OLDREV</code></em> is the revision number
              of the file in your <code class="filename">.svn</code> directory,
              and <em class="replaceable"><code>NEWREV</code></em> is the revision number of
              the repository <code class="literal">HEAD</code>.</p></li></ul></div><p>For example, Sally makes changes to the file
          <code class="filename">sandwich.txt</code> in the repository.  Harry has
          just changed the file in his working copy and checked it in.
          Sally updates her working copy before checking in and she gets
          a conflict, which she postpones:</p><pre class="screen">
$ svn update
Conflict discovered in 'sandwich.txt'.
Select: (p) postpone, (df) diff-full, (e) edit,
        (h)elp for more options : p
C  sandwich.txt
Updated to revision 2.
$ ls -1
sandwich.txt
sandwich.txt.mine
sandwich.txt.r1
sandwich.txt.r2
</pre><p>At this point, Subversion will <span class="emphasis"><em>not</em></span>
          allow Sally to commit the file
          <code class="filename">sandwich.txt</code> until the three temporary
          files are removed.</p><pre class="screen">
$ svn commit -m "Add a few more things"
svn: Commit failed (details follow):
svn: Aborting commit: '/home/sally/svn-work/sandwich.txt' remains in conflict
</pre><p>If you've postponed a conflict, you need to resolve the
          conflict before Subversion will allow you to commit your
          changes.  You'll do this with the <span class="command"><strong>svn
          resolve</strong></span> command and one of several arguments to
          the <code class="option">--accept</code> option.</p><p>If you want to choose the version of the file that you
          last checked out before making your edits, choose
          the <em class="replaceable"><code>base</code></em> argument.</p><p>If you want to choose the version that contains only
          your edits, choose the <em class="replaceable"><code>mine-full</code></em>
          argument.</p><p>If you want to choose the version that your most recent
          update pulled from the server (and thus discarding your
          edits entirely), choose
          the <em class="replaceable"><code>theirs-full</code></em> argument.</p><p>However, if you want to pick and choose from your
          changes and the changes that your update fetched from the
          server, merge the conflicted text &#8220;<span class="quote">by hand</span>&#8221; (by
          examining and editing the conflict markers within the file)
          and then choose the <em class="replaceable"><code>working</code></em>
          argument.</p><p><span class="command"><strong>svn resolve</strong></span> removes the three
          temporary files, accepts the version of the file that you
          specified with the <code class="option">--accept</code> option, and
          Subversion no longer considers the file to be in a state of
          conflict.</p><pre class="screen">
$ svn resolve --accept working sandwich.txt
Resolved conflicted state of 'sandwich.txt'
</pre></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="svn.tour.cycle.resolve.byhand"></a>Merging conflicts by hand</h4></div></div></div><p>&#31532;&#19968;&#27425;&#23581;&#35797;&#35299;&#20915;&#20914;&#31361;&#35753;&#20154;&#24863;&#35273;&#24456;&#23475;&#24597;&#65292;&#20294;&#32463;&#36807;&#19968;&#28857;&#35757;&#32451;&#65292;&#23427;&#31616;&#21333;&#30340;&#20687;&#26159;&#39569;&#30528;&#36710;&#23376;&#19979;&#22369;&#12290;</p><p>&#36825;&#37324;&#19968;&#20010;&#31616;&#21333;&#30340;&#20363;&#23376;&#65292;&#30001;&#20110;&#19981;&#33391;&#30340;&#20132;&#27969;&#65292;&#20320;&#21644;&#21516;&#20107;Sally&#65292;&#21516;&#26102;&#32534;&#36753;&#20102;<code class="filename">sandwich.txt</code>&#12290;Sally&#25552;&#20132;&#20102;&#20462;&#25913;&#65292;&#24403;&#20320;&#20934;&#22791;&#26356;&#26032;&#20320;&#30340;&#24037;&#20316;&#25335;&#36125;&#65292;&#20914;&#31361;&#21457;&#29983;&#20102;&#65292;&#25105;&#20204;&#19981;&#24471;&#19981;&#21435;&#20462;&#25913;<code class="filename">sandwich.txt</code>&#26469;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#12290;&#39318;&#20808;&#65292;&#30475;&#19968;&#19979;&#36825;&#20010;&#25991;&#20214;&#65306;</p><pre class="screen">
$ cat sandwich.txt
Top piece of bread
Mayonnaise
Lettuce
Tomato
Provolone
&lt;&lt;&lt;&lt;&lt;&lt;&lt; .mine
Salami
Mortadella
Prosciutto
=======
Sauerkraut
Grilled Chicken
&gt;&gt;&gt;&gt;&gt;&gt;&gt; .r2
Creole Mustard
Bottom piece of bread
</pre><p>The strings of less-than signs, equal signs, and
          greater-than signs are conflict markers and are not part of
          the actual data in conflict.  You generally want to ensure
          that those are removed from the file before your next
          commit.  The text between the first two sets of markers is
          composed of the changes you made in the conflicting
          area:</p><pre class="screen">
&lt;&lt;&lt;&lt;&lt;&lt;&lt; .mine
Salami
Mortadella
Prosciutto
=======
</pre><p>&#21518;&#20004;&#32452;&#20043;&#38388;&#30340;&#26159;Sally&#25552;&#20132;&#30340;&#20462;&#25913;&#20914;&#31361;&#65306;</p><pre class="screen">
=======
Sauerkraut
Grilled Chicken
&gt;&gt;&gt;&gt;&gt;&gt;&gt; .r2
</pre><p>Usually you won't want to just delete the conflict
          markers and Sally's changes&#8212;she's going to be awfully
          surprised when the sandwich arrives and it's not what she
          wanted.  So this is where you pick up the phone or walk
          across the office and explain to Sally that you can't get
          sauerkraut from an Italian deli.
          <sup>[<a name="d0e3028" href="svn.tour.cycle.html#ftn.d0e3028" class="footnote">6</a>]</sup>
          Once you've agreed on the changes you will check in, edit
          your file and remove the conflict markers.</p><pre class="screen">
Top piece of bread
Mayonnaise
Lettuce
Tomato
Provolone
Salami
Mortadella
Prosciutto
Creole Mustard
Bottom piece of bread
</pre><p>Now run <span class="command"><strong>svn resolve</strong></span>, and you're
          ready to commit your changes:</p><pre class="screen">
$ svn resolve --accept working sandwich.txt
Resolved conflicted state of 'sandwich.txt'
$ svn commit -m "Go ahead and use my sandwich, discarding Sally's edits."
</pre><p>Note that <span class="command"><strong>svn resolve</strong></span>, unlike most of
          the other commands we deal with in this chapter, requires
          that you explicitly list any filenames that you wish to
          resolve.  In any case, you want to be careful and run
          <span class="command"><strong>svn resolve</strong></span> only when you're certain that
          you've fixed the conflict in your file&#8212;once the
          temporary files are removed, Subversion will let you commit
          the file even if it still contains conflict markers.</p><p>&#35760;&#20303;&#65292;&#22914;&#26524;&#20320;&#20462;&#25913;&#20914;&#31361;&#26102;&#24863;&#21040;&#28151;&#20081;&#65292;&#20320;&#21487;&#20197;&#21442;&#32771;subversion&#29983;&#25104;&#30340;&#19977;&#20010;&#25991;&#20214;&#8212;&#21253;&#25324;&#20320;&#26410;&#20316;&#26356;&#26032;&#30340;&#25991;&#20214;&#12290;&#20320;&#20063;&#21487;&#20197;&#20351;&#29992;&#19977;&#26041;&#20132;&#20114;&#21512;&#24182;&#24037;&#20855;&#26816;&#39564;&#36825;&#19977;&#20010;&#25991;&#20214;&#12290;</p></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="svn.tour.cycle.resolve.theirsfull"></a>Discarding your changes in favor of a newly fetched revision</h4></div></div></div><p>If you get a conflict and decide that you want to throw
          out your changes, you can run <span class="command"><strong>svn resolve --accept
          theirs-full</strong></span> and Subversion will discard your edits
          and remove the temporary files:</p><pre class="screen">
$ svn update
Conflict discovered in 'sandwich.txt'.
Select: (p) postpone, (df) diff-full, (e) edit,
        (h) help for more options: p
C    sandwich.txt
Updated to revision 2.
$ ls sandwich.*
sandwich.txt  sandwich.txt.mine  sandwich.txt.r2  sandwich.txt.r1
$ svn resolve --accept theirs-full sandwich.txt
Resolved conflicted state of 'sandwich.txt'
</pre></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="svn.tour.cycle.resolve.revert"></a>Punting: using <span class="command"><strong>svn revert</strong></span></h4></div></div></div><p>If you decide that you want to throw out your changes
          and start your edits again (Whether this occurs after a
          conflict or anytime), just revert your changes:</p><pre class="screen">
$ svn revert sandwich.txt
Reverted 'sandwich.txt'
$ ls sandwich.*
sandwich.txt
</pre><p>Note that when you revert a conflicted file, you don't
          have to run <span class="command"><strong>svn resolve</strong></span>.</p></div></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="svn.tour.cycle.commit"></a>&#25552;&#20132;&#20320;&#30340;&#20462;&#25913;</h3></div></div></div><p>&#26368;&#21518;&#65281;&#20320;&#30340;&#20462;&#25913;&#32467;&#26463;&#20102;&#65292;&#20320;&#21512;&#24182;&#20102;&#26381;&#21153;&#22120;&#19978;&#25152;&#26377;&#30340;&#20462;&#25913;&#65292;&#20320;&#20934;&#22791;&#22909;&#25552;&#20132;&#20462;&#25913;&#21040;&#29256;&#26412;&#24211;&#12290;</p><p><span class="command"><strong>svn commit</strong></span>&#21629;&#20196;&#21457;&#36865;&#25152;&#26377;&#30340;&#20462;&#25913;&#21040;&#29256;&#26412;&#24211;&#65292;&#24403;&#20320;&#25552;&#20132;&#20462;&#25913;&#26102;&#65292;&#20320;&#38656;&#35201;&#25552;&#20379;&#19968;&#20123;&#25551;&#36848;&#20462;&#25913;&#30340;<em class="firstterm">&#26085;&#24535;&#20449;&#24687;</em>&#65292;&#20320;&#30340;&#20449;&#24687;&#20250;&#38468;&#21040;&#36825;&#20010;&#20462;&#35746;&#29256;&#26412;&#19978;&#65292;&#22914;&#26524;&#20449;&#24687;&#24456;&#31616;&#30701;&#65292;&#20320;&#21487;&#20197;&#22312;&#21629;&#20196;&#34892;&#20013;&#20351;&#29992;<code class="option">--message</code>(&#25110;<code class="option">-m</code>)&#36873;&#39033;&#65306;</p><pre class="screen">
$ svn commit -m "Corrected number of cheese slices."
Sending        sandwich.txt
Transmitting file data .
Committed revision 3.
</pre><p>However, if you've been composing your log message as you
        work, you may want to tell Subversion to get the message from
        a file by passing the filename with the
        <code class="option">--file</code> (<code class="option">-F</code>) option:</p><pre class="screen">
$ svn commit -F logmsg
Sending        sandwich.txt
Transmitting file data .
Committed revision 4.
</pre><p>&#22914;&#26524;&#20320;&#27809;&#26377;&#25351;&#23450;<code class="option">--message</code>&#25110;&#32773;<code class="option">--file</code>&#36873;&#39033;&#65292;Subversion&#20250;&#33258;&#21160;&#22320;&#21551;&#21160;&#20320;&#26368;&#21916;&#27426;&#30340;&#32534;&#36753;&#22120;(&#35265;<a class="xref" href="svn.customization.html#svn.advanced.confarea.opts.config"  title="&#37197;&#32622;">&#8220;&#37197;&#32622;&#8221;&#19968;&#33410;</a>&#30340;<code class="literal">editor-cmd</code>&#37096;&#20998;)&#26469;&#32534;&#36753;&#26085;&#24535;&#20449;&#24687;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><p>&#22914;&#26524;&#20320;&#20351;&#29992;&#32534;&#36753;&#22120;&#25776;&#20889;&#26085;&#24535;&#20449;&#24687;&#26102;&#24076;&#26395;&#21462;&#28040;&#25552;&#20132;&#65292;&#20320;&#21487;&#20197;&#30452;&#25509;&#20851;&#25481;&#32534;&#36753;&#22120;&#65292;&#19981;&#35201;&#20445;&#23384;&#65292;&#22914;&#26524;&#20320;&#24050;&#32463;&#20570;&#36807;&#20445;&#23384;&#65292;&#21482;&#35201;&#31616;&#21333;&#30340;&#21024;&#25481;&#25152;&#26377;&#30340;&#25991;&#26412;&#24182;&#20877;&#27425;&#20445;&#23384;&#65292;&#28982;&#21518;&#36864;&#20986;&#12290;</p><pre class="screen">
$ svn commit
Waiting for Emacs...Done

Log message unchanged or not specified
(a)bort, (c)ontinue, (e)dit
a
$
</pre></div><p>The repository doesn't know or care if your changes make
        any sense as a whole; it checks only to make sure that nobody
        else has changed any of the same files that you did when you
        weren't looking.  If somebody <span class="emphasis"><em>has</em></span> done
        that, the entire commit will fail with a message informing you
        that one or more of your files is out of date:</p><pre class="screen">
$ svn commit -m "Add another rule"
Sending        rules.txt
svn: Commit failed (details follow):
svn: File '/sandwich.txt' is out of date
&#8230;
</pre><p>(&#38169;&#35823;&#20449;&#24687;&#30340;&#31934;&#30830;&#25514;&#36766;&#20381;&#36182;&#20110;&#32593;&#32476;&#21327;&#35758;&#21644;&#20320;&#20351;&#29992;&#30340;&#26381;&#21153;&#22120;&#65292;&#20294;&#23545;&#20110;&#25152;&#26377;&#30340;&#24773;&#20917;&#65292;&#20854;&#24605;&#24819;&#23436;&#20840;&#19968;&#26679;&#12290;)</p><p>&#27492;&#21051;&#65292;&#20320;&#38656;&#35201;&#36816;&#34892;<span class="command"><strong>svn update</strong></span>&#26469;&#22788;&#29702;&#25152;&#26377;&#30340;&#21512;&#24182;&#21644;&#20914;&#31361;&#65292;&#28982;&#21518;&#20877;&#23581;&#35797;&#25552;&#20132;&#12290;</p><p>&#25105;&#20204;&#24050;&#32463;&#35206;&#30422;&#20102;Subversion&#22522;&#26412;&#30340;&#24037;&#20316;&#21608;&#26399;&#65292;&#36824;&#26377;&#35768;&#22810;&#20854;&#23427;&#29305;&#24615;&#21487;&#20197;&#31649;&#29702;&#20320;&#24471;&#29256;&#26412;&#24211;&#21644;&#24037;&#20316;&#25335;&#36125;&#65292;&#20294;&#26159;&#21482;&#20351;&#29992;&#21069;&#38754;&#20171;&#32461;&#30340;&#21629;&#20196;&#20320;&#23601;&#21487;&#20197;&#24456;&#36827;&#34892;&#26085;&#24120;&#24037;&#20316;&#20102;&#65292;&#25105;&#20204;&#36824;&#20250;&#35206;&#30422;&#26356;&#22810;&#29992;&#30340;&#36824;&#31639;&#39057;&#32321;&#30340;&#21629;&#20196;&#12290;</p></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.d0e2160" href="svn.tour.cycle.html#d0e2160" class="para">4</a>] </sup>Of course, nothing is ever totally deleted from
                  the repository&#8212;just from the
                  <code class="literal">HEAD</code> of the repository.  You can
                  get back anything you delete by checking out (or
                  updating your working copy to) a revision earlier
                  than the one in which you deleted it. Also see <a class="xref" href="svn.branchmerge.basicmerging.html#svn.branchmerge.basicmerging.resurrect"  title="&#25214;&#22238;&#21024;&#38500;&#30340;&#39033;&#30446;">&#8220;&#25214;&#22238;&#21024;&#38500;&#30340;&#39033;&#30446;&#8221;&#19968;&#33410;</a>.</p></div><div class="footnote"><p><sup>[<a name="ftn.d0e2300" href="svn.tour.cycle.html#d0e2300" class="para">5</a>] </sup>&#32780;&#19988;&#20320;&#20063;&#27809;&#26377;WAN&#21345;&#65292;&#32771;&#34385;&#21040;&#20320;&#24471;&#21040;&#25105;&#20204;&#65292;&#21704;!</p></div><div class="footnote"><p><sup>[<a name="ftn.d0e3028" href="svn.tour.cycle.html#d0e3028" class="para">6</a>] </sup>&#22914;&#26524;&#20320;&#21521;&#20182;&#20204;&#35810;&#38382;&#65292;&#20182;&#20204;&#38750;&#24120;&#26377;&#29702;&#30001;&#25226;&#20320;&#24102;&#21040;&#22478;&#22806;&#30340;&#38081;&#36712;&#19978;&#12290;</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="svn.tour.initial.html" >&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="svn.tour.html" >&#19978;&#19968;&#32423;</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="svn.tour.history.html" >&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">&#21021;&#22987;&#21270;&#26816;&#20986;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html" >&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;&#26816;&#39564;&#21382;&#21490;</td></tr></table></div></body></html>