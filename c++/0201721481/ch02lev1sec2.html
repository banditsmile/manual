<html>
<head>
  <meta name="generator" content="HTML Tidy for Windows (vers 12 April 2005), see www.w3.org">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <title>Section 2.2.  Literal Constants</title>
  <link rel="STYLESHEET" type="text/css" href="images/style.css" >
  <link rel="STYLESHEET" type="text/css" href="images/docsafari.css" >
</head>

<body>
  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td>
        <div style="MARGIN-LEFT: 0.15in;">
          <a href="toc.html" ><img src="images/teamlib.gif"  width="62" height="15" border="0" align="absmiddle" alt="Team LiB"></a>
        </div>
      </td>

      <td align="right">
        <div style="MARGIN-LEFT: 0.15in;">
          <a href="ch02lev1sec1.html" ><img src="images/previous.gif"  width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="ch02lev1sec3.html" ><img src="images/next.gif"  width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
        </div>
      </td>
    </tr>
  </table><br>

  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td valign="top">
        <a name="ch02lev1sec2"></a>

        <h3 class="docSection1Title">2.2. Literal Constants</h3>
        <h3 class="docSection1Title">2.2. 字面值常量</h3>

<a name="ch02term30"></a>
	<p class="docText">A value, such as <tt>42</tt>, in a program is known as a <b><a class="docLink" href="ch02lev1sec11.html#gloss02_30" >literal constant</a></b>: literal because we can speak of it only in terms of its value; constant because its value cannot be changed. Every literal has an associated type. For example, <tt>0</tt> is an <tt>int</tt> and <tt>3.14159</tt> is a <tt>double</tt>. Literals exist only for the built-in types. There are no literals of class types. Hence, there are no literals of any of the library types.</p>
	<p class="docText">像 <tt>42</tt> 这样的值，在程序中被当作<b><a class="docLink" href="ch02lev1sec11.html#gloss02_30" >字面值常量</a></b>。称之为字面值是因为只能用它的值称呼它，称之为常量是因为它的值不能修改。每个字面值都有相应的类型，例如：<tt>0</tt> 是 <tt>int</tt> 型，<tt>3.14159</tt> 是 <tt>double</tt> 型。只有内置类型存在字面值，没有类类型的字面值。因此，也没有任何标准库类型的字面值。</p>
	
        <a name="ch02lev2sec3"></a>
        <h4 class="docSection2Title">Rules for Integer Literals</h4>
        <h4 class="docSection2Title">整型字面值规则</h4>

        <p class="docText">We can write a literal integer constant using one of three notations: decimal, octal, or hexadecimal. These notations, of course, do not change the bit representation of the value, which is always binary. For example, we can write the value <tt>20</tt> in any of the following three ways:</p>
	<p class="docText">定义字面值整数常量可以使用以下三种进制中的任一种：十进制、八进制和十六进制。当然这些进制不会改变其二进制位的表示形式。例如，我们能将值 <tt>20</tt> 定义成下列三种形式中的任意一种：</p>
        <pre>
     20     // <span class="docEmphasis">decimal</span>
     024    // <span class="docEmphasis">octal</span>
     0x14   // <span class="docEmphasis">hexadecimal</span>
</pre><br>

        <p class="docText">Literal integer constants that begin with a leading <tt>0</tt> (zero) are interpreted as octal; those that begin with either <tt>0x</tt> or <tt>0X</tt> are interpreted as hexadecimal.</p>
	<p class="docText">以 <tt>0</tt>（零）开头的字面值整数常量表示八进制，以 <tt>0x</tt> 或 <tt>0X</tt> 开头的表示十六进制。</p>

	<a name="idd1e7839"></a><a name="idd1e7853"></a><a name="idd1e7870"></a><a name="idd1e7885"></a><a name="idd1e7900"></a><a name="idd1e7915"></a><a name="idd1e7921"></a><a name="idd1e7941"></a><a name="idd1e7959"></a><a name="idd1e7966"></a><a name="idd1e7972"></a><a name="idd1e7993"></a><a name="idd1e8009"></a><a name="idd1e8026"></a><a name="idd1e8043"></a><a name="idd1e8058"></a><a name="idd1e8075"></a><a name="idd1e8092"></a><a name="idd1e8109"></a><a name="idd1e8126"></a>
	<p class="docText">By default, the type of a literal integer constant is either <tt>int</tt> or <tt>long</tt>. The precise type depends on the value of the literalvalues that fit in an <tt>int</tt> are type <tt>int</tt> and larger values are type <tt>long</tt>. By adding a suffix, we can force the type of a literal integer constant to be type <tt>long</tt> or <tt>unsigned</tt> or <tt>unsigned long</tt>. We specify that a constant is a <tt>long</tt> by immediately following the value with either <tt>L</tt> or <tt>l</tt> (the letter "ell" in either uppercase or lowercase).</p>
	<p class="docText">字面值整数常量的类型默认为 <tt>int</tt> 或 <tt>long</tt> 类型。其精度类型决定于字面值——其值适合 <tt>int</tt> 就是 <tt>int</tt> 类型，比 <tt>int</tt> 大的值就是 <tt>long</tt> 类型。通过增加后缀，能够强制将字面值整数常量转换为 <tt>long</tt>、<tt>unsigned</tt> 或 <tt>unsigned long</tt> 类型。通过在数值后面加 <tt>L</tt> 或者 <tt>l</tt>（字母“l”大写或小写）指定常量为 <tt>long</tt> 类型。</p>
	
 <a name="ch02note04"></a>

        <div class="docNote">
          <table width="90%" border="0" cellspacing="0" cellpadding="1">
            <tr>
              <td width="60" valign="top"><img border="0" alt="" align="LEFT" width="84" height="51" src="http://shouce.jb51.net/c++/0201721481/images/0201721481/graphics/tip.jpg;400478" ></td>

              <td valign="top">
                <p class="docText">When specifying a long, use the uppercase <tt>L</tt>: the lowercase letter <tt>l</tt> is too easily mistaken for the digit 1.</p>
		<p class="docText">定义长整型时，应该使用大写字母 <tt>L</tt>。小写字母 <tt>l</tt> 很容易和数值 1 混淆。</p>
              </td>
            </tr>
          </table><br>
        </div><br>

        <p class="docText">In a similar manner, we can specify <tt>unsigned</tt> by following the literal with either <tt>U</tt> or <tt>u</tt>. We can obtain an <tt>unsigned long</tt> literal constant by following the value by both <tt>L</tt> and <tt>U</tt>. The suffix must appear with no intervening space:</p>
	<p class="docText">类似地，可通过在数值后面加 <tt>U</tt> 或 <tt>u</tt> 定义 <tt>unsigned</tt> 类型。同时加 <tt>L</tt> 和 <tt>U</tt> 就能够得到 <tt>unsigned long</tt> 类型的字面值常量。但其后缀不能有空格：</p>
        <pre>
     128u     /* <span class="docEmphasis">unsigned</span>   */          1024UL    /* <span class="docEmphasis">unsigned long</span>   */
     1L       /* <span class="docEmphasis">long</span>    */             8Lu        /* <span class="docEmphasis">unsigned long</span>   */
</pre><br>

        <p class="docText">There are no literals of type <tt>short</tt>.</p>
	<p class="docText">没有 <tt>short</tt> 类型的字面值常量。</p>

<a name="ch02lev2sec4"></a>
        <h4 class="docSection2Title">Rules for Floating-Point Literals</h4>
        <h4 class="docSection2Title">浮点字面值规则</h4>

        <p class="docText">We can use either common decimal notation or scientific notation to write floating-point literal constants. Using scientific notation, the exponent is indicated either by <tt>E</tt> or <tt>e</tt>. By default, floating-point literals are type <tt>double</tt>. We indicate single precision by following the value with either <tt>F</tt> or <tt>f</tt>. Similarly, we specify extended precision by following the value with either <tt>L</tt> or <tt>l</tt> (again, use of the lowercase <tt>l</tt> is discouraged). Each pair of literals below denote the same underlying value:</p>
	<p class="docText">通常可以用十进制或者科学计数法来表示浮点字面值常量。使用科学计数法时，指数用 <tt>E</tt> 或者 <tt>e</tt> 表示。默认的浮点字面值常量为 <tt>double</tt> 类型。在数值的后面加上 <tt>F</tt> 或 <tt>f</tt> 表示单精度。同样加上 <tt>L</tt> 或者 <tt>l</tt> 表示扩展精度（再次提醒，不提倡使用小写字母l）。下面每一组字面值表示相同的值：</p>

        <pre>
     3.14159F            .001f          12.345L            0.
     3.14159E0f          1E-3F          1.2345E1L          0e0
</pre>

        <a name="ch02lev2sec5"></a>

        <h4 class="docSection2Title">Boolean and Character Literals</h4>
        <h4 class="docSection2Title">布尔字面值和字符字面值</h4>

        <p class="docText">The words <tt>true</tt> and <tt>false</tt> are literals of type <tt>bool</tt>:</p>
	<p class="docText">单词 <tt>true</tt> 和 <tt>false</tt> 是布尔型的字面值：</p>

        <pre>
     bool test = false;
</pre>

	<a name="idd1e8398"></a><a name="idd1e8403"></a><a name="idd1e8410"></a><a name="idd1e8415"></a><a name="idd1e8420"></a><a name="idd1e8433"></a><a name="idd1e8440"></a><a name="idd1e8443"></a><a name="idd1e8449"></a><a name="idd1e8457"></a><a name="idd1e8462"></a><a name="idd1e8470"></a><a name="idd1e8478"></a><a name="idd1e8481"></a><a name="idd1e8491"></a><a name="idd1e8502"></a><a name="idd1e8510"></a><a name="idd1e8516"></a><a name="idd1e8521"></a><a name="idd1e8527"></a><a name="idd1e8532"></a><a name="idd1e8535"></a><a name="idd1e8544"></a><a name="idd1e8552"></a><a name="idd1e8555"></a><a name="idd1e8560"></a><a name="idd1e8566"></a>
        <p class="docText">Printable character literals are written by enclosing the character within single quotation marks:</p>
	<p class="docText">可打印的字符型字面值通常用一对单引号来定义：</p>
        <pre>
     'a'         '2'         ','         ' ' // <span class="docEmphItalicAlt">blank</span>
</pre>

        <p class="docText">Such literals are of type <tt>char</tt>. We can obtain a wide-character literal of type <tt>wchar_t</tt> by immediately preceding the character literal with an <tt>L</tt>, as in</p>
	<p class="docText">这些字面值都是 <tt>char</tt> 类型的。在字符字面值前加 <tt>L</tt> 就能够得到 <tt>wchar_t</tt> 类型的宽字符字面值。如：</p>

        <pre>
     L'a'
</pre>

        <a name="ch02lev2sec6"></a>

        <h4 class="docSection2Title">Escape Sequences for Nonprintable Characters</h4>
        <h4 class="docSection2Title">非打印字符的转义序列</h4>

<a name="ch02term35"></a><a name="ch02term20"></a>
        <p class="docText">Some characters are <b><a class="docLink" href="ch02lev1sec11.html#gloss02_35" >nonprintable</a></b>. A nonprintable character is a character for which there is no visible image, such as backspace or a control character. Other characters have special meaning in the language, such as the single and double quotation marks, and the backslash. Nonprintable characters and special characters are written using an <b><a class="docLink" href="ch02lev1sec11.html#gloss02_20" >escape sequence</a></b>. An escape sequence begins with a backslash. The language defines the following escape sequences:</p>
	<p class="docText">有些字符是<b><a class="docLink" href="ch02lev1sec11.html#gloss02_35" >不可打印</a></b>的。不可打印字符实际上是不可显示的字符，比如退格或者控制符。还有一些在语言中有特殊意义的字符，例如单引号、双引号和反斜线符号。不可打印字符和特殊字符都用<b><a class="docLink" href="ch02lev1sec11.html#gloss02_20" >转义字符</a></b>书写。转义字符都以反斜线符号开始，C++ 语言中定义了如下转义字符：</p>

        <table cellspacing="0" frame="void" rules="none" cellpadding="5">
          <colgroup>
            <col width="125">
            <col width="125">
            <col width="125">
            <col width="125">
          </colgroup>

          <tr>
            <td class="docTableCell" align="left" valign="top">
              <p class="docText">newline</p>
              <p class="docText">换行符 </p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText"><tt>\n</tt></p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText">horizontal tab</p>
              <p class="docText">水平制表符</p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText"><tt>\t</tt></p>
            </td>
          </tr>

          <tr>
            <td class="docTableCell" align="left" valign="top">
              <p class="docText">vertical tab</p>
              <p class="docText">纵向制表符</p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText"><tt>\v</tt></p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText">backspace</p>
              <p class="docText">退格符</p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText"><tt>\b</tt></p>
            </td>
          </tr>

          <tr>
            <td class="docTableCell" align="left" valign="top">
              <p class="docText">carriage return</p>
              <p class="docText">回车符</p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText"><tt>\r</tt></p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText">formfeed</p>
              <p class="docText">进纸符</p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText"><tt>\f</tt></p>
            </td>
          </tr>

          <tr>
            <td class="docTableCell" align="left" valign="top">
              <p class="docText">alert (bell)</p>
              <p class="docText">报警（响铃）符</p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText"><tt>\a</tt></p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText">backslash</p>
              <p class="docText">反斜线</p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText"><tt>\\</tt></p>
            </td>
          </tr>

          <tr>
            <td class="docTableCell" align="left" valign="top">
              <p class="docText">question mark</p>
              <p class="docText">疑问号</p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText"><tt>\?</tt></p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText">single quote</p>
              <p class="docText">单引号</p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText"><tt>\'</tt></p>
            </td>
          </tr>

          <tr>
            <td class="docTableCell" align="left" valign="top">
              <p class="docText">double quote</p>
              <p class="docText">双引号</p>
            </td>

            <td class="docTableCell" align="left" valign="top">
              <p class="docText"><tt>\"</tt></p>
            </td>

            <td class="docTableCell" align="left" valign="top"> </td>

            <td class="docTableCell" align="left" valign="top"> </td>
          </tr>
        </table><br>

        <p class="docText">We can write any character as a generalized escape sequence of the form</p>
        <p class="docText">我们可以将任何字符表示为以下形式的通用转义字符：</p>
        <pre>
     \ooo
</pre>

        <p class="docText">where <tt>ooo</tt> represents a sequence of as many as three octal digits. The value of the octal digits represents the numerical value of the character. The following examples are representations of literal constants using the ASCII character set:</p>
	<p class="docText">这里 <tt>ooo</tt> 表示三个八进制数字，这三个数字表示字符的数字值。下面的例子是用 ASCII 码字符集表示字面值常量：</p>
        <pre>
     \7 (<span class="docEmphasis">bell</span>)      \12 (<span class="docEmphasis">newline</span>)     \40 (<span class="docEmphasis">blank</span>)
     \0 (<span class="docEmphasis">null</span>)      \062 (<span class="docEmphasis">'2'</span>)        \115 (<span class="docEmphasis">'M'</span>)
</pre>

        <p class="docText">The character represented by '<tt>\0'</tt> is often called a "null character," and has special significance, as we shall soon see.</p>
	<p class="docText">字符’<tt>\0</tt>’通常表示“空字符（null character）”，我们将会看到它有着非常特殊的意义。</p>

        <p class="docText">We can also write a character using a hexadecimal escape sequence</p>
        <p class="docText">同样也可以用十六进制转义字符来定义字符：</p>
        <pre>
     \xddd
</pre>

        <p class="docText">consisting of a backslash, an <tt>x</tt>, and one or more hexadecimal digits.</p>
	<p class="docText">它由一个反斜线符、一个 <tt>x</tt> 和一个或者多个十六进制数字组成。</p>

<a name="ch02lev2sec7"></a>
        <h4 class="docSection2Title">Character String Literals</h4>
        <h4 class="docSection2Title">字符串字面值</h4>

<a name="ch02term4"></a>
        <p class="docText">All of the literals we've seen so far have primitive built-in types. There is one additional literalstring literalthat is more complicated. String literals are <b><a class="docLink" href="ch02lev1sec11.html#gloss02_04" ><span class="docEmphasis">arrays</span></a></b> of constant characters, a type that we'll discuss in more detail in <a class="docLink" href="ch04lev1sec3.html#ch04lev1sec3" >Section 4.3</a> (p. <a class="docLink" href="ch04lev1sec3.html#ch04lev1sec3" >130</a>).</p>
        <p class="docText">之前见过的所有字面值都有基本内置类型。还有一种字面值（字符串字面值）更加复杂。字符串字面值是一串常量字符，这种类型将在<a class="docLink" href="ch04lev1sec3.html#ch04lev1sec3" >第 4.3 节</a>详细说明。</p>

        <p class="docText">String literal constants are written as zero or more characters enclosed in double quotation marks. Nonprintable characters are represented by their underlying escape sequence.</p>
        <p class="docText">字符串字面值常量用双引号括起来的零个或者多个字符表示。不可打印字符表示成相应的转义字符。</p>
        <pre>
     "Hello World!"                 // <span class="docEmphItalicAlt">simple string literal</span>
     ""                             // <span class="docEmphItalicAlt">empty string literal</span>
     "\nCC\toptions\tfile.[cC]\n"   // <span class="docEmphItalicAlt">string literal using newlines and tabs</span>
</pre>

<a name="idd1e8854"></a><a name="idd1e8859"></a><a name="idd1e8864"></a>
        <p class="docText">For compatibility with C, string literals in C++ have one character in addition to those typed in by the programmer. Every string literal ends with a null character added by the compiler. A character literal</p>
        <p class="docText">为了兼容 C 语言，C++ 中所有的字符串字面值都由编译器自动在末尾添加一个空字符。字符字面值</p>

        <pre>
     'A' // <span class="docEmphItalicAlt">single quote: character literal</span>
</pre>

        <p class="docText">represents the single character <tt>A</tt>, whereas</p>
	<p class="docText">表示单个字符 <tt>A</tt>，然而</p>
        <pre>
     "A" // <span class="docEmphItalicAlt">double quote: character string literal</span>
</pre>

        <p class="docText">represents an array of two characters: the letter <tt>A</tt> and the null character.</p>
	<p class="docText">表示包含字母 <tt>A</tt> 和空字符两个字符的字符串。</p>

        <p class="docText">Just as there is a wide character literal, such as</p>
        <p class="docText">正如存在宽字符字面值，如</p>
        <pre>
        L'a'
</pre>

        <p class="docText">there is a wide string literal, again preceded by <tt>L</tt>, such as</p>
	<p class="docText">也存在宽字符串字面值，一样在前面加“<tt>L</tt>”，如</p>

        <pre>
      L"a wide string literal"
</pre>

        <p class="docText">The type of a wide string literal is an array of constant wide characters. It is also terminated by a wide null character.</p>
        <p class="docText">宽字符串字面值是一串常量宽字符，同样以一个宽空字符结束。</p>

<a name="ch02lev2sec8"></a>
        <h4 class="docSection2Title">Concatenated String Literals</h4>
        <h4 class="docSection2Title">字符串字面值的连接</h4>

        <p class="docText">Two string literals (or two wide string literals) that appear adjacent to one another and separated only by spaces, tabs, or newlines are concatenated into a single new string literal. This usage makes it easy to write long literals across separate lines:</p>
        <p class="docText">两个相邻的仅由空格、制表符或换行符分开的字符串字面值（或宽字符串字面值），可连接成一个新字符串字面值。这使得多行书写长字符串字面值变得简单：</p>
        <pre>
     // <span class="docEmphItalicAlt">concatenated long string literal</span>
     std::cout &lt;&lt; "a multi-line "
                  "string literal "
                  "using concatenation"
               &lt;&lt; std::endl;
</pre>

        <p class="docText">When executed this statement would print:</p>
        <p class="docText">执行这条语句将会输出：</p>

        <pre>
     <span class="docEmphStrong">a multi-line string literal using concatenation</span>
</pre>

        <p class="docText">What happens if you attempt to concatenate a string literal and a wide string literal? For example:</p>
        <p class="docText">如果连接字符串字面值和宽字符串字面值，将会出现什么结果呢？例如：</p>

        <pre>
     // <span class="docEmphItalicAlt">Concatenating plain and wide character strings is undefined</span>
     std::cout &lt;&lt; "multi-line " L"literal " &lt;&lt; std::endl;
</pre>

<a name="ch02term57"></a>
        <p class="docText">The result is <b><a class="docLink" href="ch02lev1sec11.html#gloss02_57" >undefined</a></b>that is, there is no standard behavior defined for concatenating the two different types. The program might appear to work, but it also might crash or produce garbage values. Moreover, the program might behave differently under one compiler than under another.</p>
        <p class="docText">其结果是<b><a class="docLink" href="ch02lev1sec11.html#gloss02_57" >未定义的</a></b>，也就是说，连接不同类型的行为标准没有定义。这个程序可能会执行，也可能会崩溃或者产生没有用的值，而且在不同的编译器下程序的动作可能不同。</p>

        <a name="ch02lev2sec9"></a>
        <h4 class="docSection2Title">Multi-Line Literals</h4>
        <h4 class="docSection2Title">多行字面值</h4>

        <p class="docText">There is a more primitive (and less useful) way to handle long strings that depends on an infrequently used program formatting feature: Putting a backslash as the last character on a line causes that line and the next to be treated as a single line.</p>
        <p class="docText">处理长字符串有一个更基本的（但不常使用）方法，这个方法依赖于很少使用的程序格式化特性：在一行的末尾加一反斜线符号可将此行和下一行当作同一行处理。</p>

        <p class="docText">As noted on page <a class="docLink" href="ch01lev1sec4.html#ch01sb06" >14</a>, C++ programs are largely free-format. In particular, there are only a few places that we may not insert whitespace. One of these is in the middle of a word. In particular, we may not break a line in the middle of a word. We can circumvent this rule by using a backslash:</p>
        <p class="docText">正如<a class="docLink" href="ch01lev1sec4.html#ch01sb06" >第 1.4.1 节</a>提到的，C++ 的格式非常自由。特别是有一些地方不能插入空格，其中之一是在单词中间。特别是不能在单词中间断开一行。但可以通过使用反斜线符号巧妙实现：</p>

        <pre>
      // <span class="docEmphItalicAlt">ok: A \ before a newline ignores the line break</span>
      std::cou\
      t &lt;&lt; "Hi" &lt;&lt; st\
      d::endl;
</pre>

        <p class="docText">is equivalent to</p>
        <p class="docText">等价于</p>

        <pre>
      std::cout &lt;&lt; "Hi" &lt;&lt; std::endl;
</pre>

        <p class="docText">We could use this feature to write a long string literal:</p>
        <p class="docText">可以使用这个特性来编写长字符串字面值：</p>

        <pre>
           // <span class="docEmphItalicAlt">multiline string literal</span>
           std::cout &lt;&lt; "a multi-line \
      string literal \
      using a backslash"
                    &lt;&lt; std::endl;
          return 0;
      }
</pre>

        <p class="docText">Note that the backslash must be the last thing on the lineno comments or trailing blanks are allowed. Also, any leading spaces or tabs on the subsequent lines are part of the literal. For this reason, the continuation lines of the long literal do not have the normal indentation.</p>
        <p class="docText">注意反斜线符号必须是该行的尾字符——不允许有注释或空格符。同样，后继行行首的任何空格和制表符都是字符串字面值的一部分。正因如此，长字符串字面值的后继行才不会有正常的缩进。</p>

<a name="ch02sb04"></a>
        <table cellspacing="0" width="90%" border="1" cellpadding="5">
          <tr>
            <td>
              <h2 class="docSidebarTitle">Advice: Don't Rely on Undefined Behavior</h2>
              <h2 class="docSidebarTitle">建议：不要依赖未定义行为</h2>

<a name="idd1e8977"></a><a name="idd1e8982"></a><a name="idd1e8985"></a>
              <p class="docText"><span class="docEmphStrong">Programs that use undefined behavior are in error. If they work, it is only by coincidence. Undefined behavior results from a program error that the compiler cannot detect or from an error that would be too much trouble to detect.</span></p>
              <p class="docText"><span class="docEmphStrong">使用了未定义行为的程序都是错误的，即使程序能够运行，也只是巧合。未定义行为源于编译器不能检测到的程序错误或太麻烦以至无法检测的错误。</span></p>

              <p class="docText"><span class="docEmphStrong">Unfortunately, programs that contain undefined behavior can appear to execute correctly in some circumstances and/or on one compiler. There is no guarantee that the same program, compiled under a different compiler or even a subsequent release of the current compiler, will continue to run correctly. Nor is there any guarantee that what works with one set of inputs will work with another.</span></p>
              <p class="docText"><span class="docEmphStrong">不幸的是，含有未定义行为的程序在有些环境或编译器中可以正确执行，但并不能保证同一程序在不同编译器中甚至在当前编译器的后继版本中会继续正确运行，也不能保证程序在一组输入上可以正确运行且在另一组输入上也能够正确运行。</span></p>

              <p class="docText"><span class="docEmphStrong">Programs should not (knowingly) rely on undefined behavior. Similarly, programs usually should not rely on machine-dependent behavior, such as assuming that the size of an <tt>int</tt> is a fixed and known value. Such programs are said to be <span class="docEmphasis">nonportable</span>. When the program is moved to another machine, any code that relies on machine-dependent behavior may have to be found and corrected. Tracking down these sorts of problems in previously working programs is, mildly put, a profoundly unpleasant task.</span></p>
	      <p class="docText"><span class="docEmphStrong">程序不应该依赖未定义行为。同样地，通常程序不应该依赖机器相关的行为，比如假定 <tt>int</tt> 的位数是个固定且已知的值。我们称这样的程序是<span class="docEmphasis">不可移植的</span>。当程序移植到另一台机器上时，要寻找并更改任何依赖机器相关操作的代码。在本来可以运行的程序中寻找这类问题是一项非常不愉快的任务。</span></p>
            </td>
          </tr>
        </table>


<a name="ch02sb05"></a>
        <table cellspacing="0" width="90%" border="1" cellpadding="5">
          <tr>
            <td>
              <h2 class="docSidebarTitle">Exercises Section 2.2</h2>

              <blockquote>
                <table border="0" cellspacing="16" cellpadding="0">
                  <tr valign="top">
                    <td align="right" class="docText" width="50"><a name="ch02qa2q1"></a><b>Exercise 2.7:</b></td>

                    <td>
<a name="idd1e9069"></a>
                      <p class="docText">Explain the difference between the following sets of literal constants:</p>
                      <p class="docText">解释下列字面值常量的不同之处。</p>
                      <pre>
  (a) 'a',L 'a',"a",L"a"
  (b) 10, 10u, 10L, 10uL, 012, 0xC
  (c) 3.14, 3.14f, 3.14L
</pre>
                    </td>
                  </tr>

                  <tr valign="top">
                    <td align="right" class="docText" width="50"><a name="ch02qa2q2"></a><b>Exercise 2.8:</b></td>

                    <td>
                      <p class="docText">Determine the type of each of these literal constants:</p>
                      <p class="docText">确定下列字面值常量的类型：</p>
                      <pre>
      (a) -10 (b) -10u (c) -10. (d) -10e-2
</pre>
                    </td>
                  </tr>

                  <tr valign="top">
                    <td align="right" class="docText" width="50"><a name="ch02qa2q3"></a><b>Exercise 2.9:</b></td>

                    <td>
                      <p class="docText">Which, if any, of the following are illegal?</p>
                      <p class="docText">下列哪些（如果有）是非法的？</p>
                      <pre>
      (a) "Who goes with F\145rgus?\012"
      (b) 3.14e1L          (c) "two" L"some"
      (d) 1024f            (e) 3.14UL
      (f) "multiple line
           comment"
</pre>
                    </td>
                  </tr>

                  <tr valign="top">
                    <td align="right" class="docText" width="50"><a name="ch02qa2q4"></a><b>Exercise 2.10:</b></td>

                    <td>
                      <p class="docText">Using escape sequences, write a program to print <tt>2M</tt> followed by a newline. Modify the program to print <tt>2</tt>, then a tab, then an <tt>M</tt>, followed by a newline.</p>
		      <p class="docText">使用转义字符编写一段程序，输出 <tt>2M</tt>，然后换行。修改程序，输出 <tt>2</tt>，跟着一个制表符，然后是 <tt>M</tt>，最后是换行符。</p>
                    </td>
                  </tr>
                </table>
              </blockquote>
            </td>
          </tr>
        </table>
        <a href="21001535.html" ><img src="images/pixel.gif"  alt="" width="1" height="1" border="0"></a>
      </td>
    </tr>
  </table>

  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td>
        <div style="MARGIN-LEFT: 0.15in;">
          <a href="toc.html" ><img src="images/teamlib.gif"  width="62" height="15" border="0" align="absmiddle" alt="Team LiB"></a>
        </div>
      </td>

      <td align="right">
        <div style="MARGIN-LEFT: 0.15in;">
          <a href="ch02lev1sec1.html" ><img src="images/previous.gif"  width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="ch02lev1sec3.html" ><img src="images/next.gif"  width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
        </div>
      </td>
    </tr>
  </table>
</body>
</html>
