<html>
<head>
  <meta name="generator" content="HTML Tidy for Windows (vers 12 April 2005), see www.w3.org">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <title>Section 5.9.  Comma Operator</title>
  <link rel="STYLESHEET" type="text/css" href="images/style.css" >
  <link rel="STYLESHEET" type="text/css" href="images/docsafari.css" >
</head>

<body>
  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td>
        <div style="MARGIN-LEFT: 0.15in;">
          <a href="toc.html" ><img src="images/teamlib.gif"  width="62" height="15" border="0" align="absmiddle" alt="Team LiB"></a>
        </div>
      </td>

      <td align="right">
        <div style="MARGIN-LEFT: 0.15in;">
          <a href="ch05lev1sec8.html" ><img src="images/previous.gif"  width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="ch05lev1sec10.html" ><img src="images/next.gif"  width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
        </div>
      </td>
    </tr>
  </table><br>

  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td valign="top">
        <a name="ch05lev1sec9"></a>

        <h3 class="docSection1Title">5.9. Comma Operator</h3>
        <h3 class="docSection1Title">5.9. 逗号操作符</h3>

	<a name="idd1e35500"></a><a name="idd1e35505"></a><a name="idd1e35511"></a><a name="idd1e35514"></a><a name="idd1e35519"></a><a name="idd1e35527"></a>
        <p class="docText">A <span class="docEmphStrong">comma expression</span> is a series of expressions separated by commas. The expressions are evaluated from left to right. The result of a comma expression is the value of the rightmost expression. The result is an lvalue if the rightmost operand is an lvalue. One common use for the comma operator is in a <tt>for</tt> loop.</p>
        <p class="docText"><span class="docEmphStrong">逗号表达式</span>是一组由逗号分隔的表达式，这些表达式从左向右计算。逗号表达式的结果是其最右边表达式的值。如果最右边的操作数是左值，则逗号表达式的值也是左值。此类表达式通常用于for循环：</p>
        <pre>
     int cnt = ivec.size();
     // <span class="docEmphItalicAlt">add elements from</span> <span class="docEmphasis">size... 1</span> <span class="docEmphItalicAlt">to</span> <span class="docEmphasis">ivec</span>
     for(vector&lt;int&gt;::size_type ix = 0;
                     ix != ivec.size(); ++ix, --cnt)
         ivec[ix] = cnt;
</pre>

        <p class="docText">This loop increments <tt>ix</tt> and decrements <tt>cnt</tt> in the expression in the <tt>for</tt> header. Both <tt>ix</tt> and <tt>cnt</tt> are changed on each trip through the loop. As long as the test of <tt>ix</tt> succeeds, we reset the next element to the current value of <tt>cnt</tt>.</p>
	<p class="docText">上述的 <tt>for</tt> 语句在循环表达式中使 <tt>ix</tt> 自增 1 而 <tt>cnt</tt> 自减 1。每次循环均要修改 <tt>ix</tt> 和 <tt>cnt</tt> 的值。当检验 <tt>ix</tt> 的条件判断成立时，程序将下一个元素重新设置为 <tt>cnt</tt> 的当前值。</p>

	<a name="ch05sb13"></a>
        <table cellspacing="0" width="90%" border="1" cellpadding="5">
          <tr>
            <td>
              <h2 class="docSidebarTitle">Exercises Section 5.9</h2>

              <blockquote>
                <table border="0" cellspacing="16" cellpadding="0">
                  <tr valign="top">
                    <td align="right" class="docText" width="50"><a name="ch05qa10q1"></a><b>Exercise 5.24:</b></td>

                    <td>
                      <p class="docText">The program in this section is similar to the program on page <a class="docLink" href="ch05lev1sec5.html#ch05sb07" >163</a> that added elements to a <tt>vector</tt>. Both programs decremented a counter to generate the element values. In this program we used the prefix decrement and the earlier one used postfix. Explain why we used prefix in one and postfix in the other.</p>
		      <p class="docText">本节的程序与<a class="docLink" href="ch05lev1sec5.html#ch05sb07" >第 5.5 节</a>在 <tt>vector</tt> 对象中添加元素的程序类似。两段程序都使用递减的计数器生成元素的值。本程序中，我们使用了前自减操作，而<a class="docLink" href="ch05lev1sec5.html#ch05sb07" >第 5.5 节</a>的程序则使用了后自减操作。解释为什么一段程序中使用前自减操作而在另一段程序中使用后自减操作。</p>
                    </td>
                  </tr>
                </table>
              </blockquote>
            </td>
          </tr>
        </table>
        <a href="21001535.html" ><img src="images/pixel.gif"  alt="" width="1" height="1" border="0"></a>
      </td>
    </tr>
  </table>

  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td>
        <div style="MARGIN-LEFT: 0.15in;">
          <a href="toc.html" ><img src="images/teamlib.gif"  width="62" height="15" border="0" align="absmiddle" alt="Team LiB"></a>
        </div>
      </td>

      <td align="right">
        <div style="MARGIN-LEFT: 0.15in;">
          <a href="ch05lev1sec8.html" ><img src="images/previous.gif"  width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="ch05lev1sec10.html" ><img src="images/next.gif"  width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
        </div>
      </td>
    </tr>
  </table>
</body>
</html>
