<!DOCTYPE html>
    <!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
    <!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <title>On-Premises Deployment</title> 
        <link rel="shortcut icon" href="../../../static_star_theme/img/favicon.ico"/>
        <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="../../../static_star_theme/css/theme.css" type="text/css" /> 
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
    </head>

    <body class="wy-body-for-nav" role="document">

    <div class="wy-grid-for-nav">

        <div class="wy-full-navbar" data-swiftype-index="false">
            <a href="http://www.memsql.com" class="logo">
                <img src="../../../static_star_theme/img/memsql_logo_horizontal_white.svg" />
            </a>
            <div class="global nav">
                <div class="pull-left left-links">
                </div>
                <div class="pull-right right-links">
                    <a href="http://www.memsql.com/community/" style="word-spacing: 2px;">Community Edition</a>
                    <a href="http://blog.memsql.com">Blog</a>
                    <a href="http://www.memsql.com/memsql-partners">Partners</a>
                    <a href="http://www.memsql.com/resources">Resources</a>
                    <a href="../../../index.html">Documentation</a>
                    <a href="http://www.memsql.com/contact">Contact</a>
                </div>
            </div>
            <div class="nav-links">
                <a href="http://www.memsql.com/product">Product</a>
                <a href="http://www.memsql.com/solutions">Solutions</a>
                <a href="http://www.memsql.com/case-studies">Case Studies</a>
                <a href="http://www.memsql.com/company">Company</a>
                <a class="download" href="http://www.memsql.com/download/">Download Now</a>
            </div>
        </div>

        <nav data-toggle="wy-nav-shift" class="wy-nav-side" data-swiftype-index="false">
            <div class="wy-side-nav-search">
                <div role="search">
  <form id="search-form" class="wy-form" method="get">
    <input type="text" id="st-search-input" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
            </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                
                 <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">MemSQL Docs Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">How MemSQL Works</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../quick_start/index.html">Quick Start</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="index.html">On-Premises Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup_cloud/index.html">Amazon Web Services Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docker/index.html">Quick Start with Docker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/index.html">Operations Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ref/commands_by_type/index.html">SQL Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/config/index.html">Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ops/index.html">MemSQL Ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../loader/index.html">MemSQL Loader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../editions/index.html">MemSQL Editions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">Frequently Asked Questions</a></li>
</ul>
 
            </div>
            &nbsp;
        </nav>

        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
            <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                <a href="../../../index.html" class="logo">
                    <img src="../../../static_star_theme/img/memsql_logo_horizontal_white.svg" />
                    <span class="subtitle">Documentation</span>
                </a>
            </nav>

            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">MemSQL Documentation</a> &raquo;</li>
      
          <li><a href="../quick_start/index.html">Quick Start</a> &raquo;</li>
      
    <li>On-Premises Deployment</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
                    <div role="main" class="document">
                        
  <div class="section" id="on-premises-deployment">
<h1>On-Premises Deployment<a class="headerlink" href="index.html#on-premises-deployment" title="Permalink to this headline">Â¶</a></h1>
<p>The fastest way to deploy MemSQL on-premises is using MemSQL Ops, the MemSQL-supported tool for installation, configuration, management and monitoring of MemSQL clusters.</p>
<p>To successfully run through these steps, make sure that you are running on a 64-bit Linux operating system. For a full list of MemSQL system requirements, see the <a class="reference internal" href="../requirements/index.html"><em>System Requirements</em></a> section.</p>
<p>For each host where you plan to install and run MemSQL, make sure ports 3306 and 9000 are open. Port 3306 is used by the MemSQL database, and port 9000 is used by MemSQL Ops.</p>
<p>Now you&#8217;re ready to set up your MemSQL cluster! Shown below is the startup screen of MemSQL Ops that explains how to set up a cluster.</p>
<img alt="../../_images/install-steps.png" class="align-center" src="../../_images/install-steps.png" />
<p>Follow the steps below to set up your MemSQL cluster:</p>
<ol class="arabic simple">
<li>Download latest version of MemSQL from the <a class="reference external" href="http://memsql.com/download">MemSQL download page</a>. This will download the MemSQL Ops installer packaged as a compressed tar.gz.</li>
</ol>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li>Choose one host in your intended MemSQL cluster to contain the primary MemSQL Ops agent.</li>
</ol>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="3">
<li>Unpack the compressed MemSQL Ops installer within your chosen primary host, which expands into the MemSQL Ops folder, <tt class="docutils literal"><span class="pre">memsql-ops-&lt;version&gt;</span></tt>.</li>
</ol>
<div class="highlight-bash"><div class="highlight"><pre>tar zxvf memsql-ops-&lt;version&gt;.tar.gz
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="4">
<li>Within that MemSQL Ops folder, run <tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">./install.sh</span></tt>. This will install MemSQL Ops on the primary host. Specifically, it will do the following:</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>Setup the <tt class="docutils literal"><span class="pre">memsql</span></tt> user and group on the host</li>
<li>Install <tt class="docutils literal"><span class="pre">memsql-ops</span></tt> in <tt class="docutils literal"><span class="pre">/var/lib/memsql-ops</span></tt></li>
<li>Set up MemSQL Ops to initialize at system startup</li>
<li>Configure Linux system parameters that ensure optimal MemSQL database performance</li>
</ul>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="5">
<li>Once MemSQL Ops is installed on the primary host, the MemSQL Ops web interface will be accessible on <tt class="docutils literal"><span class="pre">http://&lt;primary_host_name&gt;:9000</span></tt>. Point your browser to that URL and follow the steps to configure additional MemSQL Ops hosts and finish configuring your MemSQL cluster.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you are not able to open the MemSQL Ops web interface URL, verify that port 9000 is accessible on your host. If it is not possible to expose port 9000, you can either:</p>
<ul class="last simple">
<li>Run the MemSQL Ops agent on a different port and proceed with the installation process below.</li>
<li>Install a MemSQL cluster on a single machine purely through MemSQL Ops command-line functions. This requires knowledge of the MemSQL Ops CLI.</li>
<li>Install a MemSQL cluster manually without MemSQL Ops. This requires knowledge of manual MemSQL cluster configuration.</li>
</ul>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="6">
<li>MemSQL Ops will first ask if you would like to install the Enterprise or Community Edition.</li>
</ol>
<img alt="../../_images/community-or-enterprise.png" class="align-center" src="../../_images/community-or-enterprise.png" />
<p>If you choose the Enterprise Edition, MemSQL Ops will ask for a valid Enterprise license key. If you do not have one already, you can obtain an Enterprise trial license key either through <a class="reference external" href="http://memsql.com/download">memsql.com/download</a> or by contacting your MemSQL sales representative.</p>
<p>Community Edition users do not need to specify a license key.</p>
<ol class="arabic simple" start="7">
<li>MemSQL Ops will then ask if you would like to set up a &#8220;full cluster installation&#8221; or a &#8220;cluster in a box installation&#8221;.</li>
</ol>
<img alt="../../_images/cluster-setup-options.png" class="align-center" src="../../_images/cluster-setup-options.png" />
<p>A <em>full cluster</em> installation sets up a MemSQL cluster across several hosts. A <em>cluster in a box</em> installation sets up an entire MemSQL cluster with one master aggregator and one leaf node in a single host.</p>
<p>Setting up an entire MemSQL cluster using the <em>cluster in a box</em> option is possible and recommended for quick functional testing. That said, it is not recommended for production environments where performance and high availability are critical. When configuring a MemSQL cluster in a single box, it is important to ensure port numbers of MemSQL aggregator and leaf nodes do not conflict.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="8">
<li>If you choose the <em>full cluster</em> option, you will see the <em>Add Hosts</em> screen, where you can input information about your cluster.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This step is skipped if the <em>cluster in a box</em> option is selected.</p>
</div>
<img alt="../../_images/provision-hosts.png" class="align-center" src="../../_images/provision-hosts.png" />
<p>As is shown in the image above, this screen allows you to type in the hostnames, and the SSH access credentials - username, password and ssh private key. Through SSH, the primary MemSQL Ops agent will install itself into those other hosts.</p>
<p>You will then see a prompt that summarizes the hosts to be configured. You can edit the configuration to your liking. Once you are satisfied, click the <em>Provision Hosts</em> button. This will install the MemSQL Ops agent in each of the hosts.</p>
<p>You can add more hosts later by opening the <em>Add Hosts</em> screen at any time. Simply click the &#8220;+&#8221; button in the Cluster screen and select <em>Add Hosts</em>.</p>
<img alt="../../_images/plus_button.png" class="align-center" src="../../_images/plus_button.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="9">
<li>Once hosts are set up, you can deploy MemSQL nodes. If you select the <em>full cluster</em> option, you should see the <em>Deploy MemSQL</em> screen immediately after you have configured hosts. Specifically, you will see a prompt that recommends a possible configuration (master aggregator, child aggregators, leaf nodes) for your cluster. You can edit the configuration to your choosing. Once you are satisfied, click <em>Deploy MemSQL Cluster</em>.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you selected the <em>cluster in a box</em> option, you will be placed directly into this step.</p>
</div>
<img alt="../../_images/confirm-memsql-nodes.png" class="align-center" src="../../_images/confirm-memsql-nodes.png" />
<p>MemSQL Ops will then download the MemSQL database binary, install it on each host, and set up the MemSQL cluster according to your desired configuration.</p>
<p>Once this step is finished, you have successfully deployed a MemSQL cluster!</p>
<p>You can add more MemSQL nodes into existing hosts later by opening the <em>Add MemSQL Nodes</em> screen at any time. Simply  click the &#8220;+&#8221; button and select <em>Add MemSQL Nodes</em>.</p>
<ol class="arabic simple" start="10">
<li>To test that everything is set up correctly, connect to the master aggregator using any valid MySQL client driver. For example:</li>
</ol>
<div class="highlight-bash"><div class="highlight"><pre>mysql -u root -h &lt;master_aggregator_hostname&gt; -P 3306 --prompt<span class="o">=</span><span class="s2">&quot;memsql&gt; &quot;</span>
</pre></div>
</div>
<p>You can now start creating databases and querying MemSQL! Here&#8217;s a set of sample commands to get you started. You can copy-paste these directly into your MemSQL session.</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="c1">-- create a new user</span>
<span class="k">grant</span> <span class="k">all</span> <span class="k">on</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">to</span> <span class="s1">&#39;myuser&#39;</span><span class="o">@</span><span class="s1">&#39;%&#39;</span><span class="p">;</span>
<span class="c1">-- create a new database</span>
<span class="k">create</span> <span class="k">database</span> <span class="n">mymemsqldb</span><span class="p">;</span>
<span class="k">show</span> <span class="n">databases</span><span class="p">;</span>
<span class="n">use</span> <span class="n">mymemsqldb</span><span class="p">;</span>
<span class="c1">-- create a new table</span>
<span class="k">create</span> <span class="k">table</span> <span class="n">mytable</span> <span class="p">(</span><span class="n">id</span> <span class="nb">INT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">name</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
<span class="k">show</span> <span class="n">tables</span><span class="p">;</span>
<span class="k">describe</span> <span class="n">mytable</span><span class="p">;</span>
<span class="c1">-- perform data query operations</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">mytable</span> <span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">);</span>
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">mytable</span><span class="p">;</span>
</pre></div>
</div>
<p>Should you run into any errors due to system configuration issues or constraints in your development environment, see the <a class="reference internal" href="../offline/index.html"><em>Offline Installation</em></a> section for more information.</p>
<p><strong>Next Steps</strong></p>
<ul class="simple">
<li><a class="reference internal" href="../../concepts/multi_insert_examples/index.html"><em>Concurrent Multi-Insert Examples</em></a></li>
<li><a class="reference internal" href="../../concepts/how_to_run_queries/index.html"><em>How to Run Queries</em></a></li>
<li><a class="reference internal" href="../../../index.html"><em>MemSQL Docs Home</em></a></li>
<li><a class="reference internal" href="../../intro/index.html"><em>How MemSQL Works</em></a></li>
<li><a class="reference internal" href="../../concepts/index.html"><em>User Manual</em></a></li>
<li><a class="reference internal" href="../../admin/index.html"><em>Operations Manual</em></a></li>
<li><a class="reference internal" href="../../ops/index.html"><em>MemSQL Ops</em></a></li>
</ul>
</div>


                    </div>
                    <footer data-swiftype-index="false">
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../setup_cloud/index.html" class="btn btn-neutral float-right" title="Amazon Web Services Deployment">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../quick_start/index.html" class="btn btn-neutral" title="Quick Start"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>&copy; Copyright 2015, MemSQL</p>
  </div>
</footer>
                </div>
            </div>

        </section>
    </div>

    <script type="text/javascript" src="../../../static_star_theme/js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/underscore-min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.ba-hashchange.min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.swiftype.search.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.swiftype.autocomplete.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/theme.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/search.js"></script> 

        <!-- Google Analytics -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-21693588-3', 'auto');
            ga('send', 'pageview');
        </script>
        <!-- End Google Analytics -->

        <script type="text/javascript">
            $.ajax({
                url: document.location.protocol + '//munchkin.marketo.net/munchkin.js',
                dataType: 'script',
                cache: true,
                success: function() {
                    Munchkin.init('759-YLI-316');
                }
            });
        </script>
    </body>
</html>