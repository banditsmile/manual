<!DOCTYPE html>
    <!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
    <!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <title>MemSQL Ops Command Line Interface Reference</title> 
        <link rel="shortcut icon" href="../../../static_star_theme/img/favicon.ico"/>
        <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="../../../static_star_theme/css/theme.css" type="text/css" /> 
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
    </head>

    <body class="wy-body-for-nav" role="document">

    <div class="wy-grid-for-nav">

        <div class="wy-full-navbar" data-swiftype-index="false">
            <a href="http://www.memsql.com" class="logo">
                <img src="../../../static_star_theme/img/memsql_logo_horizontal_white.svg" />
            </a>
            <div class="global nav">
                <div class="pull-left left-links">
                </div>
                <div class="pull-right right-links">
                    <a href="http://www.memsql.com/community/" style="word-spacing: 2px;">Community Edition</a>
                    <a href="http://blog.memsql.com">Blog</a>
                    <a href="http://www.memsql.com/memsql-partners">Partners</a>
                    <a href="http://www.memsql.com/resources">Resources</a>
                    <a href="../../../index.html">Documentation</a>
                    <a href="http://www.memsql.com/contact">Contact</a>
                </div>
            </div>
            <div class="nav-links">
                <a href="http://www.memsql.com/product">Product</a>
                <a href="http://www.memsql.com/solutions">Solutions</a>
                <a href="http://www.memsql.com/case-studies">Case Studies</a>
                <a href="http://www.memsql.com/company">Company</a>
                <a class="download" href="http://www.memsql.com/download/">Download Now</a>
            </div>
        </div>

        <nav data-toggle="wy-nav-shift" class="wy-nav-side" data-swiftype-index="false">
            <div class="wy-side-nav-search">
                <div role="search">
  <form id="search-form" class="wy-form" method="get">
    <input type="text" id="st-search-input" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
            </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                
                 <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">MemSQL Docs Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">How MemSQL Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup/quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup/get_started/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/index.html">Operations Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ref/commands_by_type/index.html">SQL Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/config/index.html">Configuration Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">MemSQL Ops</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview/index.html">MemSQL Ops Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/index.html">MemSQL Ops Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html">Installing and Configuring MemSQL Ops</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="index.html">MemSQL Ops Command Line Interface Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#full-memsql-ops-cli-commands">Full MemSQL Ops CLI Commands</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../loader/index.html">MemSQL Loader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../editions/index.html">MemSQL Editions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">Frequently Asked Questions</a></li>
</ul>
 
            </div>
            &nbsp;
        </nav>

        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
            <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                <a href="../../../index.html" class="logo">
                    <img src="../../../static_star_theme/img/memsql_logo_horizontal_white.svg" />
                    <span class="subtitle">Documentation</span>
                </a>
            </nav>

            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">MemSQL Documentation</a> &raquo;</li>
      
          <li><a href="../index.html">MemSQL Ops</a> &raquo;</li>
      
    <li>MemSQL Ops Command Line Interface Reference</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
                    <div role="main" class="document">
                        
  <div class="section" id="memsql-ops-command-line-interface-reference">
<h1>MemSQL Ops Command Line Interface Reference<a class="headerlink" href="index.html#memsql-ops-command-line-interface-reference" title="Permalink to this headline">¶</a></h1>
<p>This section describes the command line interface (CLI) for MemSQL Ops, which can be run through <tt class="docutils literal"><span class="pre">memsql-ops</span></tt> on a host with a MemSQL Ops installed.</p>
<p>MemSQL Ops commands were designed to be composable. The command line interface was optimized for scripting MemSQL deployments. For example, to deploy MemSQL leaf nodes into hosts with MemSQL Ops follower agents installed, you can run this command:</p>
<div class="highlight-bash"><div class="highlight"><pre>memsql-ops agent-list -q -r follower | xargs -n 1 memsql-ops memsql-deploy -r leaf
</pre></div>
</div>
<p>The snippet above will first list MemSQL Ops follower agent ids, then deploy MemSQL leaf nodes into each of them.</p>
<p>Another example is:</p>
<div class="highlight-bash"><div class="highlight"><pre>memsql-ops agent-ssh --multi --agent-ids <span class="k">$(</span>memsql-ops agent-list -q -r follower<span class="k">)</span> -- <span class="s1">&#39;echo foobar&#39;</span>
</pre></div>
</div>
<p>The snippet above will SSH into all MemSQL Ops follower agents and print &#8216;foobar&#8217;.</p>
<p>You will notice some commands take positional arguments (i.e. the command can execute against multiple entities), and some only take one argument (i.e. the command can only execute against one entity at a time). This is intentional. For operations where being able to rollback matters, we mandate that these be done in a serialized manner. An example of which is <tt class="docutils literal"><span class="pre">memsql-deploy</span></tt> in the first code snippet above. For operations where rollback is not crucial, such as <tt class="docutils literal"><span class="pre">agent-ssh</span></tt>, we allow having positional arguments and thus running commands in a parallelized way.</p>
<p>The MemSQL Ops command line interface is also robust. You will notice that in situations where user input to <tt class="docutils literal"><span class="pre">memsql-ops</span></tt> is incomplete, Ops will display a list of options and prompt the users for a choice.</p>
<div class="section" id="full-memsql-ops-cli-commands">
<h2>Full MemSQL Ops CLI Commands<a class="headerlink" href="index.html#full-memsql-ops-cli-commands" title="Permalink to this headline">¶</a></h2>
<p>See the sections below for full descriptions and syntax for each MemSQL Ops agent operation.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli/START/index.html">START</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/STOP/index.html">STOP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/RESTART/index.html">RESTART</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/FOLLOW/index.html">FOLLOW</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/UNFOLLOW/index.html">UNFOLLOW</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/UNINSTALL/index.html">UNINSTALL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/STATUS/index.html">STATUS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/VERSION/index.html">VERSION</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/AGENT-ID/index.html">AGENT-ID</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/AGENT-START/index.html">AGENT-START</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/AGENT-STOP/index.html">AGENT-STOP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/AGENT-UPGRADE/index.html">AGENT-UPGRADE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/AGENT-DEPLOY/index.html">AGENT-DEPLOY</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/AGENT-LIST/index.html">AGENT-LIST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/AGENT-SET-CREDENTIAL/index.html">AGENT-SET-CREDENTIAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/AGENT-UNINSTALL/index.html">AGENT-UNINSTALL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/AGENT-SSH/index.html">AGENT-SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/AGENT-PUT/index.html">AGENT-PUT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/AGENT-GET/index.html">AGENT-GET</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/MEMSQL-DEPLOY/index.html">MEMSQL-DEPLOY</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/MEMSQL-LIST/index.html">MEMSQL-LIST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/MEMSQL-START/index.html">MEMSQL-START</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/MEMSQL-STOP/index.html">MEMSQL-STOP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/MEMSQL-MONITOR/index.html">MEMSQL-MONITOR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/MEMSQL-UNMONITOR/index.html">MEMSQL-UNMONITOR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/MEMSQL-UPDATE-CONFIG/index.html">MEMSQL-UPDATE-CONFIG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/MEMSQL-PATH/index.html">MEMSQL-PATH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/MEMSQL-DELETE/index.html">MEMSQL-DELETE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/CLUSTER-START/index.html">CLUSTER-START</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/CLUSTER-STOP/index.html">CLUSTER-STOP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/CLUSTER-RESTART/index.html">CLUSTER-RESTART</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/CLUSTER-UPGRADE/index.html">CLUSTER-UPGRADE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/CLUSTER-MANUAL-CONTROL/index.html">CLUSTER-MANUAL-CONTROL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/LICENSE-LIST/index.html">LICENSE-LIST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/LICENSE-ADD/index.html">LICENSE-ADD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/JOB-LIST/index.html">JOB-LIST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/JOB-INFO/index.html">JOB-INFO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/JOB-LOGS/index.html">JOB-LOGS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/JOB-CANCEL/index.html">JOB-CANCEL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/JOB-WAIT/index.html">JOB-WAIT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/FILE-ADD/index.html">FILE-ADD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/FILE-LIST/index.html">FILE-LIST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/FILE-DELETE/index.html">FILE-DELETE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/SUPERUSER-LIST/index.html">SUPERUSER-LIST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/SUPERUSER-ADD/index.html">SUPERUSER-ADD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/SUPERUSER-DELETE/index.html">SUPERUSER-DELETE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/REPORT/index.html">REPORT</a></li>
</ul>
</div>
<p>Below is the output produced from running <tt class="docutils literal"><span class="pre">memsql-ops</span> <span class="pre">--help</span></tt></p>
<div class="highlight-bash"><div class="highlight"><pre>usage: memsql-ops ...

LOCAL MEMSQL OPS AGENT MANAGEMENT:
  start               Start the MemSQL Ops agent.
  stop                Stop the MemSQL Ops agent.
  restart             Restart the MemSQL Ops agent.
  follow              Connect the <span class="nb">local </span>MemSQL Ops agent to the primary
                      agent.
  unfollow            Disconnect the <span class="nb">local </span>MemSQL Ops agent from the primary
                      agent.
  uninstall           Uninstall MemSQL Ops from this host and delete all of
                      its data.
  status              Check the status of the MemSQL Ops agent.
  version             Print version information <span class="k">for </span>MemSQL Ops.
  agent-id            Print the current MemSQL Ops agent ID.

REMOTE MEMSQL OPS AGENT MANAGEMENT:
  agent-start         Start one or all MemSQL Ops agents in the cluster.
  agent-stop          Stop one or all MemSQL Ops agents in the cluster.
  agent-upgrade       Upgrade MemSQL Ops to the newest version.
  agent-deploy        Deploy a MemSQL Ops agent to a host.
  agent-list          List MemSQL Ops agents in the cluster.
  agent-set-credential
                      Set the SSH credentials to use <span class="k">for </span>the specified
                      agent.
  agent-uninstall     Uninstall a remote MemSQL Ops agent and all of its
                      data.
  agent-ssh           Open SSH connections to agents.
  agent-get           SCP files from agents.
  agent-put           SCP files to agents.

MEMSQL NODE MANAGEMENT:
  memsql-deploy       Deploy a MemSQL node.
  memsql-list         List MemSQL nodes in the cluster.
  memsql-start        Start a MemSQL node.
  memsql-stop         Stop a MemSQL node.
  memsql-monitor      Start monitoring a MemSQL node in MemSQL Ops.
  memsql-unmonitor    Stop monitoring a MemSQL node.
  memsql-update-config
                      Change a config value <span class="k">for </span>a MemSQL node.
  memsql-path         Get the directory where a given MemSQL node is
                      installed.
  memsql-delete       Delete a MemSQL node and all of its data.

MEMSQL CLUSTER MANAGEMENT:
  cluster-start       Start all MemSQL nodes in the cluster.
  cluster-stop        Stop all MemSQL nodes in the cluster.
  cluster-restart     Restart all MemSQL nodes in the cluster.
  cluster-upgrade     Stop, upgrade, and restart all MemSQL nodes in the
                      cluster.
  cluster-manual-control
                      Enable or disable MemSQL Ops manual control of the
                      cluster.

MEMSQL LICENSE MANAGEMENT:
  license-list        List all registered licenses <span class="k">for </span>MemSQL Enterprise
                      Edition.
  license-add         Add a license <span class="k">for </span>MemSQL Enterprise Edition. This
                      license will be deployed to all MemSQL nodes.

MEMSQL OPS JOB MANAGEMENT:
  job-list            List jobs.
  job-info            Show information about a job.
  job-logs            View job logs.
  job-cancel          Cancel a job.
  job-wait            Wait <span class="k">for </span>a job to finish.

MEMSQL OPS FILE MANAGEMENT:
  file-add            Add a file that can be used to install MemSQL or
                      MemSQL Ops.
  file-list           List files stored in MemSQL Ops.
  file-delete         Delete a file stored in MemSQL Ops.

MEMSQL OPS SUPERUSER MANAGEMENT:
  superuser-list      List superusers that can manage MemSQL Ops.
  superuser-add       Add a superuser that can manage MemSQL Ops.
  superuser-delete    Delete an existing superuser.

MEMSQL OPS TOOLS:
  <span class="nb">help                </span>Print user manual <span class="k">for </span>MemSQL Ops.
  report              Generate a report that contains diagnostic information
                      <span class="k">for </span>MemSQL Ops.

EXAMPLES:
  Start MemSQL Ops on this host:
    <span class="nv">$ </span>memsql-ops start

  Check to see <span class="k">if </span>MemSQL Ops is running:
    <span class="nv">$ </span>memsql-ops status

  Stop MemSQL Ops on this host:
    <span class="nv">$ </span>memsql-ops stop

For more information please visit our online documentation:
  http://docs.memsql.com/latest/ops
</pre></div>
</div>
</div>
</div>


                    </div>
                    <footer data-swiftype-index="false">
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../cli/START/index.html" class="btn btn-neutral float-right" title="START">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../install/index.html" class="btn btn-neutral" title="Installing and Configuring MemSQL Ops"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>&copy; Copyright 2015, MemSQL</p>
  </div>
</footer>
                </div>
            </div>

        </section>
    </div>

    <script type="text/javascript" src="../../../static_star_theme/js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/underscore-min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.ba-hashchange.min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.swiftype.search.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.swiftype.autocomplete.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/theme.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/search.js"></script> 

        <!-- Google Analytics -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-21693588-3', 'auto');
            ga('send', 'pageview');
        </script>
        <!-- End Google Analytics -->

        <script type="text/javascript">
            $.ajax({
                url: document.location.protocol + '//munchkin.marketo.net/munchkin.js',
                dataType: 'script',
                cache: true,
                success: function() {
                    Munchkin.init('759-YLI-316');
                }
            });
        </script>
    </body>
</html>