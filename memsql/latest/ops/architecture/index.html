<!DOCTYPE html>
    <!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
    <!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <title>MemSQL Ops Architecture</title> 
        <link rel="shortcut icon" href="../../../static_star_theme/img/favicon.ico"/>
        <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="../../../static_star_theme/css/theme.css" type="text/css" /> 
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
    </head>

    <body class="wy-body-for-nav" role="document">

    <div class="wy-grid-for-nav">

        <div class="wy-full-navbar" data-swiftype-index="false">
            <a href="http://www.memsql.com" class="logo">
                <img src="../../../static_star_theme/img/memsql_logo_horizontal_white.svg" />
            </a>
            <div class="global nav">
                <div class="pull-left left-links">
                </div>
                <div class="pull-right right-links">
                    <a href="http://www.memsql.com/community/" style="word-spacing: 2px;">Community Edition</a>
                    <a href="http://blog.memsql.com">Blog</a>
                    <a href="http://www.memsql.com/memsql-partners">Partners</a>
                    <a href="http://www.memsql.com/resources">Resources</a>
                    <a href="../../../index.html">Documentation</a>
                    <a href="http://www.memsql.com/contact">Contact</a>
                </div>
            </div>
            <div class="nav-links">
                <a href="http://www.memsql.com/product">Product</a>
                <a href="http://www.memsql.com/solutions">Solutions</a>
                <a href="http://www.memsql.com/case-studies">Case Studies</a>
                <a href="http://www.memsql.com/company">Company</a>
                <a class="download" href="http://www.memsql.com/download/">Download Now</a>
            </div>
        </div>

        <nav data-toggle="wy-nav-shift" class="wy-nav-side" data-swiftype-index="false">
            <div class="wy-side-nav-search">
                <div role="search">
  <form id="search-form" class="wy-form" method="get">
    <input type="text" id="st-search-input" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
            </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                
                 <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">MemSQL Docs Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">How MemSQL Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup/quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup/get_started/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/index.html">Operations Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ref/commands_by_type/index.html">SQL Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/config/index.html">Configuration Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">MemSQL Ops</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview/index.html">MemSQL Ops Overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="index.html">MemSQL Ops Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#primary-and-follower-memsql-ops-agents">Primary and follower MemSQL Ops agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#hosts-and-memsql-nodes">Hosts and MemSQL nodes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html">Installing and Configuring MemSQL Ops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agent/index.html">MemSQL Ops Command Line Interface Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../loader/index.html">MemSQL Loader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../editions/index.html">MemSQL Editions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">Frequently Asked Questions</a></li>
</ul>
 
            </div>
            &nbsp;
        </nav>

        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
            <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                <a href="../../../index.html" class="logo">
                    <img src="../../../static_star_theme/img/memsql_logo_horizontal_white.svg" />
                    <span class="subtitle">Documentation</span>
                </a>
            </nav>

            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">MemSQL Documentation</a> &raquo;</li>
      
          <li><a href="../index.html">MemSQL Ops</a> &raquo;</li>
      
    <li>MemSQL Ops Architecture</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
                    <div role="main" class="document">
                        
  <div class="section" id="memsql-ops-architecture">
<h1>MemSQL Ops Architecture<a class="headerlink" href="index.html#memsql-ops-architecture" title="Permalink to this headline">¶</a></h1>
<p>MemSQL Ops is comprised of one primary and several follower MemSQL Ops agents. Only one MemSQL Ops agent should be running on a host server. Each agent can deploy, manage and monitor as many MemSQL database nodes into the server where it resides.</p>
<p>The default home directory for each MemSQL Ops agent is <tt class="docutils literal"><span class="pre">/var/lib/memsql</span></tt>. Inside this directory, MemSQL Ops stores configuration and metrics collected as well as the home directories for MemSQL database instances collocated with the agent.</p>
<p>Below is a diagram showing the relationship between hosts, primary / follower MemSQL Ops agents, and MemSQL nodes within a MemSQL Ops cluster.</p>
<img alt="../../_images/ops-architecture.png" src="../../_images/ops-architecture.png" />
<div class="section" id="primary-and-follower-memsql-ops-agents">
<h2>Primary and follower MemSQL Ops agents<a class="headerlink" href="index.html#primary-and-follower-memsql-ops-agents" title="Permalink to this headline">¶</a></h2>
<p>The <em>primary MemSQL Ops agent</em> stores all metadata about the entire MemSQL cluster. There can only be one primary agent per MemSQL Ops deployment. All other MemSQL Ops agents in the cluster should be configured as follower agents. Since the primary agent holds all metadata, the primary agent also exposes the full MemSQL Ops web interface. The URL for the MemSQL Ops web interface is the following:</p>
<div class="highlight-none"><div class="highlight"><pre>&lt;MemSQL Ops primary agent host IP&gt; : &lt;MemSQL Ops port (default is 9000)&gt;
</pre></div>
</div>
<p>For example, a MemSQL Ops URL could be <tt class="docutils literal"><span class="pre">http://172.17.0.2:9000</span></tt>.</p>
<p><em>Follower MemSQL Ops agents</em> store metadata only about the MemSQL nodes created within its local host. Follower agents can only follow one primary agent. Follower agents are configured either by:</p>
<ul class="simple">
<li>Deploying a new agent into a host through the MemSQL Ops primary agent (web interface or command line)</li>
<li>Running <tt class="docutils literal"><span class="pre">memsql-ops</span> <span class="pre">agent-follow</span></tt> from the follower agent</li>
</ul>
<p>Follower MemSQL Ops agent send all their metrics back to the primary agent. Should a user connect to the MemSQL Ops web interface (e.g. <tt class="docutils literal"><span class="pre">&lt;MemSQL</span> <span class="pre">Ops</span> <span class="pre">follower</span> <span class="pre">agent</span> <span class="pre">host</span> <span class="pre">IP&gt;:9000</span></tt>), only the information from that single host will be shown.</p>
</div>
<div class="section" id="hosts-and-memsql-nodes">
<h2>Hosts and MemSQL nodes<a class="headerlink" href="index.html#hosts-and-memsql-nodes" title="Permalink to this headline">¶</a></h2>
<p>Throughout the MemSQL Ops web interface and documentation, you will see frequent references to <em>hosts</em> and <em>MemSQL nodes</em>. It is important to understand the difference between the two:</p>
<ul class="simple">
<li><em>Hosts</em> are physical machines, virtual machines, or containers in which the MemSQL database and MemSQL Ops agent processes are running. A host is uniquely identified by its IP address.</li>
<li><em>MemSQL nodes</em> are MemSQL instances running within a host.</li>
</ul>
<p><strong>Where to go from here:</strong></p>
<ul class="simple">
<li><a class="reference internal" href="../install/index.html"><em>Installing and Configuring MemSQL Ops</em></a></li>
<li><a class="reference internal" href="../../setup/get_started/index.html"><em>Installation</em></a></li>
</ul>
</div>
</div>


                    </div>
                    <footer data-swiftype-index="false">
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../install/index.html" class="btn btn-neutral float-right" title="Installing and Configuring MemSQL Ops">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../overview/index.html" class="btn btn-neutral" title="MemSQL Ops Overview"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>&copy; Copyright 2015, MemSQL</p>
  </div>
</footer>
                </div>
            </div>

        </section>
    </div>

    <script type="text/javascript" src="../../../static_star_theme/js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/underscore-min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.ba-hashchange.min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.swiftype.search.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.swiftype.autocomplete.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/theme.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/search.js"></script> 

        <!-- Google Analytics -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-21693588-3', 'auto');
            ga('send', 'pageview');
        </script>
        <!-- End Google Analytics -->

        <script type="text/javascript">
            $.ajax({
                url: document.location.protocol + '//munchkin.marketo.net/munchkin.js',
                dataType: 'script',
                cache: true,
                success: function() {
                    Munchkin.init('759-YLI-316');
                }
            });
        </script>
    </body>
</html>