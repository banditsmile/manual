<!DOCTYPE html>
    <!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
    <!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <title>How to Run Queries</title> 
        <link rel="shortcut icon" href="../../../static_star_theme/img/favicon.ico"/>
        <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="../../../static_star_theme/css/theme.css" type="text/css" /> 
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
    </head>

    <body class="wy-body-for-nav" role="document">

    <div class="wy-grid-for-nav">

        <div class="wy-full-navbar" data-swiftype-index="false">
            <a href="http://www.memsql.com" class="logo">
                <img src="../../../static_star_theme/img/memsql_logo_horizontal_white.svg" />
            </a>
            <div class="global nav">
                <div class="pull-left left-links">
                </div>
                <div class="pull-right right-links">
                    <a href="http://www.memsql.com/community/" style="word-spacing: 2px;">Community Edition</a>
                    <a href="http://blog.memsql.com">Blog</a>
                    <a href="http://www.memsql.com/memsql-partners">Partners</a>
                    <a href="http://www.memsql.com/resources">Resources</a>
                    <a href="../../../index.html">Documentation</a>
                    <a href="http://www.memsql.com/contact">Contact</a>
                </div>
            </div>
            <div class="nav-links">
                <a href="http://www.memsql.com/product">Product</a>
                <a href="http://www.memsql.com/solutions">Solutions</a>
                <a href="http://www.memsql.com/case-studies">Case Studies</a>
                <a href="http://www.memsql.com/company">Company</a>
                <a class="download" href="http://www.memsql.com/download/">Download Now</a>
            </div>
        </div>

        <nav data-toggle="wy-nav-shift" class="wy-nav-side" data-swiftype-index="false">
            <div class="wy-side-nav-search">
                <div role="search">
  <form id="search-form" class="wy-form" method="get">
    <input type="text" id="st-search-input" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
            </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                
                 <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">MemSQL Docs Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">How MemSQL Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup/quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup/get_started/index.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../connecting/index.html">How to Connect to MemSQL</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="index.html">How to Run Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multi_insert_examples/index.html">Concurrent Multi-Insert Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_loading/index.html">Loading Data Into MemSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../porting-apps/index.html">How to Port Your Applications to MemSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory_management/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distributed_architecture/index.html">Distributed Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../codegen/index.html">Code Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../key_concepts/index.html">Database Key Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distributed_sql/index.html">Distributed SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../columnar/index.html">Column Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geospatial/index.html">Geospatial Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../json/json/index.html">Javascript Object Notation (JSON)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/index.html">Operations Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ref/commands_by_type/index.html">SQL Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/config/index.html">Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ops/index.html">MemSQL Ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../loader/index.html">MemSQL Loader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../editions/index.html">MemSQL Editions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">Frequently Asked Questions</a></li>
</ul>
 
            </div>
            &nbsp;
        </nav>

        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
            <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                <a href="../../../index.html" class="logo">
                    <img src="../../../static_star_theme/img/memsql_logo_horizontal_white.svg" />
                    <span class="subtitle">Documentation</span>
                </a>
            </nav>

            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">MemSQL Documentation</a> &raquo;</li>
      
          <li><a href="../index.html">User Manual</a> &raquo;</li>
      
    <li>How to Run Queries</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
                    <div role="main" class="document">
                        
  <div class="section" id="how-to-run-queries">
<h1>How to Run Queries<a class="headerlink" href="index.html#how-to-run-queries" title="Permalink to this headline">Â¶</a></h1>
<p>This section explains how to run queries on MemSQL via a series of examples. For the sake of simplicity, the sample data used in the examples below is very small (10 rows or less per table) compared to typical workloads. The queries in the examples below consist of several database operations like index scans, full-table scans, joins, and aggregations.</p>
<p>First, connect to memsql (see the <a class="reference internal" href="../connecting/index.html#command-line-client"><em>MySQL command-line client</em></a> sub-section for details on how to connect). Then run the following queries to set up the data:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="c1">-- Create the database</span>

<span class="k">create</span> <span class="k">database</span> <span class="n">memsql_example</span><span class="p">;</span>
<span class="n">use</span> <span class="n">memsql_example</span><span class="p">;</span>

<span class="c1">-- Create 3 tables: departments, employees, and salaries</span>

<span class="k">create</span> <span class="k">table</span> <span class="n">departments</span> <span class="p">(</span>
  <span class="n">id</span> <span class="nb">int</span><span class="p">,</span>
  <span class="n">name</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
  <span class="k">primary</span> <span class="k">key</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">create</span> <span class="k">table</span> <span class="n">employees</span> <span class="p">(</span>
  <span class="n">id</span> <span class="nb">int</span><span class="p">,</span>
  <span class="n">deptId</span> <span class="nb">int</span><span class="p">,</span>
  <span class="n">managerId</span> <span class="nb">int</span><span class="p">,</span>
  <span class="n">name</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
  <span class="n">hireDate</span> <span class="nb">date</span><span class="p">,</span>
  <span class="k">state</span> <span class="nb">char</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
  <span class="k">primary</span> <span class="k">key</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">create</span> <span class="k">table</span> <span class="n">salaries</span> <span class="p">(</span>
  <span class="n">employeeId</span> <span class="nb">int</span><span class="p">,</span>
  <span class="n">salary</span> <span class="nb">int</span><span class="p">,</span>
  <span class="k">primary</span> <span class="k">key</span> <span class="p">(</span><span class="n">employeeId</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- Populate each table with data</span>

<span class="k">insert</span> <span class="k">into</span> <span class="n">departments</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span> <span class="k">values</span>
  <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Marketing&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Finance&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;Sales&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Customer Service&#39;</span><span class="p">);</span>

<span class="k">insert</span> <span class="k">into</span> <span class="n">employees</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">deptId</span><span class="p">,</span> <span class="n">managerId</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">hireDate</span><span class="p">,</span> <span class="k">state</span><span class="p">)</span> <span class="k">values</span>
  <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="ss">&quot;Karly Steele&quot;</span><span class="p">,</span> <span class="ss">&quot;2011-08-25&quot;</span><span class="p">,</span> <span class="ss">&quot;NY&quot;</span><span class="p">),</span>
  <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">&quot;Rhona Nichols&quot;</span><span class="p">,</span> <span class="ss">&quot;2008-09-11&quot;</span><span class="p">,</span> <span class="ss">&quot;TX&quot;</span><span class="p">),</span>
  <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="ss">&quot;Hedda Kent&quot;</span><span class="p">,</span> <span class="ss">&quot;2005-10-27&quot;</span><span class="p">,</span> <span class="ss">&quot;TX&quot;</span><span class="p">),</span>
  <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">&quot;Orli Strong&quot;</span><span class="p">,</span> <span class="ss">&quot;2001-07-01&quot;</span><span class="p">,</span> <span class="ss">&quot;NY&quot;</span><span class="p">),</span>
  <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">&quot;Leonard Haynes&quot;</span><span class="p">,</span> <span class="ss">&quot;2011-05-30&quot;</span><span class="p">,</span> <span class="ss">&quot;MS&quot;</span><span class="p">),</span>
  <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="ss">&quot;Colette Payne&quot;</span><span class="p">,</span> <span class="ss">&quot;2002-10-22&quot;</span><span class="p">,</span> <span class="ss">&quot;MS&quot;</span><span class="p">),</span>
  <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="ss">&quot;Cooper Hatfield&quot;</span><span class="p">,</span> <span class="ss">&quot;2010-08-19&quot;</span><span class="p">,</span> <span class="ss">&quot;NY&quot;</span><span class="p">),</span>
  <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="ss">&quot;Timothy Battle&quot;</span><span class="p">,</span> <span class="ss">&quot;2001-01-21&quot;</span><span class="p">,</span> <span class="ss">&quot;NY&quot;</span><span class="p">),</span>
  <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">&quot;Doris Munoz&quot;</span><span class="p">,</span> <span class="ss">&quot;2008-10-22&quot;</span><span class="p">,</span> <span class="ss">&quot;NY&quot;</span><span class="p">),</span>
  <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="ss">&quot;Alea Wiggins&quot;</span><span class="p">,</span> <span class="ss">&quot;2007-08-21&quot;</span><span class="p">,</span> <span class="ss">&quot;TX&quot;</span><span class="p">);</span>

<span class="k">insert</span> <span class="k">into</span> <span class="n">salaries</span> <span class="p">(</span><span class="n">employeeId</span><span class="p">,</span> <span class="n">salary</span><span class="p">)</span> <span class="k">values</span>
  <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">885219</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">451519</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">288905</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">904312</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">919124</span><span class="p">),</span>
  <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">101538</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">355077</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">900436</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">41557</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">556263</span><span class="p">);</span>
</pre></div>
</div>
<p>Now let&#8217;s run a simple query to ask how many rows are in the employees table.</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">from</span> <span class="n">employees</span><span class="p">;</span>

  <span class="o">+</span><span class="c1">----------+</span>
  <span class="o">|</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">|</span>
  <span class="o">+</span><span class="c1">----------+</span>
  <span class="o">|</span>       <span class="mi">10</span> <span class="o">|</span>
  <span class="o">+</span><span class="c1">----------+</span>
  <span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">61</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the first time you run the query, it will take a significant amount of time (about a second) - this is because it is compiling the query. The plan is then saved so that the next time you run the query, it will be much faster. See the <a class="reference internal" href="../codegen/index.html"><em>Code Generation</em></a> section for more details.</p>
<p>Here is another simple query that lists the ID and name of each employee:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">id</span><span class="p">,</span> <span class="n">name</span> <span class="k">from</span> <span class="n">employees</span> <span class="k">order</span> <span class="k">by</span> <span class="n">id</span><span class="p">;</span>

<span class="o">+</span><span class="c1">----+-----------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">Rhona</span> <span class="n">Nichols</span>   <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">Hedda</span> <span class="n">Kent</span>      <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">Orli</span> <span class="n">Strong</span>     <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span> <span class="n">Leonard</span> <span class="n">Haynes</span>  <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="n">Colette</span> <span class="n">Payne</span>   <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span> <span class="n">Cooper</span> <span class="n">Hatfield</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span> <span class="n">Timothy</span> <span class="n">Battle</span>  <span class="o">|</span>
<span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span> <span class="n">Doris</span> <span class="n">Munoz</span>     <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span> <span class="n">Alea</span> <span class="n">Wiggins</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------------+</span>
<span class="mi">10</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">73</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>SQL&#8217;s <tt class="docutils literal"><span class="pre">where</span></tt> clause can be used to filter results. Here is a query that only lists employees that work in Texas:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">id</span><span class="p">,</span> <span class="n">name</span> <span class="k">from</span> <span class="n">employees</span> <span class="k">where</span> <span class="k">state</span> <span class="o">=</span> <span class="s1">&#39;TX&#39;</span> <span class="k">order</span> <span class="k">by</span> <span class="n">id</span><span class="p">;</span>

<span class="o">+</span><span class="c1">----+---------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">----+---------------+</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">Rhona</span> <span class="n">Nichols</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">Hedda</span> <span class="n">Kent</span>    <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span> <span class="n">Alea</span> <span class="n">Wiggins</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">----+---------------+</span>
<span class="mi">3</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">74</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that if you change the parameters in the query - e.g. changing TX to NY - we are able to reuse the same query plan, so the query does not need to be recompiled:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">id</span><span class="p">,</span> <span class="n">name</span> <span class="k">from</span> <span class="n">employees</span> <span class="k">where</span> <span class="k">state</span> <span class="o">=</span> <span class="s1">&#39;NY&#39;</span> <span class="k">order</span> <span class="k">by</span> <span class="n">id</span><span class="p">;</span>

<span class="o">+</span><span class="c1">----+-----------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">Orli</span> <span class="n">Strong</span>     <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span> <span class="n">Cooper</span> <span class="n">Hatfield</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span> <span class="n">Timothy</span> <span class="n">Battle</span>  <span class="o">|</span>
<span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span> <span class="n">Doris</span> <span class="n">Munoz</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------------+</span>
<span class="mi">5</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>Below are several more queries demonstrating common SQL operations.</p>
<p>Employees hired before 2002:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">hireDate</span>
  <span class="k">from</span> <span class="n">employees</span>
  <span class="k">where</span> <span class="n">hireDate</span> <span class="o">&lt;</span> <span class="s1">&#39;2002-01-01&#39;</span>
  <span class="k">order</span> <span class="k">by</span> <span class="n">id</span><span class="p">;</span>

<span class="o">+</span><span class="c1">----+----------------+------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>           <span class="o">|</span> <span class="n">hireDate</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">----+----------------+------------+</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">Orli</span> <span class="n">Strong</span>    <span class="o">|</span> <span class="mi">2001</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">01</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span> <span class="n">Timothy</span> <span class="n">Battle</span> <span class="o">|</span> <span class="mi">2001</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">21</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+----------------+------------+</span>
<span class="mi">2</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">77</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>List employees and their departments:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">e</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">d</span><span class="p">.</span><span class="n">name</span> <span class="n">department</span> <span class="k">from</span>
  <span class="n">employees</span> <span class="n">e</span><span class="p">,</span> <span class="n">departments</span> <span class="n">d</span>
  <span class="k">where</span> <span class="n">e</span><span class="p">.</span><span class="n">deptId</span> <span class="o">=</span> <span class="n">d</span><span class="p">.</span><span class="n">id</span>
  <span class="k">order</span> <span class="k">by</span> <span class="n">name</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-----------------+------------------+</span>
<span class="o">|</span> <span class="n">name</span>            <span class="o">|</span> <span class="n">department</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+------------------+</span>
<span class="o">|</span> <span class="n">Alea</span> <span class="n">Wiggins</span>    <span class="o">|</span> <span class="n">Customer</span> <span class="n">Service</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Colette</span> <span class="n">Payne</span>   <span class="o">|</span> <span class="n">Marketing</span>        <span class="o">|</span>
<span class="o">|</span> <span class="n">Cooper</span> <span class="n">Hatfield</span> <span class="o">|</span> <span class="n">Sales</span>            <span class="o">|</span>
<span class="o">|</span> <span class="n">Doris</span> <span class="n">Munoz</span>     <span class="o">|</span> <span class="n">Sales</span>            <span class="o">|</span>
<span class="o">|</span> <span class="n">Hedda</span> <span class="n">Kent</span>      <span class="o">|</span> <span class="n">Customer</span> <span class="n">Service</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span>    <span class="o">|</span> <span class="n">Finance</span>          <span class="o">|</span>
<span class="o">|</span> <span class="n">Leonard</span> <span class="n">Haynes</span>  <span class="o">|</span> <span class="n">Marketing</span>        <span class="o">|</span>
<span class="o">|</span> <span class="n">Orli</span> <span class="n">Strong</span>     <span class="o">|</span> <span class="n">Finance</span>          <span class="o">|</span>
<span class="o">|</span> <span class="n">Rhona</span> <span class="n">Nichols</span>   <span class="o">|</span> <span class="n">Marketing</span>        <span class="o">|</span>
<span class="o">|</span> <span class="n">Timothy</span> <span class="n">Battle</span>  <span class="o">|</span> <span class="n">Finance</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+------------------+</span>
<span class="mi">10</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">93</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>Number of employees in each state:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="k">state</span><span class="p">,</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
  <span class="k">from</span> <span class="n">employees</span>
  <span class="k">group</span> <span class="k">by</span> <span class="k">state</span>
  <span class="k">order</span> <span class="k">by</span> <span class="k">state</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-------+----------+</span>
<span class="o">|</span> <span class="k">state</span> <span class="o">|</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+----------+</span>
<span class="o">|</span> <span class="n">MS</span>    <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">NY</span>    <span class="o">|</span>        <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">TX</span>    <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+----------+</span>
<span class="mi">3</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">82</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>Highest salary amongst all employees:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">from</span> <span class="n">salaries</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>      <span class="mi">919124</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">58</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>Employee with the highest salary:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">e</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">salary</span>
  <span class="k">from</span> <span class="n">employees</span> <span class="n">e</span><span class="p">,</span> <span class="n">salaries</span> <span class="n">s</span>
  <span class="k">where</span> <span class="n">e</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">employeeId</span> <span class="k">and</span>
    <span class="n">s</span><span class="p">.</span><span class="n">salary</span> <span class="o">=</span> <span class="p">(</span><span class="k">select</span> <span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">from</span> <span class="n">salaries</span><span class="p">);</span>

<span class="o">+</span><span class="c1">----------------+--------+</span>
<span class="o">|</span> <span class="n">name</span>           <span class="o">|</span> <span class="n">salary</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+--------+</span>
<span class="o">|</span> <span class="n">Leonard</span> <span class="n">Haynes</span> <span class="o">|</span> <span class="mi">919124</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+--------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">98</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>Average salary of employees in each state:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">e</span><span class="p">.</span><span class="k">state</span><span class="p">,</span> <span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span>
  <span class="k">from</span> <span class="n">employees</span> <span class="n">e</span>
  <span class="k">join</span> <span class="n">salaries</span> <span class="n">s</span> <span class="k">on</span> <span class="n">e</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">employeeId</span>
  <span class="k">group</span> <span class="k">by</span> <span class="n">e</span><span class="p">.</span><span class="k">state</span>
  <span class="k">order</span> <span class="k">by</span> <span class="n">e</span><span class="p">.</span><span class="k">state</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-------+-------------+</span>
<span class="o">|</span> <span class="k">state</span> <span class="o">|</span> <span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------------+</span>
<span class="o">|</span> <span class="n">MS</span>    <span class="o">|</span> <span class="mi">510331</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">NY</span>    <span class="o">|</span> <span class="mi">617320</span><span class="p">.</span><span class="mi">2000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">TX</span>    <span class="o">|</span> <span class="mi">432229</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------------+</span>
<span class="mi">3</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">72</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>List of managers:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">name</span>
  <span class="k">from</span> <span class="n">employees</span>
  <span class="k">where</span> <span class="n">id</span> <span class="k">in</span> <span class="p">(</span><span class="k">select</span> <span class="n">managerId</span> <span class="k">from</span> <span class="n">employees</span><span class="p">)</span>
  <span class="k">order</span> <span class="k">by</span> <span class="n">name</span><span class="p">;</span>

<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">name</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span>   <span class="o">|</span>
<span class="o">|</span> <span class="n">Leonard</span> <span class="n">Haynes</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Orli</span> <span class="n">Strong</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">Rhona</span> <span class="n">Nichols</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="mi">4</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">40</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>List of non-managers:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">name</span>
  <span class="k">from</span> <span class="n">employees</span>
  <span class="k">where</span> <span class="n">id</span> <span class="k">not</span> <span class="k">in</span> <span class="p">(</span><span class="k">select</span> <span class="n">managerId</span> <span class="k">from</span> <span class="n">employees</span><span class="p">)</span>
  <span class="k">order</span> <span class="k">by</span> <span class="n">name</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">name</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">Alea</span> <span class="n">Wiggins</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">Colette</span> <span class="n">Payne</span>   <span class="o">|</span>
<span class="o">|</span> <span class="n">Cooper</span> <span class="n">Hatfield</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Doris</span> <span class="n">Munoz</span>     <span class="o">|</span>
<span class="o">|</span> <span class="n">Hedda</span> <span class="n">Kent</span>      <span class="o">|</span>
<span class="o">|</span> <span class="n">Timothy</span> <span class="n">Battle</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="mi">6</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">43</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>Number of employees reporting to each manager:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">m</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">count</span>
  <span class="k">from</span> <span class="n">employees</span> <span class="n">m</span>
  <span class="k">join</span> <span class="n">employees</span> <span class="n">e</span> <span class="k">on</span> <span class="n">m</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">managerId</span>
  <span class="k">group</span> <span class="k">by</span> <span class="n">m</span><span class="p">.</span><span class="n">id</span>
  <span class="k">order</span> <span class="k">by</span> <span class="k">count</span> <span class="k">desc</span><span class="p">;</span>

<span class="o">+</span><span class="c1">----------------+-------+</span>
<span class="o">|</span> <span class="n">name</span>           <span class="o">|</span> <span class="k">count</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+-------+</span>
<span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span>   <span class="o">|</span>     <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Orli</span> <span class="n">Strong</span>    <span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Rhona</span> <span class="n">Nichols</span>  <span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Leonard</span> <span class="n">Haynes</span> <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+-------+</span>
<span class="mi">4</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">95</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>Number of employees reporting to each employee:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">m</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">count</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">id</span><span class="p">)</span> <span class="k">count</span>
  <span class="k">from</span> <span class="n">employees</span> <span class="n">m</span>
  <span class="k">left</span> <span class="k">join</span> <span class="n">employees</span> <span class="n">e</span> <span class="k">on</span> <span class="n">m</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">managerId</span>
  <span class="k">group</span> <span class="k">by</span> <span class="n">m</span><span class="p">.</span><span class="n">id</span>
  <span class="k">order</span> <span class="k">by</span> <span class="k">count</span> <span class="k">desc</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-----------------+-------+</span>
<span class="o">|</span> <span class="n">name</span>            <span class="o">|</span> <span class="k">count</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-------+</span>
<span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span>    <span class="o">|</span>     <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Rhona</span> <span class="n">Nichols</span>   <span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Orli</span> <span class="n">Strong</span>     <span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Leonard</span> <span class="n">Haynes</span>  <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Doris</span> <span class="n">Munoz</span>     <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Alea</span> <span class="n">Wiggins</span>    <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Cooper</span> <span class="n">Hatfield</span> <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Hedda</span> <span class="n">Kent</span>      <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Timothy</span> <span class="n">Battle</span>  <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Colette</span> <span class="n">Payne</span>   <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-------+</span>
<span class="mi">10</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">84</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>Manager of each employee:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">e</span><span class="p">.</span><span class="n">name</span> <span class="n">employee_name</span><span class="p">,</span> <span class="n">m</span><span class="p">.</span><span class="n">name</span> <span class="n">manager_name</span>
  <span class="k">from</span> <span class="n">employees</span> <span class="n">e</span>
  <span class="k">left</span> <span class="k">join</span> <span class="n">employees</span> <span class="n">m</span> <span class="k">on</span> <span class="n">e</span><span class="p">.</span><span class="n">managerId</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">id</span>
  <span class="k">order</span> <span class="k">by</span> <span class="n">manager_name</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-----------------+----------------+</span>
<span class="o">|</span> <span class="n">employee_name</span>   <span class="o">|</span> <span class="n">manager_name</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+----------------+</span>
<span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span>    <span class="o">|</span> <span class="k">NULL</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">Doris</span> <span class="n">Munoz</span>     <span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span>   <span class="o">|</span>
<span class="o">|</span> <span class="n">Rhona</span> <span class="n">Nichols</span>   <span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span>   <span class="o">|</span>
<span class="o">|</span> <span class="n">Orli</span> <span class="n">Strong</span>     <span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span>   <span class="o">|</span>
<span class="o">|</span> <span class="n">Leonard</span> <span class="n">Haynes</span>  <span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span>   <span class="o">|</span>
<span class="o">|</span> <span class="n">Colette</span> <span class="n">Payne</span>   <span class="o">|</span> <span class="n">Leonard</span> <span class="n">Haynes</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Timothy</span> <span class="n">Battle</span>  <span class="o">|</span> <span class="n">Orli</span> <span class="n">Strong</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">Cooper</span> <span class="n">Hatfield</span> <span class="o">|</span> <span class="n">Orli</span> <span class="n">Strong</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">Alea</span> <span class="n">Wiggins</span>    <span class="o">|</span> <span class="n">Rhona</span> <span class="n">Nichols</span>  <span class="o">|</span>
<span class="o">|</span> <span class="n">Hedda</span> <span class="n">Kent</span>      <span class="o">|</span> <span class="n">Rhona</span> <span class="n">Nichols</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+----------------+</span>
<span class="mi">10</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>Total salary of the employees reporting to each manager:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">m</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">sum</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span>
  <span class="k">from</span> <span class="n">employees</span> <span class="n">m</span>
  <span class="k">join</span> <span class="n">employees</span> <span class="n">e</span> <span class="k">on</span> <span class="n">m</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">managerId</span>
  <span class="k">join</span> <span class="n">salaries</span> <span class="n">s</span> <span class="k">on</span> <span class="n">s</span><span class="p">.</span><span class="n">employeeId</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">id</span>
  <span class="k">group</span> <span class="k">by</span> <span class="n">m</span><span class="p">.</span><span class="n">id</span>
  <span class="k">order</span> <span class="k">by</span> <span class="k">sum</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">desc</span><span class="p">;</span>

<span class="o">+</span><span class="c1">----------------+-------------+</span>
<span class="o">|</span> <span class="n">name</span>           <span class="o">|</span> <span class="k">sum</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+-------------+</span>
<span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span>   <span class="o">|</span>     <span class="mi">2316512</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Orli</span> <span class="n">Strong</span>    <span class="o">|</span>     <span class="mi">1255513</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Rhona</span> <span class="n">Nichols</span>  <span class="o">|</span>      <span class="mi">845168</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Leonard</span> <span class="n">Haynes</span> <span class="o">|</span>      <span class="mi">101538</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+-------------+</span>
<span class="mi">4</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">86</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>Employees in the finance department earning more than their manager:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">e</span><span class="p">.</span><span class="n">name</span> <span class="n">employee_name</span><span class="p">,</span> <span class="n">se</span><span class="p">.</span><span class="n">salary</span> <span class="n">employee_salary</span><span class="p">,</span> <span class="n">m</span><span class="p">.</span><span class="n">name</span> <span class="n">manager_name</span><span class="p">,</span> <span class="n">sm</span><span class="p">.</span><span class="n">salary</span> <span class="n">manager_salary</span>
<span class="k">from</span> <span class="n">employees</span> <span class="n">e</span>
<span class="k">join</span> <span class="n">salaries</span> <span class="n">se</span> <span class="k">on</span> <span class="n">e</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">se</span><span class="p">.</span><span class="n">employeeId</span>
<span class="k">join</span> <span class="n">employees</span> <span class="n">m</span> <span class="k">on</span> <span class="n">m</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">managerId</span>
<span class="k">join</span> <span class="n">salaries</span> <span class="n">sm</span> <span class="k">on</span> <span class="n">sm</span><span class="p">.</span><span class="n">employeeId</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">id</span>
<span class="k">join</span> <span class="n">departments</span> <span class="n">d</span> <span class="k">on</span> <span class="n">d</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">deptId</span>
<span class="k">where</span> <span class="n">d</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Finance&#39;</span>
  <span class="k">and</span> <span class="n">sm</span><span class="p">.</span><span class="n">salary</span> <span class="o">&lt;</span> <span class="n">se</span><span class="p">.</span><span class="n">salary</span>
<span class="k">order</span> <span class="k">by</span> <span class="n">employee_salary</span><span class="p">,</span> <span class="n">manager_salary</span><span class="p">;</span>

<span class="o">+</span><span class="c1">---------------+-----------------+--------------+----------------+</span>
<span class="o">|</span> <span class="n">employee_name</span> <span class="o">|</span> <span class="n">employee_salary</span> <span class="o">|</span> <span class="n">manager_name</span> <span class="o">|</span> <span class="n">manager_salary</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+-----------------+--------------+----------------+</span>
<span class="o">|</span> <span class="n">Orli</span> <span class="n">Strong</span>   <span class="o">|</span>          <span class="mi">904312</span> <span class="o">|</span> <span class="n">Karly</span> <span class="n">Steele</span> <span class="o">|</span>         <span class="mi">885219</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+-----------------+--------------+----------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">46</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
<p>For documentation on all the types of queries supported by MemSQL, see the <a class="reference internal" href="../../ref/commands_by_type/index.html"><em>SQL Reference</em></a> section.</p>
</div>


                    </div>
                    <footer data-swiftype-index="false">
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../multi_insert_examples/index.html" class="btn btn-neutral float-right" title="Concurrent Multi-Insert Examples">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../connecting/index.html" class="btn btn-neutral" title="How to Connect to MemSQL"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>&copy; Copyright 2015, MemSQL</p>
  </div>
</footer>
                </div>
            </div>

        </section>
    </div>

    <script type="text/javascript" src="../../../static_star_theme/js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/underscore-min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.ba-hashchange.min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.swiftype.search.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.swiftype.autocomplete.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/theme.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/search.js"></script> 

        <!-- Google Analytics -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-21693588-3', 'auto');
            ga('send', 'pageview');
        </script>
        <!-- End Google Analytics -->

        <script type="text/javascript">
            $.ajax({
                url: document.location.protocol + '//munchkin.marketo.net/munchkin.js',
                dataType: 'script',
                cache: true,
                success: function() {
                    Munchkin.init('759-YLI-316');
                }
            });
        </script>
    </body>
</html>