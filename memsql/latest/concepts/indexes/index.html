<!DOCTYPE html>
    <!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
    <!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <title>Indexes</title> 
        <link rel="shortcut icon" href="../../../static_star_theme/img/favicon.ico"/>
        <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="../../../static_star_theme/css/theme.css" type="text/css" /> 
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
    </head>

    <body class="wy-body-for-nav" role="document">

    <div class="wy-grid-for-nav">

        <div class="wy-full-navbar" data-swiftype-index="false">
            <a href="http://www.memsql.com" class="logo">
                <img src="../../../static_star_theme/img/memsql_logo_horizontal_white.svg" />
            </a>
            <div class="global nav">
                <div class="pull-left left-links">
                </div>
                <div class="pull-right right-links">
                    <a href="http://www.memsql.com/community/" style="word-spacing: 2px;">Community Edition</a>
                    <a href="http://blog.memsql.com">Blog</a>
                    <a href="http://www.memsql.com/memsql-partners">Partners</a>
                    <a href="http://www.memsql.com/resources">Resources</a>
                    <a href="../../../index.html">Documentation</a>
                    <a href="http://www.memsql.com/contact">Contact</a>
                </div>
            </div>
            <div class="nav-links">
                <a href="http://www.memsql.com/product">Product</a>
                <a href="http://www.memsql.com/solutions">Solutions</a>
                <a href="http://www.memsql.com/case-studies">Case Studies</a>
                <a href="http://www.memsql.com/company">Company</a>
                <a class="download" href="http://www.memsql.com/download/">Download Now</a>
            </div>
        </div>

        <nav data-toggle="wy-nav-shift" class="wy-nav-side" data-swiftype-index="false">
            <div class="wy-side-nav-search">
                <div role="search">
  <form id="search-form" class="wy-form" method="get">
    <input type="text" id="st-search-input" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
            </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                
                 <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">MemSQL Docs Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">How MemSQL Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup/quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup/get_started/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/index.html">Operations Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ref/commands_by_type/index.html">SQL Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/config/index.html">Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ops/index.html">MemSQL Ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../loader/index.html">MemSQL Loader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../editions/index.html">MemSQL Editions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">Frequently Asked Questions</a></li>
</ul>
 
            </div>
            &nbsp;
        </nav>

        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
            <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                <a href="../../../index.html" class="logo">
                    <img src="../../../static_star_theme/img/memsql_logo_horizontal_white.svg" />
                    <span class="subtitle">Documentation</span>
                </a>
            </nav>

            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">MemSQL Documentation</a> &raquo;</li>
      
    <li>Indexes</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
                    <div role="main" class="document">
                        
  <div class="section" id="indexes">
<span id="index"></span><h1>Indexes<a class="headerlink" href="index.html#indexes" title="Permalink to this headline">¶</a></h1>
<p>MemSQL, like all SQL databases, allows the creation of indexes on tables, which speed up certain access patterns.
As with MySQL, MemSQL supports two index type keywords. The <cite>BTREE</cite> keyword is for compatibility with MySQL syntax
and will create the default MemSQL skip list index instead. The <cite>CLUSTERED COLUMNSTORE</cite> index type is for <a class="reference internal" href="../columnar/index.html#columnar"><em>columnstore tables</em></a>.</p>
<div class="section" id="skip-list-indexes">
<span id="index-skip-list"></span><h2>Skip List Indexes<a class="headerlink" href="index.html#skip-list-indexes" title="Permalink to this headline">¶</a></h2>
<p>The default index type in MemSQL is a skip list. Skip lists in MemSQL are meant to replace the B-Tree indexes used by most other databases, including MySQL. Skip lists are optimized to run
in memory as they can be implemented lock free and offer extremely fast insert performance. Like B-Trees, they offer an expected <cite>O(log(n))</cite> lookup performance and can be traversed in sorted order.</p>
<p>Unlike B-Trees in MySQL, skip lists in MemSQL are uni-directional (singly linked). Each column in a compound skip list index can be specified as ascending (<tt class="docutils literal"><span class="pre">ASC</span></tt>) or descending (<tt class="docutils literal"><span class="pre">DESC</span></tt>). The default is <tt class="docutils literal"><span class="pre">ASC</span></tt>.
Which one you pick will not impact lookup performance but it does impact scan performance depending on the direction the index is scanned.  Scanning a skip list in reverse order is approximately twice as costly as
scanning in forward order. So, if you have an <tt class="docutils literal"><span class="pre">ASC</span></tt> index and you run a query that would traverse the index in descending order (<tt class="docutils literal"><span class="pre">ORDER</span> <span class="pre">BY</span> <span class="pre">DESC</span></tt> for example), then the query will require a more expensive iteration
than if the index were <tt class="docutils literal"><span class="pre">DESC</span></tt>.</p>
</div>
<div class="section" id="column-store-indexes">
<span id="column-store-index"></span><h2>Column Store Indexes<a class="headerlink" href="index.html#column-store-indexes" title="Permalink to this headline">¶</a></h2>
<p>Column store indexes leverage column store technology to efficiently store and retrieve large number of values from disk (using flash or SSD is recommended). Because column store indexes typically provide significant data compression, are backed by disk, and thus don&#8217;t have the requirement that all data must fit in memory which other types of indexes in MemSQL do, they are typically very useful for analytical workloads. MemSQL currently support clustered column store indexes which, when added to a table, will make the entire table structure backed by the column store. Currently column store indexes cannot be combined with in-memory row store indexes on the same table. For more information about using column store indexes in MemSQL, see <a class="reference internal" href="../columnar/index.html#columnar"><em>Column Store</em></a></p>
</div>
<div class="section" id="hash-table-indexes">
<span id="index-hash-table"></span><h2>Hash Table Indexes<a class="headerlink" href="index.html#hash-table-indexes" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">HASH</span></tt> indexes are intended to provide fast exact-match access to unique values. This means <tt class="docutils literal"><span class="pre">HASH</span></tt> indexes are a good choice for speeding up queries that use equality predicates, such as <tt class="docutils literal"><span class="pre">SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">tbl</span> <span class="pre">WHERE</span> <span class="pre">id=3</span> <span class="pre">OR</span> <span class="pre">id=714928</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">HASH indexes are only possible on the primary key of a table, and are not optimized for range scans or distributed joins.
We strongly recommend using the default skip list index first, and only consider HASH indexes when there is a demonstrated
need and measurable benefit on your particular dataset and workload.</p>
</div>
</div>
<div class="section" id="runtime-plan-choosing">
<span id="index-runtime-plans"></span><h2>Runtime Plan Choosing<a class="headerlink" href="index.html#runtime-plan-choosing" title="Permalink to this headline">¶</a></h2>
<p>MemSQL can dynamically select which index to use for a query at runtime. Instead of collecting statistics and building histograms, MemSQL can compute these statistics for a given
query on-demand by inspecting its indexes. If a query can match more than one index, MemSQL compiles an execution plan for each choice, along with the necessary
expression logic to cheaply analyze and evaluate which plan to choose at runtime. This process eliminates the need to manually recompute statistics on indexes.</p>
</div>
<div class="section" id="index-hints">
<span id="id1"></span><h2>Index Hints<a class="headerlink" href="index.html#index-hints" title="Permalink to this headline">¶</a></h2>
<p>MemSQL supports the following index hint syntax:</p>
<div class="highlight-none"><div class="highlight"><pre>tbl_name [index_hint]

index_hint:
    USE {INDEX | KEY} (index_list)
  | IGNORE {INDEX | KEY} (index_list)
  | FORCE {INDEX | KEY} (index_list)

index_list:
    index_name [, index_name] ...
</pre></div>
</div>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">USE</span></tt> and <tt class="docutils literal"><span class="pre">FORCE</span></tt> hints force the use of one of the specified indexes to run the query.  In MemSQL, there is no difference between a <tt class="docutils literal"><span class="pre">USE</span></tt> and <tt class="docutils literal"><span class="pre">FORCE</span></tt> hint.</li>
<li><tt class="docutils literal"><span class="pre">IGNORE</span></tt> hints disallow the specified indexes from being used to run the query.</li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">EXPLAIN</span> <span class="pre">&lt;query&gt;</span></tt> statement can be used to show which indexes the query considers and which one it will actually use.</p>
</div>
<div class="section" id="index-commands">
<span id="id2"></span><h2>Index Commands<a class="headerlink" href="index.html#index-commands" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../../ref/CREATE_INDEX/index.html"><em>CREATE INDEX</em></a></li>
<li><a class="reference internal" href="../../ref/DROP_INDEX/index.html"><em>DROP INDEX</em></a></li>
<li><a class="reference internal" href="../../ref/SHOW_INDEX/index.html"><em>SHOW INDEX</em></a></li>
<li><a class="reference internal" href="../../ref/SHOW_INDEXES/index.html"><em>SHOW INDEXES</em></a></li>
<li><a class="reference internal" href="../../ref/SHOW_KEYS/index.html"><em>SHOW KEYS</em></a></li>
<li><a class="reference internal" href="../../ref/EXPLAIN/index.html"><em>EXPLAIN</em></a></li>
</ul>
<div class="section" id="related-topics">
<h3>Related Topics<a class="headerlink" href="index.html#related-topics" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="../database/index.html#database"><em>Databases</em></a></li>
<li><a class="reference internal" href="../table/index.html#table"><em>Tables</em></a></li>
<li><a class="reference internal" href="../schema/index.html#schema"><em>Schemas</em></a></li>
<li><a class="reference internal" href="../../admin/index.html"><em>Operations Manual</em></a></li>
<li><a class="reference internal" href="../key_concepts/index.html#key-concepts"><em>Database Key Concepts</em></a></li>
</ul>
</div>
</div>
</div>


                    </div>
                    <footer data-swiftype-index="false">
  

  <hr/>

  <div role="contentinfo">
    <p>&copy; Copyright 2015, MemSQL</p>
  </div>
</footer>
                </div>
            </div>

        </section>
    </div>

    <script type="text/javascript" src="../../../static_star_theme/js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/underscore-min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.ba-hashchange.min.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.swiftype.search.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/jquery.swiftype.autocomplete.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/theme.js"></script>
    <script type="text/javascript" src="../../../static_star_theme/js/search.js"></script> 

        <!-- Google Analytics -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-21693588-3', 'auto');
            ga('send', 'pageview');
        </script>
        <!-- End Google Analytics -->

        <script type="text/javascript">
            $.ajax({
                url: document.location.protocol + '//munchkin.marketo.net/munchkin.js',
                dataType: 'script',
                cache: true,
                success: function() {
                    Munchkin.init('759-YLI-316');
                }
            });
        </script>
    </body>
</html>