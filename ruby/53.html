<html><HEAD><TITLE>13、类 - RUBY文档中心</TITLE>
<STYLE type=text/css>
<!--
.code2 {font-size:14.7px;font-family:arial;color:#00009a;line-height:150%;background-color:#EFEFEF;height=25px;vertical-align=middle;margin-left: 20px;}
.code {font-size:14.7px;font-family:arial;color:#00009a;background-color:#EFEFEF;line-height: 150%}
.quote {font-size:14.7px;font-family:arial;color:#666666;line-height:150%;}
-->
</STYLE>

<META http-equiv=Content-Type content="text/html; charset=gb2312"><LINK href="53_files/news[1].css"  rel=stylesheet></head>
<BODY topMargin=0>
<STYLE type=text/css>
<!--
body {
	margin-top: 50px;
}
.style12 {font-size: 33px}
.style15 {
	font-family: Georgia, "Times New Roman", Times, serif;
	font-weight: bold;
}
.style17 {font-family: "黑体", "楷体_GB2312", "新宋体"}
.style18 {font-size: 12px}
-->
</STYLE>


<TABLE style="BORDER-RIGHT: #929292 1px groove; BORDER-LEFT: #929292 1px groove" cellSpacing=0 cellPadding=3 width=772 align=center bgColor=#ffffff border=0>
<TBODY>
<TR>
<TD height=20></TD></TR>
<TR>
<TD bgColor=#8acd38 height=30>&nbsp;</TD></TR>
<TR>
<TD height=50></TD></TR></TBODY></TABLE>
<TABLE style="BORDER-RIGHT: #929292 1px groove; BORDER-LEFT: #ffffff 1px groove" borderColor=#ffffff cellSpacing=0 cellPadding=3 width=772 align=center bgColor=#ffffff border=0>
<TBODY>
<TR>
<TD align=middle>
<DIV class=moer-title><IMG src="51_files/logo_read[1].gif" > 13、类</DIV>
<P>原创：夏克　　发表时间：2005-6-3 2:11:01　　点击次数：207 </P></TD></TR>
<TR>
<TD height=50></TD></TR></TBODY></TABLE>
<TABLE style="BORDER-RIGHT: #929292 1px groove; BORDER-LEFT: #ffffff 1px groove" borderColor=#ffffff cellSpacing=0 cellPadding=3 width=772 align=center bgColor=#ffffff border=0>
<TBODY>
<TR>
<TD width="10%" bgColor=#ffffff>&nbsp;</TD>
<TD class=moer-ask vAlign=top align=left width="5%" bgColor=#ffffff>&nbsp;</TD>
<TD vAlign=top align=left width="75%">
<TABLE cellSpacing=0 cellPadding=0>
<TBODY>
<TR>
<TD class=moer-content vAlign=top align=left><B>类的定义：&nbsp;</B><BR><BR>前面所用到的String、Array、Sprite等都是类，我们已经使用过系统为它们编好的一些方法了。在&nbsp;puriset&nbsp;的脚本中除去最后的&nbsp;Main脚本全部是类定义。<BR><BR>在例如定义&nbsp;Person&nbsp;的类时是这样的：<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>class&nbsp;Person&nbsp;<BR>end</TD></TR></TBODY></TABLE><BR><BR>上面定义了一个什么都没有的类，但这个类却可以使用，如：<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>alex&nbsp;=&nbsp;Person.new&nbsp;</TD></TR></TBODY></TABLE><BR><BR>也就是说，我们可以实例化这个类。<BR><BR>想要继承也很简单，例如：<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>class&nbsp;Person&nbsp;&lt;&nbsp;Monkey&nbsp;<BR>end</TD></TR></TBODY></TABLE><BR><BR><B>方法的定义：</B><BR><BR>和普通函数的情况相同，如果在类的定义当中上写&nbsp;def..end&nbsp;的内容，那么这个函数就自动成为那个类的方法了：<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>class&nbsp;Person&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;hello<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print"&nbsp;您好&nbsp;"<BR>&nbsp;&nbsp;&nbsp;&nbsp;end<BR>end<BR>alex&nbsp;=&nbsp;Person.new<BR>alex.hello&nbsp;#=&gt;&nbsp;您好</TD></TR></TBODY></TABLE><BR><BR><B>属性：</B><BR><BR>以@为开头的变量名，这个变量自动地作为属性而使用。局部变量只有在&nbsp;def..end&nbsp;等结构内有效，然而如果能使用属性的话，只要对象的实例存在，则属性的值总是被保存。<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>class&nbsp;Person<BR>def&nbsp;name<BR>return&nbsp;@name<BR>end<BR>def&nbsp;name=(name)<BR>@name&nbsp;=&nbsp;name<BR>end<BR>def&nbsp;hello<BR>print"&nbsp;我是&nbsp;"+@&nbsp;name+""<BR>end<BR>end<BR><BR>alex&nbsp;=&nbsp;Person.new<BR>alex.name="&nbsp;Allex"<BR>alex.hello&nbsp;#=&gt;&nbsp;我是&nbsp;Allex&nbsp;</TD></TR></TBODY></TABLE><BR><BR>在这个例子中，&nbsp;@&nbsp;准备&nbsp;name&nbsp;属性，而&nbsp;name()&nbsp;，&nbsp;name=()方法分别定义了如何对@name取值和如何设置@name的值。<BR><BR><B>为属性赋初值：</B><BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>class&nbsp;Person<BR>def&nbsp;initialize<BR>@&nbsp;name="&nbsp;无名先生&nbsp;"<BR>end<BR>end&nbsp;</TD></TR></TBODY></TABLE><BR><BR>这样在实例化对象的时候，会默认先调用initialize方法来为@name赋初值<BR><BR>如果在&nbsp;initialize&nbsp;方法中加入参数，&nbsp;new&nbsp;会取那个参数。<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>class&nbsp;Person<BR>def&nbsp;initialize(name)<BR>@name&nbsp;=&nbsp;name<BR>end<BR>end<BR><BR>alex=&nbsp;Person.new("&nbsp;Allex")&nbsp;</TD></TR></TBODY></TABLE><BR><BR>在这个例子中，&nbsp;initialize&nbsp;方法把参数&nbsp;name&nbsp;的取值赋给属性&nbsp;@name作为初值。<BR><BR><B>方法的重载：</B><BR><BR>在子类里,我们可以通过重载父类方法来改变实体的行为，如果我们只是想增强父类的&nbsp;identify&nbsp;方法而不是完全地替代它,就可以用&nbsp;super。<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>class&nbsp;Hahaha<BR>def&nbsp;laugh(x)<BR>return"&nbsp;是&nbsp;"*&nbsp;x<BR>end<BR>end<BR><BR>class&nbsp;Wahaha&nbsp;&lt;&nbsp;Hahaha<BR>def&nbsp;laugh(x)<BR>return"&nbsp;哇&nbsp;"+&nbsp;super<BR>end<BR>end<BR><BR>man&nbsp;=&nbsp;Wahaha.new<BR>p&nbsp;man.laugh(4)&nbsp;#=&gt;"&nbsp;哇是是是是&nbsp;"&nbsp;</TD></TR></TBODY></TABLE><BR><BR>super总是返回父类返回的值。<BR></TD></TR>
<TR>
<TD class=moer-content vAlign=top align=left height=30></TD></TR>
<TR>
<TD vAlign=top align=left><SPAN style="FONT-WEIGHT: bold; FONT-SIZE: 12px">版权声明：</SPAN>RUBY文档中心的所有文章标明[<B>原创</B>]的均为本站作品，版权属RUBY中文化计划，若转载请注明；标明[<B>翻译</B>]的其外文版权归原作者，译文版权属RUBY中文化计划；标明[<B>转贴</B>]的，若原作者感到侵犯了他的著作权，那么请及时跟主持人联系，我们会尽快更正。</TD></TR></TBODY></TABLE></TD>
<TD width="10%" bgColor=#ffffff>&nbsp;</TD></TR></TBODY></TABLE>
<STYLE type=text/css>
<!--
body {
	margin-bottom: 20px;
}
-->
</STYLE>

<TABLE style="BORDER-RIGHT: #929292 1px groove; BORDER-LEFT: #929292 1px groove; BORDER-BOTTOM: #929292 1px groove" cellSpacing=0 cellPadding=0 width=772 align=center>
<TBODY>
<TR>
<TD bgColor=#ffffff>
<DIV align=center>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P><IMG height=11 src="55_files/logo_small[1].gif"  width=8> 版权所有(C) <A href="http://www.moer.net/ruby/index.asp" >RUBY中文化计划</A></P>
<P>&nbsp;</P>
<P>&nbsp;</P></DIV></TD></TR></TBODY></TABLE>
<DIV align=center></DIV>
<div style="display:none;">
<script type="text/javascript" src="http://shouce.jb51.net/js/stat.js" ></script>
</div>
</BODY>