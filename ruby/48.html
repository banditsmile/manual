<html><HEAD><TITLE>8、函数 - RUBY文档中心</TITLE>
<STYLE type=text/css>
<!--
.code2 {font-size:14.7px;font-family:arial;color:#00009a;line-height:150%;background-color:#EFEFEF;height=25px;vertical-align=middle;margin-left: 20px;}
.code {font-size:14.7px;font-family:arial;color:#00009a;background-color:#EFEFEF;line-height: 150%}
.quote {font-size:14.7px;font-family:arial;color:#666666;line-height:150%;}
-->
</STYLE>

<META http-equiv=Content-Type content="text/html; charset=gb2312"><LINK href="48_files/news[1].css"  rel=stylesheet></head>
<BODY topMargin=0>
<STYLE type=text/css>
<!--
body {
	margin-top: 50px;
}
.style12 {font-size: 33px}
.style15 {
	font-family: Georgia, "Times New Roman", Times, serif;
	font-weight: bold;
}
.style17 {font-family: "黑体", "楷体_GB2312", "新宋体"}
.style18 {font-size: 12px}
-->
</STYLE>


<TABLE style="BORDER-RIGHT: #929292 1px groove; BORDER-LEFT: #929292 1px groove" cellSpacing=0 cellPadding=3 width=772 align=center bgColor=#ffffff border=0>
<TBODY>
<TR>
<TD height=20></TD></TR>
<TR>
<TD bgColor=#8acd38 height=30>&nbsp;</TD></TR>
<TR>
<TD height=50></TD></TR></TBODY></TABLE>
<TABLE style="BORDER-RIGHT: #929292 1px groove; BORDER-LEFT: #ffffff 1px groove" borderColor=#ffffff cellSpacing=0 cellPadding=3 width=772 align=center bgColor=#ffffff border=0>
<TBODY>
<TR>
<TD align=middle>
<DIV class=moer-title><IMG src="51_files/logo_read[1].gif" > 8、函数</DIV>
<P>原创：夏克　　发表时间：2005-6-3 1:55:05　　点击次数：213 </P></TD></TR>
<TR>
<TD height=50></TD></TR></TBODY></TABLE>
<TABLE style="BORDER-RIGHT: #929292 1px groove; BORDER-LEFT: #ffffff 1px groove" borderColor=#ffffff cellSpacing=0 cellPadding=3 width=772 align=center bgColor=#ffffff border=0>
<TBODY>
<TR>
<TD width="10%" bgColor=#ffffff>&nbsp;</TD>
<TD class=moer-ask vAlign=top align=left width="5%" bgColor=#ffffff>&nbsp;</TD>
<TD vAlign=top align=left width="75%">
<TABLE cellSpacing=0 cellPadding=0>
<TBODY>
<TR>
<TD class=moer-content vAlign=top align=left><B>函数的概念：&nbsp;</B><BR><BR>我们把事先编好的，能够解决或者说处理某种情况的功能的集合叫做函数。不必在意概念，用得多了自然就明白。其实我们一直在使用的p,print就是函数的一种，下面介绍一个很有用的函数，随机函数rand()：<BR><BR>rand(x)返回0-(xx-1)范围内的随机数，例如：<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>p&nbsp;rand(100)&nbsp;</TD></TR></TBODY></TABLE><BR><BR>返回的数字在0-99范围内。<BR><BR>我们也可以设计自己的函数以便增加我们需要的功能，更多的时候，我们大多数时间是在跟函数打交道。<BR><BR><B>函数的声明：</B><BR><BR>函数的名字基本上和变量的名字有着相同的限制，例外的情况是，函数可以在名字的最后添加?或!符号，这种符号有着特殊的用处，以后会讲到。<BR><BR>函数的声明要用def..end语句，形如：<BR>def&nbsp;函数名字<BR>语句<BR>end<BR><BR>我们用rand函数来设计一个自己的函数bet()：<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>def&nbsp;bet<BR>&nbsp;&nbsp;if&nbsp;rand(6)&gt;3<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;"大"<BR>&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;"小"<BR>&nbsp;&nbsp;end<BR>end&nbsp;<BR>print&nbsp;bet</TD></TR></TBODY></TABLE><BR>&nbsp;<BR>这里的return表示函数返回的值，如果省略return也可以，但最好带上，能够使程序可读性更好。<BR><BR>我们给bet函数增加参数：<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>def&nbsp;bet(x)<BR>&nbsp;&nbsp;if&nbsp;rand(x)&gt;3<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;"大"<BR>&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;"小"<BR>&nbsp;&nbsp;end<BR>end&nbsp;<BR>print&nbsp;bet(7)</TD></TR></TBODY></TABLE>&nbsp;<BR><BR>还可以为参数设置默认值:<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>def&nbsp;bet(x=7)<BR>&nbsp;&nbsp;if&nbsp;rand(x)&gt;3<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;"大"<BR>&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;"小"<BR>&nbsp;&nbsp;end<BR>end&nbsp;<BR>print&nbsp;bet&nbsp;&nbsp;&nbsp;#这和print&nbsp;bet(7)一样</TD></TR></TBODY></TABLE><BR>&nbsp;<BR>函数可以有很多参数：<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>def&nbsp;bet(x,y,z)<BR>if&nbsp;rand(x)&gt;3&nbsp;and&nbsp;rand(y)&gt;3&nbsp;and&nbsp;rand(z)&gt;3<BR>return&nbsp;"大"<BR>else<BR>return&nbsp;"小"<BR>end<BR>end&nbsp;<BR>print&nbsp;bet(7,6,10)</TD></TR></TBODY></TABLE><BR>&nbsp;<BR><BR><B>重定义函数：</B><BR><BR>如果定义了两次相同的函数，则只有后面定义的函数有效，而先前的定义就无效了。<BR><BR>
<TABLE cellSpacing=0 cellPadding=5 width="100%">
<TBODY>
<TR>
<TD class=code id=code>def&nbsp;hello<BR>return"&nbsp;您好&nbsp;"<BR>end<BR><BR>def&nbsp;hello<BR>return"&nbsp;晚安&nbsp;"<BR>end<BR><BR>p&nbsp;hello&nbsp;#=&gt;"&nbsp;晚安&nbsp;"&nbsp;</TD></TR></TBODY></TABLE><BR></TD></TR>
<TR>
<TD class=moer-content vAlign=top align=left height=30></TD></TR>
<TR>
<TD vAlign=top align=left><SPAN style="FONT-WEIGHT: bold; FONT-SIZE: 12px">版权声明：</SPAN>RUBY文档中心的所有文章标明[<B>原创</B>]的均为本站作品，版权属RUBY中文化计划，若转载请注明；标明[<B>翻译</B>]的其外文版权归原作者，译文版权属RUBY中文化计划；标明[<B>转贴</B>]的，若原作者感到侵犯了他的著作权，那么请及时跟主持人联系，我们会尽快更正。</TD></TR></TBODY></TABLE></TD>
<TD width="10%" bgColor=#ffffff>&nbsp;</TD></TR></TBODY></TABLE>
<STYLE type=text/css>
<!--
body {
	margin-bottom: 20px;
}
-->
</STYLE>

<TABLE style="BORDER-RIGHT: #929292 1px groove; BORDER-LEFT: #929292 1px groove; BORDER-BOTTOM: #929292 1px groove" cellSpacing=0 cellPadding=0 width=772 align=center>
<TBODY>
<TR>
<TD bgColor=#ffffff>
<DIV align=center>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P><IMG height=11 src="55_files/logo_small[1].gif"  width=8> 版权所有(C) <A href="http://www.moer.net/ruby/index.asp" >RUBY中文化计划</A></P>
<P>&nbsp;</P>
<P>&nbsp;</P></DIV></TD></TR></TBODY></TABLE>
<DIV align=center></DIV>
<div style="display:none;">
<script type="text/javascript" src="http://shouce.jb51.net/js/stat.js" ></script>
</div>
</BODY>