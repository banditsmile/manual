<html><HEAD><TITLE>Ruby参考手册 - 内部常数</TITLE>
<META http-equiv=Content-type content="text/html; charset=gb2312">
<META http-equiv=Content-Style-Type content=text/css><LINK href="82_files/style[1].css"  type=text/css rel=stylesheet></head>
<BODY>
<DIV class=navi><A id=header-navi name=head-navi></A><SPAN class=navi>[<A href="61.html" >Ruby首页</A>]</SPAN>  </DIV>
<DIV class=body>
<H1><A id=a.c1.c8.a4.df.b9.fe.a4.df.c4.ea.bf.f4 name=a.c1.c8.a4.df.b9.fe.a4.df.c4.ea.bf.f4>内部常数</A><!-- RDLabel: "内部常数" --></H1>
<DL>
<DT><A id=TRUE name=TRUE><CODE>TRUE ((&lt;<VAR>obsolete</VAR>&gt;))</CODE></A><!-- RDLabel: "TRUE" --> 
<DD>
<P>真值的代表。与true相同。Ruby中把所有非伪值(即非false又非nil的值)都看作真。(请参考<FONT color=blue>obsolete</FONT>。)</P>
<DT><A id=FALSE name=FALSE><CODE>FALSE ((&lt;<VAR>obsolete</VAR>&gt;))</CODE></A><!-- RDLabel: "FALSE" --> 
<DD>
<P>伪值。与false相同。(请参考<FONT color=blue>obsolete</FONT>。)</P>
<DT><A id=NIL name=NIL><CODE>NIL ((&lt;<VAR>obsolete</VAR>&gt;))</CODE></A><!-- RDLabel: "NIL" --> 
<DD>
<P>与nil相同。(请参考<FONT color=blue>obsolete</FONT>。)</P>
<DT><A id=STDIN name=STDIN><CODE>STDIN</CODE></A><!-- RDLabel: "STDIN" --> 
<DD>
<P>标准输入。<FONT color=blue>$stdin</FONT>的默认值。</P>
<DT><A id=STDOUT name=STDOUT><CODE>STDOUT</CODE></A><!-- RDLabel: "STDOUT" --> 
<DD>
<P>标准输出。<FONT color=blue>$stdout</FONT>的默认值。</P>
<DT><A id=STDERR name=STDERR><CODE>STDERR</CODE></A><!-- RDLabel: "STDERR" --> 
<DD>
<P>标准错误输出。<FONT color=blue>$stderr</FONT>的默认值。</P>
<DT><A id=ENV name=ENV><CODE>ENV</CODE></A><!-- RDLabel: "ENV" --> 
<DD>
<P>表示环境变量的(伪)哈希表(详情请参考<FONT color=blue>ENV</FONT>)。若改变该哈希表的值时，将作为子进程环境而被继承下来。</P>
<DT><A id=ARGF name=ARGF><CODE>ARGF</CODE></A><!-- RDLabel: "ARGF" --> 
<DD>
<P>由参数(若没的话就使用标准输入)构成的虚拟文件(详情请参考<FONT color=blue>ARGF</FONT>)。也就是说，<FONT color=blue>gets</FONT>与<FONT color=blue>ARGF.gets</FONT>的意义相同。可以使用<FONT color=blue>ARGF.file</FONT>得到当前读入的文件对象，使用<FONT color=blue>ARGF.filename</FONT>得到当前读入的文件名。</P>
<DT><A id=ARGV name=ARGV><CODE>ARGV</CODE></A><!-- RDLabel: "ARGV" --> 
<DD>
<P>传给Ruby脚本的参数。内部变量<FONT color=blue>$*</FONT>的别名。而面向Ruby自身的参数已经被摘除。</P>
<DT><A id=DATA name=DATA><CODE>DATA</CODE></A><!-- RDLabel: "DATA" --> 
<DD>
<P>访问脚本中<CODE>__END__</CODE>(<FONT color=blue>脚本终点</FONT>)以后部分的<FONT color=blue>File</FONT>对象。</P>
<P><EM>注意</EM>:</P>
<UL>
<LI>使用<CODE>DATA.rewind</CODE>后的读取位置不再是<CODE>__END__</CODE>后面，而是脚本文件的开头。 
<LI>若读入脚本时使用的是标准输入的话，则为标准输入。 
<LI>如果读入脚本时并没有使用文件或标准输入，或者脚本并非以<CODE>__END__</CODE>结束时，则该定义将不再适用。 
<LI>即使用<FONT color=blue>require</FONT>或<FONT color=blue>load</FONT>加载文件时，也并不是指该文件(_FILE_)，而是指运行文件($0)。 </LI></UL>
<DT><A id=TOPLEVEL_BINDING name=TOPLEVEL_BINDING><CODE>TOPLEVEL_BINDING</CODE></A><!-- RDLabel: "TOPLEVEL_BINDING" --> 
<DD>
<P>顶层中的<FONT color=blue>Binding</FONT>对象。</P>
<DT><A id=RUBY_VERSION name=RUBY_VERSION><CODE>RUBY_VERSION</CODE></A><!-- RDLabel: "RUBY_VERSION" --> 
<DD>
<P>显示Ruby版本的字符串。Ruby版本信息的形式为<VAR>major</VAR>.<VAR>minor</VAR>.<VAR>teeny</VAR>。(当前)各个号码的位数不会超过2位，因此</P><PRE>if RUBY_VERSION &gt;= '1.6.7'
  # 在1.6.7以后的版本中有效的操作
else
  # 在此之前的版本中有效地操作
end
</PRE>
<P>按照版本信息的不同来进行分支处理。</P>
<P>在1.8以前的版本中，minor是奇数时则为开发版，minor是偶数时则为稳定版。在1.9.0以后的版本中，teeny为0的版本是开发版。</P>
<DT><A id=RUBY_RELEASE_DATE name=RUBY_RELEASE_DATE><CODE>RUBY_RELEASE_DATE</CODE></A><!-- RDLabel: "RUBY_RELEASE_DATE" --> 
<DD>
<P>显示Ruby发布日期的字符串。</P>
<DT><A id=RUBY_PLATFORM name=RUBY_PLATFORM><CODE>RUBY_PLATFORM</CODE></A><!-- RDLabel: "RUBY_PLATFORM" --> 
<DD>
<P>显示平台信息的字符串。</P>
<DT><A id=VERSION name=VERSION><CODE>VERSION ((&lt;<VAR>obsolete</VAR>&gt;))</CODE></A><!-- RDLabel: "VERSION" --> 
<DT><A id=RELEASE_DATE name=RELEASE_DATE><CODE>RELEASE_DATE ((&lt;<VAR>obsolete</VAR>&gt;))</CODE></A><!-- RDLabel: "RELEASE_DATE" --> 
<DT><A id=PLATFORM name=PLATFORM><CODE>PLATFORM ((&lt;<VAR>obsolete</VAR>&gt;))</CODE></A><!-- RDLabel: "PLATFORM" --> 
<DD>
<P>这些都是前面那些常数<CODE>RUBY_XXX</CODE>的旧名称。请参考<FONT color=blue>obsolete</FONT>。</P>
<P><FONT color=blue>ruby 1.9 特性</FONT>: 这些常数已经停用。</P>
<DT><A id=SCRIPT_LINES__ name=SCRIPT_LINES__><CODE>SCRIPT_LINES__</CODE></A><!-- RDLabel: "SCRIPT_LINES__" --> 
<DD>
<P>默认情况下，该常数不会被定义。</P>
<P>若将该常数定义为哈希表后，在<EM>编译</EM>源代码时，源文件名将成为哈希表元素的索引，而源文件的内容会被按行切分后转化为数组，该数组将成为哈希表元素的内容。在调试(<FONT color=blue>debug.rb</FONT>)等场合会用到该常数。</P><PRE>SCRIPT_LINES__ = {}
require 'English'
p SCRIPT_LINES__

# 注: 输出内容被处理过。
# =&gt; {"/usr/local/lib/ruby/1.6/English.rb"=&gt;
      ["alias $ERROR_INFO              $!\n",
       "alias $ERROR_POSITION          $@\n",
       "alias $LOADED_FEATURES         $\"\n",
                :
                :
       "alias $POSTMATCH               $'\n",
       "alias $LAST_PAREN_MATCH        $+\n"]}
</PRE>
<P>另外,只有在<FONT color=blue>$SAFE</FONT>等级为0时才有效。同时，也不能由<FONT color=blue>eval</FONT>进行编译。</P></DD></DL></DIV>
<HR>

<DIV class=footer>Originally Written by webmaster@ruby-lang.org<BR>Translated by <A href="http://cn.ce-lab.net/" >Community Engine China</A> (<A href="mailto:rubycn@ce-lab.net">Mail</A>)<BR>Last update on 2004-12-22 </DIV></BODY>